(self.webpackChunkangular_app_with_expressjs=self.webpackChunkangular_app_with_expressjs||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>en,tb:()=>_l,AFp:()=>fl,ip1:()=>hl,CZH:()=>dl,hGG:()=>hc,z2F:()=>ec,sBO:()=>fa,Sil:()=>Tl,_Vd:()=>Mo,EJc:()=>wl,SBq:()=>Uo,qLn:()=>yr,vpe:()=>Wa,gxx:()=>rs,tBr:()=>Cn,XFs:()=>T,OlP:()=>tn,zs3:()=>_s,ZZ4:()=>oa,aQg:()=>la,soG:()=>bl,YKP:()=>Ca,v3s:()=>rc,h0i:()=>Sa,PXZ:()=>Kl,R0b:()=>Ll,FiY:()=>kn,Lbi:()=>yl,g9A:()=>ml,Qsj:()=>Ho,FYo:()=>Vo,JOm:()=>br,Tiy:()=>Go,q3G:()=>hr,tp0:()=>xn,EAV:()=>oc,Rgc:()=>_a,dDg:()=>ql,DyG:()=>nn,q4F:()=>$o,GfV:()=>Zo,s_b:()=>xa,ifc:()=>D,eFA:()=>Ql,G48:()=>$l,Gpc:()=>f,f3M:()=>bn,X6Q:()=>Zl,_c5:()=>cc,VLi:()=>zl,c2e:()=>vl,zSh:()=>ss,wAp:()=>Co,vHH:()=>m,EiD:()=>cr,mCW:()=>Gn,qzn:()=>Dn,JVY:()=>Mn,pB0:()=>Un,eBb:()=>qn,L6k:()=>jn,LAX:()=>Bn,cg1:()=>bo,Tjo:()=>lc,kL8:()=>wo,yhl:()=>Fn,dqk:()=>B,sIi:()=>Is,CqO:()=>Gs,QGY:()=>Hs,F4k:()=>Ws,RDi:()=>kt,AaK:()=>u,z3N:()=>On,qOj:()=>bs,TTD:()=>_t,_Bn:()=>Oo,xp6:()=>ai,uIk:()=>Ps,ekj:()=>so,Suo:()=>sl,Xpm:()=>Q,lG2:()=>it,Yz7:()=>b,cJS:()=>w,oAB:()=>et,Yjl:()=>st,Y36:()=>Os,_UZ:()=>qs,GkF:()=>zs,BQk:()=>Us,ynx:()=>Bs,qZA:()=>js,TgZ:()=>Ms,EpF:()=>Vs,n5z:()=>Ye,Ikx:()=>go,LFG:()=>vn,$8M:()=>Qe,NdJ:()=>Zs,CRH:()=>ol,oxw:()=>Js,ALo:()=>za,lcZ:()=>Va,Hsn:()=>eo,F$t:()=>to,Q6J:()=>Ds,VKq:()=>Ba,iGM:()=>rl,MAs:()=>Rs,CHM:()=>zt,LSH:()=>dr,kYT:()=>nt,Udp:()=>io,WFA:()=>$s,d8E:()=>mo,YNc:()=>Ls,W1O:()=>ul,_uU:()=>ho,Oqu:()=>fo,hij:()=>po,Gf:()=>il});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(8819);function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${_(t)} found${n}`)}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,x)||C(t,E)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(I))?t[A]:null}const x=l({"\u0275prov":l}),A=l({"\u0275inj":l}),E=l({ngInjectableDef:l}),I=l({ngInjectorDef:l});var T=(()=>((T=T||{})[T.Default=0]="Default",T[T.Host=1]="Host",T[T.Self=2]="Self",T[T.SkipSelf=4]="SkipSelf",T[T.Optional=8]="Optional",T))();let N;function P(t){const e=N;return N=t,e}function L(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&T.Optional?null:void 0!==e?e:void v(u(t),"Injector")}function R(t){return{toString:t}.toString()}var O=(()=>((O=O||{})[O.OnPush=0]="OnPush",O[O.Default=1]="Default",O))(),D=(()=>((D=D||{})[D.Emulated=0]="Emulated",D[D.None=2]="None",D[D.ShadowDom=3]="ShadowDom",D))();const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||M||j,U={},z=[],V=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),G=l({"\u0275mod":l}),Z=l({"\u0275loc":l}),$=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let K=0;function Q(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===O.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=K++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(t){return ot(t)||function(t){return t[H]||null}(t)}function X(t){return function(t){return t[W]||null}(t)}const tt={};function et(t){return R(()=>{const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return R(()=>{const n=at(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function rt(t,e){if(null==t)return U;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const it=Q;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ot(t){return t[V]||null}function at(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const lt=20,ct=10;function ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function ft(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty($)?t[$]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),bt}function bt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===U)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:U,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new yt(l&&l.currentValue,e,o===U),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Ct;function kt(t){Ct=t}function xt(t){return!!t.listen}_t.ngInherit=!0;const At={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function Et(t){for(;Array.isArray(t);)t=t[0];return t}function It(t,e){return Et(e[t])}function Tt(t,e){return Et(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ut(n)?n:n[0]}function Rt(t){return 4==(4&t[2])}function Ot(t){return 128==(128&t[2])}function Dt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const jt={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return jt.bindingsEnabled}function Bt(){return jt.lFrame.lView}function Ut(){return jt.lFrame.tView}function zt(t){return jt.lFrame.contextLView=t,t[8]}function Vt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return jt.lFrame.currentTNode}function Wt(t,e){const n=jt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return jt.lFrame.isParent}function Zt(){jt.lFrame.isParent=!1}function $t(){return jt.isInCheckNoChangesMode}function Yt(t){jt.isInCheckNoChangesMode=t}function Kt(){const t=jt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qt(){return jt.lFrame.bindingIndex++}function Jt(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xt(e)}function Xt(t){jt.lFrame.currentDirectiveIndex=t}function te(t){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ee(){return jt.lFrame.currentQueryIndex}function ne(t){jt.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&T.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&T.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=jt.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=oe(),n=t[1];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=le;function ue(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return jt.lFrame.selectedIndex}function de(t){jt.lFrame.selectedIndex=t}function fe(){const t=jt.lFrame;return Nt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){_e(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ve(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const be=-1;class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];ke(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ce(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ee(t){return t!==be}function Ie(t){return 32767&t}function Te(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function Pe(t){const e=Ne;return Ne=t,e}let Le=0;function Re(t,e){const n=De(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Oe(r.data,t),Oe(e,null),Oe(r.blueprint,null));const i=Fe(t,e),s=t.injectorIndex;if(Ee(i)){const t=Ie(i),n=Te(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Oe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function De(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return be;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return be}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Le++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function je(t,e,n){if(n&T.Optional)return t;v(e,"NodeInjector")}function qe(t,e,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const i=t[9],s=P(void 0);try{return i?i.get(e,r,n&T.Optional):L(e,r,n&T.Optional)}finally{P(s)}}return je(r,e,n)}function Be(t,e,n,r=T.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof s){if(!ie(e,t,r))return r&T.Host?je(i,n,r):qe(e,n,r,i);try{const t=s(r);if(null!=t||r&T.Optional)return t;v(n)}finally{ce()}}else if("number"==typeof s){let i=null,o=De(t,e),a=be,l=r&T.Host?e[16][6]:null;for((-1===o||r&T.SkipSelf)&&(a=-1===o?Fe(t,e):e[o+8],a!==be&&Ze(r,!1)?(i=e[1],o=Ie(a),e=Te(a,e)):o=-1);-1!==o;){const t=e[1];if(Ge(s,o,t.data)){const t=Ve(o,e,n,i,r,l);if(t!==Ue)return t}a=e[o+8],a!==be&&Ze(r,e[1].data[o+8]===l)&&Ge(s,o,e)?(i=t,o=Ie(a),e=Te(a,e)):o=-1}}}return qe(e,n,r,i)}const Ue={};function ze(){return new $e(Vt(),Bt())}function Ve(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=He(a,o,n,null==r?ft(a)&&Ne:r!=o&&0!=(3&a.type),i&T.Host&&s===a);return null!==l?We(e,o,l,a):Ue}function He(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&gt(t)&&t.type===n)return l}return null}function We(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof we){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?P(o.injectImpl):null;ie(t,r,T.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&P(l),Pe(a),o.resolving=!1,ce()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ze(t,e){return!(t&T.Self||t&T.Host&&e)}class $e{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return R(()=>{const e=t.prototype.constructor,n=e[$]||Ke(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||Ke(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ke(t){return g(t)?()=>{const e=Ke(p(t));return e&&e()}:mt(t)}function Qe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ce(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Vt(),t)}const Je="__parameters__";function Xe(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const dn={},fn=/\n/gm,pn="__source",gn=l({provide:String,useValue:l});let mn;function yn(t){const e=mn;return mn=t,e}function _n(t,e=T.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?L(t,void 0,e):mn.get(t,e&T.Optional?null:void 0,e)}function vn(t,e=T.Default){return(N||_n)(p(t),e)}const bn=vn;function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=T.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function Sn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=Sn(Xe("Inject",t=>({token:t})),-1),kn=Sn(Xe("Optional"),8),xn=Sn(Xe("SkipSelf"),4);let An;function En(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,B.trustedTypes))try{An=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tn extends In{getTypeName(){return"HTML"}}class Nn extends In{getTypeName(){return"Style"}}class Pn extends In{getTypeName(){return"Script"}}class Ln extends In{getTypeName(){return"URL"}}class Rn extends In{getTypeName(){return"ResourceURL"}}function On(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof In&&t.getTypeName()||null}function Mn(t){return new Tn(t)}function jn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Bn(t){return new Ln(t)}function Un(t){return new Rn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Vn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(Hn)||t.match(Wn)?t:"unsafe:"+t}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=Zn("area,br,col,hr,img,wbr"),Kn=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Zn("rp,rt"),Jn=$n(Qn,Kn),Xn=$n(Yn,$n(Kn,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Qn,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),tr=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Zn("srcset"),nr=$n(tr,er,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Zn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;tr[s]&&(o=Gn(o)),er[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lr;function cr(t,e){let n=null;try{lr=lr||function(t){const e=new Vn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=lr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==s);return En((new ir).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function dr(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Dn(t,"URL")?On(t):Gn(y(t))}function fr(t,e){t.__ngContext__=e}function pr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function gr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class yr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(gr(t)):null}_findOriginalError(t){let e=t&&gr(t);for(;e&&gr(e);)e=gr(e);return e||null}}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function vr(t){return t instanceof Function?t():t}var br=(()=>((br=br||{})[br.Important=1]="Important",br[br.DashCase=2]="DashCase",br))();function wr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return ht(e)?e[3]:e}function Cr(t){return xr(t[13])}function kr(t){return xr(t[4])}function xr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let s,o=!1;ht(r)?s=r:ut(r)&&(o=!0,r=r[0]);const a=Et(r);0===t&&null!==n?null==i?Or(e,n,a):Rr(e,n,a,i||null,!0):1===t&&null!==n?Rr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Fr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Et(n)&&Ar(e,t,r,s,i);for(let o=ct;o<n.length;o++){const i=n[o];Hr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Er(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ir(s,r),e>0&&(t[n-1][4]=r[4]);const o=an(t,ct+e);Hr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Hr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ut(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),ut(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Et(e[t]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return Tt(r,n)}(t,e.parent,n)}function Rr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Or(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?Rr(t,e,n,r,i):Or(t,e,n)}function Fr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n){return jr(t,e,n)}let jr=function(t,e,n){return 40&t.type?Tt(t,n):null};function qr(t,e,n,r){const i=Lr(t,r,e),s=e[11],o=Mr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(s,i,n[a],o,!1);else Dr(s,i,n,o,!1)}function Br(t,e){if(null!==e){const n=e.type;if(3&n)return Tt(e,t);if(4&n)return zr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Br(t,n);{const n=t[e.index];return ht(n)?zr(-1,n):Et(n)}}if(32&n)return wr(e,t)()||Et(t[e.index]);{const n=Ur(t,e);return null!==n?Array.isArray(n)?n[0]:Br(Sr(t[16]),n):Br(t,e.next)}}return null}function Ur(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Br(t,r)}return e[7]}function Vr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&fr(Et(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Vr(t,e,n.child,r,i,s,!1),Ar(e,t,i,a,s);else if(32&l){const o=wr(n,r);let l;for(;l=o();)Ar(e,t,i,l,s);Ar(e,t,i,a,s)}else 16&l?Wr(t,e,r,n,i,s):Ar(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Hr(t,e,n,r,i,s){Vr(n,r,t.firstChild,e,i,s,!1)}function Wr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ar(e,t,i,a[l],s);else Vr(t,e,a,o[3],i,s,!0)}function Gr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Yr="ng-template";function Kr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==Yr}function Jr(t,e,n){return e===(4!==t.type||n?t.value:Yr)}function Xr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ce(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Jr(t,l,n)||""===l&&1===e.length){if(ti(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Kr(t.attrs,c,n)){if(ti(r))return!1;o=!0}continue}const u=ei(8&r?"class":l,i,Qr(t),n);if(-1===u){if(ti(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,c,0)||2&r&&c!==t){if(ti(r))return!1;o=!0}}}}else{if(!o&&!ti(r)&&!ti(l))return!1;if(o&&ti(l))continue;o=!1,r=l|1&r}}return ti(r)||o}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ti(o)||(e+=ii(s,i),i=""),r=o,s=s||!ti(r);n++}return""!==i&&(e+=ii(s,i)),e}const oi={};function ai(t){li(Ut(),Bt(),he()+t,$t())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}de(n)}function ci(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function hi(t){return 2|t}function di(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function gi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ne(i),n.contentQueries(2,e[s],s)}}}function mi(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Ft(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function yi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ht(),o=Gt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),jt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&Yi(1,r,n);const i=t.template;null!==i&&Si(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gi(t,e),t.staticViewQueries&&Yi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const s=$t();try{Ft(e),jt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Si(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ye(e,0)}if(function(t){for(let e=Cr(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Cr(t);null!==e;e=kr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Ot(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&gi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,s=n[++t],o=n[++t];Jt(s,i),o(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Yi(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{ue()}}function wi(t,e,n,r){const i=e[10],s=!$t(),o=Rt(e);try{s&&!o&&i.begin&&i.begin(),o&&vi(t,e,r),bi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Si(t,e,n,r,i){const s=he(),o=2&r;try{de(-1),o&&e.length>lt&&li(t,e,lt,$t()),n(r,i)}finally{de(s)}}function Ci(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ki(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Re(n,e),fr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&ji(e,n,r);const l=We(e,t,a,n);fr(l,e),null!==o&&qi(0,a-i,l,r,0,o),s&&(Lt(n.index,e)[8]=l)}}(t,e,n,Tt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jt.lFrame.currentDirectiveIndex;try{de(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Xt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ri(r,i)}}finally{de(-1),Xt(o)}}(t,e,n))}function xi(t,e,n=Tt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ei(t,e,n,r,i,s,o,a,l,c){const u=lt+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(u,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Qi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ni(t,e,n,r,i,s,o,a){const l=Tt(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(es(t,n,c,r,i),ft(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(l,r,i):ke(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Pi(t,e,n,r){let i=!1;if(qt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Me(Re(n,e),t,o.type),gt(o)?(Oi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Fi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=_i(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Mi(t,n,e,l,c),Di(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||Qr(e)?null:Bi(n,i);s.push(c),o=Ti(n,l,o),a=Ti(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function Li(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mt(i.type)),o=new we(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Li(t,e,0,r,_i(t,n,i.hostVars,oi),i)}function ji(t,e,n){const r=Tt(e,t),i=Ai(n),s=t[10],o=Wi(t,mi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function qi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Lt(e,t);if(Ot(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Cr(t);null!==n;n=kr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ot(r)&&r[5]>0&&Vi(r)}}function Hi(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw ts(e,i),i}finally{r.end&&r.end()}}function $i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=pr(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Yi(t,e,n){ne(0),e(t,n)}const Ki=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function Xi(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ts(t,e){const n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function es(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ns(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const rs=new tn("INJECTOR",-1);class is{get(t,e=dn){if(e===dn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const ss=new tn("Set Injector scope."),os={},as={};let ls;function cs(){return void 0===ls&&(ls=new is),ls}function us(t,e=null,n=null,r){return new hs(t,n,e||cs(),r)}class hs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(rs,ps(void 0,this));const s=this.records.get(ss);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=dn,n=T.Default){this.assertNotDestroyed();const r=yn(this),i=P(void 0);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof tn)&&S(t);e=n&&this.injectableDefInScope(n)?ps(ds(t),os):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?cs():this.parent).get(t,e=n&T.Optional&&e===dn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{P(i),yn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||z))}}this.injectorDefTypes.add(s);const a=mt(s)||(()=>new s);this.records.set(s,ps(a,os));const l=r.providers;if(null!=l&&!o){const e=t;sn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return gs(t)?ps(void 0,t.useValue):ps(fs(t),os)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ps(void 0,os,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===os&&(e.value=as,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function ds(t){const e=S(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof tn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[E]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fs(t,e,n){let r;if(ms(t)){const e=p(t);return mt(e)||ds(e)}if(gs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||ds(e);r=()=>new e(...wn(t.deps))}var i;return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gs(t){return null!==t&&"object"==typeof t&&gn in t}function ms(t){return"function"==typeof t}const ys=function(t,e,n){return function(t,e=null,n=null,r){const i=us(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class _s{static create(t,e){return Array.isArray(t)?ys(t,e,""):ys(t.providers,t.parent,t.name||"")}}function vs(t,e){pe(pr(t)[1],Vt())}function bs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ws(t.inputs),e.declaredInputs=ws(t.declaredInputs),e.outputs=ws(t.outputs);const n=i.hostBindings;n&&ks(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ss(t,s),o&&Cs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===bs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function ws(t){return t===U?{}:t===z?[]:t}function Ss(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}_s.THROW_IF_NOT_FOUND=dn,_s.NULL=new is,_s.\u0275prov=b({token:_s,providedIn:"any",factory:()=>vn(rs)}),_s.__NG_ELEMENT_ID__=-1;let xs=null;function As(){if(!xs){const t=B.Symbol;if(t&&t.iterator)xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xs=n)}}}return xs}class Es{constructor(t){this.wrapped=t}static wrap(t){return new Es(t)}static unwrap(t){return Es.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Es}}function Is(t){return!!Ts(t)&&(Array.isArray(t)||!(t instanceof Map)&&As()in t)}function Ts(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ns(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,r){const i=Bt();return Ns(i,Qt(),e)&&(Ut(),function(t,e,n,r,i,s){const o=Tt(t,e);!function(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(fe(),i,t,e,n,r)),Ps}function Ls(t,e,n,r,i,s,o,a){const l=Bt(),c=Ut(),u=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=yi(e,t,4,o||null,Dt(c,a));Pi(e,n,u,Dt(c,l)),pe(e,u);const h=u.tViews=Ei(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];Wt(h,!1);const d=l[11].createComment("");qr(c,l,d,h),fr(d,l),Wi(l,l[u]=Ui(d,l,d,h)),pt(h)&&ki(c,l,h),null!=o&&xi(l,h,a)}function Rs(t){return Pt(jt.lFrame.contextLView,lt+t)}function Os(t,e=T.Default){const n=Bt();return null===n?vn(t,e):Be(Vt(),n,p(t),e)}function Ds(t,e,n){const r=Bt();return Ns(r,Qt(),e)&&Ni(Ut(),fe(),r,t,e,r[11],n,!1),Ds}function Fs(t,e,n,r,i){const s=i?"class":"style";es(t,n,e.inputs[s],s,r)}function Ms(t,e,n,r){const i=Bt(),s=Ut(),o=lt+t,a=i[11],l=i[o]=Er(a,e,jt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=yi(e,t,2,i,Dt(a,s));return Pi(e,n,l,Dt(a,o)),null!==l.attrs&&ns(l,l.attrs,!1),null!==l.mergedAttrs&&ns(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];Wt(c,!0);const u=c.mergedAttrs;null!==u&&Se(a,l,u);const h=c.classes;null!==h&&Zr(a,l,h);const d=c.styles;null!==d&&Gr(a,l,d),64!=(64&c.flags)&&qr(s,i,l,c),0===jt.lFrame.elementDepthCount&&fr(l,i),jt.lFrame.elementDepthCount++,pt(c)&&(ki(s,i,c),Ci(s,c,i)),null!==r&&xi(i,c)}function js(){let t=Vt();Gt()?Zt():(t=t.parent,Wt(t,!1));const e=t;jt.lFrame.elementDepthCount--;const n=Ut();n.firstCreatePass&&(pe(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fs(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fs(n,e,Bt(),e.stylesWithoutHost,!1)}function qs(t,e,n,r){Ms(t,e,n,r),js()}function Bs(t,e,n){const r=Bt(),i=Ut(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Dt(s,r),a=yi(e,t,8,"ng-container",o);return null!==o&&ns(a,o,!0),Pi(e,n,a,Dt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Wt(o,!0);const a=r[s]=r[11].createComment("");qr(i,r,a,o),fr(a,r),pt(o)&&(ki(i,r,o),Ci(i,o,r)),null!=n&&xi(r,o)}function Us(){let t=Vt();const e=Ut();Gt()?Zt():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(pe(e,t),dt(t)&&e.queries.elementEnd(t))}function zs(t,e,n){Bs(t,e,n),Us()}function Vs(){return Bt()}function Hs(t){return!!t&&"function"==typeof t.then}function Ws(t){return!!t&&"function"==typeof t.subscribe}const Gs=Ws;function Zs(t,e,n,r){const i=Bt(),s=Ut(),o=Vt();return Ys(s,i,i[11],o,t,e,!!n,r),Zs}function $s(t,e){const n=Vt(),r=Bt(),i=Ut();return Ys(i,r,Xi(te(i.data),n,r),n,t,e,!1),$s}function Ys(t,e,n,r,i,s,o,a){const l=pt(r),c=t.firstCreatePass&&Ji(t),u=Qi(e);let h=!0;if(3&r.type||a){const d=Tt(r,e),f=a?a(d):d,p=u.length,g=a?t=>a(Et(t[r.index])):r.index;if(xt(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Qs(r,e,0,s,!1);const t=n.listen(f,i,s);u.push(s,t),c&&c.push(i,g,p,p+1)}}else s=Qs(r,e,0,s,!0),f.addEventListener(i,s,o),u.push(s),c&&c.push(i,g,p,o)}else s=Qs(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function Ks(t,e,n,r){try{return!1!==n(r)}catch(i){return ts(t,i),!1}}function Qs(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Gi(o);let a=Ks(e,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Ks(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Js(t=1){return function(t){return(jt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,jt.lFrame.contextLView))[8]}(t)}function Xs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ni(t,s,!0):ri(r,s))return i}else n=i}return n}function to(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function eo(t,e=0,n){const r=Bt(),i=Ut(),s=yi(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Zt(),64!=(64&s.flags)&&function(t,e,n){Wr(e[11],0,e,n,Lr(t,n,e),Mr(n.parent||e[6],n,e))}(i,r,s)}function no(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ui(s):di(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];ro(t[a],e)&&(l=!0,t[a+1]=r?pi(n):hi(n)),a=r?ui(n):di(n)}l&&(t[n+1]=r?hi(s):pi(s))}function ro(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}function io(t,e,n){return oo(t,e,n,!1),io}function so(t,e){return oo(t,e,null,!0),so}function oo(t,e,n,r){const i=Bt(),s=Ut(),o=function(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[he()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=te(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=lo(n=ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==di(r))return t[ui(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ao(null,t,e,n[1],r),n=lo(n,e.attrs,r),function(t,e,n,r){t[ui(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=lo(r,t[s].hostAttrs,n);return lo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ui(o),l=di(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=ui(t[a+1]);t[r+1]=ci(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ci(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ci(l,0),0===a?a=r:t[l+1]=fi(t[l+1],r),l=r;u&&(t[r+1]=hi(t[r+1])),no(t,c,r,!0),no(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&hn(s,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,c,t,r,s),o=ci(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==oi&&Ns(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];uo(1==(1&c)?co(l,e,n,i,di(c),o):void 0)||(uo(s)||function(t){return 2==(2&t)}(c)&&(s=co(l,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:br.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=br.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,It(he(),n),i,s))}(s,s.data[he()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(On(t)))),t}(e,n),r,o)}function ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=lo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function lo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function co(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===oi&&(u=c?z:void 0);let h=c?un(u,r):l===r?u:void 0;if(s&&!uo(h)&&(h=un(e,r)),uo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ui(d):di(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function uo(t){return void 0!==t}function ho(t,e=""){const n=Bt(),r=Ut(),i=t+lt,s=r.firstCreatePass?yi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qr(r,n,o,s),Wt(s,!1)}function fo(t){return po("",t,""),fo}function po(t,e,n){const r=Bt(),i=function(t,e,n,r){return Ns(t,Qt(),n)?e+y(n)+r:oi}(r,t,e,n);return i!==oi&&function(t,e,n){const r=It(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),po}function go(t,e,n){const r=Bt();return Ns(r,Qt(),e)&&Ni(Ut(),fe(),r,t,e,r[11],n,!0),go}function mo(t,e,n){const r=Bt();if(Ns(r,Qt(),e)){const i=Ut(),s=fe();Ni(i,s,r,t,e,Xi(te(i.data),s,r),n,!0)}return mo}const yo=void 0;var _o=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let vo={};function bo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=So(e);if(n)return n;const r=e.split("-")[0];if(n=So(r),n)return n;if("en"===r)return _o;throw new Error(`Missing locale data for the locale "${t}".`)}function wo(t){return bo(t)[Co.PluralCase]}function So(t){return t in vo||(vo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),vo[t]}var Co=(()=>((Co=Co||{})[Co.LocaleId=0]="LocaleId",Co[Co.DayPeriodsFormat=1]="DayPeriodsFormat",Co[Co.DayPeriodsStandalone=2]="DayPeriodsStandalone",Co[Co.DaysFormat=3]="DaysFormat",Co[Co.DaysStandalone=4]="DaysStandalone",Co[Co.MonthsFormat=5]="MonthsFormat",Co[Co.MonthsStandalone=6]="MonthsStandalone",Co[Co.Eras=7]="Eras",Co[Co.FirstDayOfWeek=8]="FirstDayOfWeek",Co[Co.WeekendRange=9]="WeekendRange",Co[Co.DateFormat=10]="DateFormat",Co[Co.TimeFormat=11]="TimeFormat",Co[Co.DateTimeFormat=12]="DateTimeFormat",Co[Co.NumberSymbols=13]="NumberSymbols",Co[Co.NumberFormats=14]="NumberFormats",Co[Co.CurrencyCode=15]="CurrencyCode",Co[Co.CurrencySymbol=16]="CurrencySymbol",Co[Co.CurrencyName=17]="CurrencyName",Co[Co.Currencies=18]="Currencies",Co[Co.Directionality=19]="Directionality",Co[Co.PluralCase=20]="PluralCase",Co[Co.ExtraData=21]="ExtraData",Co))();const ko="en-US";let xo=ko;function Ao(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(xo=t.toLowerCase().replace(/_/g,"-"))}function Eo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Eo(t[s],e,n,r,i);else{const s=Ut(),o=Bt();let a=ms(t)?t:p(t.provide),l=fs(t);const c=Vt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ms(t)||!t.multi){const r=new we(l,i,Os),f=No(a,e,i?u:u+d,h);-1===f?(Me(Re(c,o),s,a),Io(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=No(a,e,u+d,h),p=No(a,e,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Me(Re(c,o),s,a);const u=function(t,e,n,r,i){const s=new we(t,n,Os);return s.multi=[],s.index=e,s.componentProviders=0,To(s,i,r&&!n),s}(i?Lo:Po,n.length,i,r,l);!i&&m&&(n[p].providerFactory=u),Io(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Io(s,t,f>-1?f:p,To(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Io(t,e,n,r){const i=ms(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function To(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function No(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Po(t,e,n,r){return Ro(this.multi,[])}function Lo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ro(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ro(i,s);return s}function Ro(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ut();if(r.firstCreatePass){const i=gt(t);Eo(n,r.data,r.blueprint,i,!0),Eo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Do{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Mo{}function jo(...t){}function qo(t,e){return new Uo(Tt(t,e))}Mo.NULL=new Fo;const Bo=function(){return qo(Vt(),Bt())};let Uo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Bo,t})();function zo(t){return t instanceof Uo?t.nativeElement:t}class Vo{}let Ho=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wo(),t})();const Wo=function(){const t=Bt(),e=Lt(Vt().index,t);return function(t){return t[11]}(ut(e)?e:t)};let Go=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $o=new Zo("12.1.5");class Yo{constructor(){}supports(t){return Is(t)}create(t){return new Qo(t)}}const Ko=(t,e)=>e;class Qo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ko}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ea(n,r,i)?e:n,o=ea(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Is(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[As()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Jo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Jo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Xo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||Ts(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ts(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sa(){return new oa([new Yo])}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||sa()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:sa}),t})();function aa(){return new la([new na])}let la=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||aa()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:aa}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Et(s)),ht(s))for(let t=ct;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const o=n.type;if(8&o)ca(t,e,n.child,r);else if(32&o){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Ur(e,n);if(Array.isArray(t))r.push(...t);else{const n=Sr(e[16]);ca(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),an(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{Zi(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Hr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ha extends ua{constructor(t){super(t),this._view=t}detectChanges(){$i(this._view)}checkNoChanges(){!function(t){Yt(!0);try{$i(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const da=function(t){return function(t,e,n){if(ft(t)&&!n){const n=Lt(t.index,e);return new ua(n,n)}return 47&t.type?new ua(e[16],e):null}(Vt(),Bt(),16==(16&t))};let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=da,t})();const pa=[new na],ga=new oa([new Yo]),ma=new la(pa),ya=function(){return wa(Vt(),Bt())};let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const va=_a,ba=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=mi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new ua(n)}};function wa(t,e){return 4&t.type?new ba(e,t,qo(t,e)):null}class Sa{}class Ca{}const ka=function(){return Na(Vt(),Bt())};let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t})();const Aa=xa,Ea=class extends Aa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ee(t)){const e=Te(t,this._hostLView),n=Ie(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ia(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Sa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ea(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ct+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ct?(e[4]=n[i],on(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=zr(i,s),a=n[11],l=Fr(a,s[7]);return null!==l&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Hr(t,r,n,1,i,s)}(r,s[6],a,n,l,o),t.attachToViewContainerRef(),on(Ta(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ia(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(an(Ta(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=an(Ta(this._lContainer),e)?new ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ia(t){return t[8]}function Ta(t){return t[8]||(t[8]=[])}function Na(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=Et(r);else{const n=e[11];i=n.createComment("");const r=Tt(t,e);Rr(n,Fr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),Wi(e,n)}return new Ea(n,t,e)}const Pa={};class La extends Mo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ot(t);return new Da(e,this.ngModule)}}function Ra(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Oa=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class Da extends Do{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ra(this.componentDef.inputs)}get outputs(){return Ra(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Pa,i);return s!==Pa||r===Pa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Vo,At),o=i.get(Go,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===D.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Er(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:Ki,playerHandler:null,flags:0},d=Ei(0,null,null,1,0,null,null,null,null,null),f=mi(null,d,h,u,null,null,s,a,o,i);let p,g;se(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=yi(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ns(a,l,!0),null!==t&&(Se(i,t,l),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),u=mi(n,Ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Me(Re(a,n),o,e.type),Oi(o,a),Fi(a,n.length,1)),Wi(n,u),n[20]=u}(c,this.componentDef,f,s,a);if(c)if(n)Se(a,c,["ng-version",$o.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ti(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Nt(d,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Vt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,_i(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);fr(i,e);const s=Tt(r,e);return s&&fr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Vt();e.contentQueries(1,o,t.directiveStart)}const a=Vt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Li(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ri(e,o)),o}(t,this.componentDef,f,h,[vs]),vi(d,f,null)}finally{ue()}return new Fa(this.componentType,p,qo(g,f),f,g)}}class Fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ha(r),this.componentType=t}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ma=new Map;class ja extends Sa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new La(this);const n=at(t),r=t[Z]||null;r&&Ao(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=us(t,e,[{provide:Sa,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_s.THROW_IF_NOT_FOUND,n=T.Default){return t===_s||t===Sa||t===rs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qa extends Ca{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,Ma.get(i),n),Ma.set(i,n));const s=vr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new ja(this.moduleType,t)}}function Ba(t,e,n,r){return Ua(Bt(),Kt(),t,e,n,r)}function Ua(t,e,n,r,i,s){const o=e+n;return Ns(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===oi?void 0:n}(t,o+1)}function za(t,e){const n=Ut();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mt(r.type)),o=P(Os);try{const t=Pe(!1),e=s();return Pe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{P(o)}}function Va(t,e,n){const r=t+lt,i=Bt(),s=Pt(i,r);return function(t,e){return Es.isWrapped(e)&&(e=Es.unwrap(e),t[jt.lFrame.bindingIndex]=oi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Ua(i,Kt(),e,s.transform,n,s):s.transform(n))}function Ha(t){return e=>{setTimeout(t,void 0,e)}}const Wa=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(l=Ha(l),a&&(a=Ha(a)),c&&(c=Ha(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof i.w&&t.add(u),u}};function Ga(){return this._results[As()]()}class Za{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=As(),n=Za.prototype;n[e]||(n[e]=Ga)}get changes(){return this._changes||(this._changes=new Wa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=rn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $a{constructor(t){this.queryList=t,this.matches=null}clone(){return new $a(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cl(t,e).matches&&this.queries[e].setDirty()}}class Ka{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Qa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Qa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ja{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ja(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Xa(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===_a?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Uo||r===xa||r===_a&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Xa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tl(t,e,n,r){return-1===n?function(t,e){return 11&t.type?qo(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Uo?qo(e,t):n===_a?wa(e,t):n===xa?Na(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function el(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:tl(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function nl(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=el(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ct;t<o.length;t++){const e=o[t];e[17]===e[3]&&nl(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];nl(n[1],n,i,r)}}}}}return r}function rl(t){const e=Bt(),n=Ut(),r=ee();ne(r+1);const i=cl(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?nl(n,e,r,[]):el(n,e,i,r);t.reset(s,zo),t.notifyOnChanges()}return!0}return!1}function il(t,e,n){const r=Ut();r.firstCreatePass&&(ll(r,new Ka(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),al(r,Bt(),e)}function sl(t,e,n,r){const i=Ut();if(i.firstCreatePass){const s=Vt();ll(i,new Ka(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}al(i,Bt(),n)}function ol(){return t=Bt(),e=ee(),t[19].queries[e].queryList;var t,e}function al(t,e,n){const r=new Za(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ya),e[19].queries.push(new $a(r))}function ll(t,e,n){null===t.queries&&(t.queries=new Qa),t.queries.track(new Ja(e,n))}function cl(t,e){return t.queries.getByIndex(e)}function ul(t,e){return wa(t,e)}const hl=new tn("Application Initializer");let dl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=jo,this.reject=jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Hs(e))t.push(e);else if(Gs(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(hl,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const fl=new tn("AppId"),pl={provide:fl,useFactory:function(){return`${gl()}${gl()}${gl()}`},deps:[]};function gl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ml=new tn("Platform Initializer"),yl=new tn("Platform ID"),_l=new tn("appBootstrapListener");let vl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const bl=new tn("LocaleId"),wl=new tn("DefaultCurrencyCode");class Sl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Cl=function(t){return new qa(t)},kl=Cl,xl=function(t){return Promise.resolve(Cl(t))},Al=function(t){const e=Cl(t),n=vr(at(t).declarations).reduce((t,e)=>{const n=ot(e);return n&&t.push(new Da(n)),t},[]);return new Sl(e,n)},El=Al,Il=function(t){return Promise.resolve(Al(t))};let Tl=(()=>{class t{constructor(){this.compileModuleSync=kl,this.compileModuleAsync=xl,this.compileModuleAndAllComponentsSync=El,this.compileModuleAndAllComponentsAsync=Il}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Nl=(()=>Promise.resolve(0))();function Pl(t){"undefined"==typeof Zone?Nl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ll{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dl(t),t.isCheckStableRunning=!0,Ol(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Fl(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ml(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Fl(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ml(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Dl(t),Ol(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ll.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ll.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Rl,jo,jo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Rl={};function Ol(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ml(t){t._nesting--,Ol(t)}class jl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ql=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ll.assertNotInAngularZone(),Pl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(Ll))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Bl=(()=>{class t{constructor(){this._applications=new Map,Hl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Hl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class Ul{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function zl(t){Hl=t}let Vl,Hl=new Ul,Wl=!0,Gl=!1;function Zl(){return Gl=!0,Wl}function $l(){if(Gl)throw new Error("Cannot enable prod mode after platform setup.");Wl=!1}const Yl=new tn("AllowMultipleToken");class Kl{constructor(t,e){this.name=t,this.token=e}}function Ql(t,e,n=[]){const r=`Platform: ${e}`,i=new tn(r);return(e=[])=>{let s=Jl();if(!s||s.injector.get(Yl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ss,useValue:"platform"});!function(t){if(Vl&&!Vl.destroyed&&!Vl.injector.get(Yl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vl=t.get(Xl);const e=t.get(ml,null);e&&e.forEach(t=>t())}(_s.create({providers:t,name:r}))}return function(t){const e=Jl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Jl(){return Vl&&!Vl.destroyed?Vl:null}let Xl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new jl:("zone.js"===t?void 0:t)||new Ll({enableLongStackTrace:Zl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ll,useValue:n}];return n.run(()=>{const e=_s.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(yr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{nc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(dl);return t.runInitializers(),t.donePromise.then(()=>(Ao(i.injector.get(bl,ko)||ko),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=tc({},e);return function(t,e,n){const r=new qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(_s))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function tc(t,e){return Array.isArray(e)?e.reduce(tc,t):Object.assign(Object.assign({},t),e)}let ec=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ll.assertNotInAngularZone(),Pl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ll.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Do?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Sa),i=n.create(_s.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ql,null),a=o&&i.injector.get(Bl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),nc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(_l,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(Ll),vn(_s),vn(yr),vn(Mo),vn(dl))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rc{}class ic{}const sc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||sc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>ac(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ac(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(Tl),vn(ic,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function ac(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const lc=function(t){return null},cc=Ql(null,"core",[{provide:yl,useValue:"unknown"},{provide:Xl,deps:[_s]},{provide:Bl,deps:[]},{provide:vl,deps:[]}]),uc=[{provide:ec,useClass:ec,deps:[Ll,_s,yr,Mo,dl]},{provide:Oa,deps:[Ll],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:dl,useClass:dl,deps:[[new kn,hl]]},{provide:Tl,useClass:Tl,deps:[]},pl,{provide:oa,useFactory:function(){return ga},deps:[]},{provide:la,useFactory:function(){return ma},deps:[]},{provide:bl,useFactory:function(t){return Ao(t=t||"undefined"!=typeof $localize&&$localize.locale||ko),t},deps:[[new Cn(bl),new kn,new xn]]},{provide:wl,useValue:"USD"}];let hc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(vn(ec))},t.\u0275mod=et({type:t}),t.\u0275inj=w({providers:uc}),t})()},8939:(t,e,n)=>{"use strict";n.d(e,{hO:()=>g,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>m,on:()=>d,pX:()=>a});var r=n(7716),i=n(7841),s=n(4459);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),l=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(e,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},p={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let g=(()=>{class t{constructor(t){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:u,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[p]}),t})();function m(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(i,o)||(_("error",`${e} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),_("warn",{is:i,was:o})),s;{const e=r();return globalThis.\u0275AngularfireInstanceCache.push([t,e,i]),e}}const y=!!t.hot,_=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4459:(t,e,n)=>{"use strict";n.d(e,{q4:()=>Rn,iC:()=>Hn,HU:()=>zn,vb:()=>jn,JM:()=>Mn});var r=n(7716),i=n(2329),s=n(6304),o=n(279),a=n(3854),l=n(8604),c=n(9306),u=n(6676);const h="@firebase/installations",d="0.5.4",f="w:0.5.4",p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(t){return t instanceof a.ZR&&t.code.includes("request-failed")}function y({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function _(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function v(t,e){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(t,e){const n=(yield e.json()).error;return g.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function S(t,{refreshToken:e}){const n=w(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}function C(t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function x(t,e){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(function*(t,{fid:e}){const n=y(t),r={method:"POST",headers:w(t),body:JSON.stringify({fid:e,authVersion:p,appId:t.appId,sdkVersion:f})},i=yield C(()=>fetch(n,r));if(i.ok){const t=yield i.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:_(t.authToken)}}throw yield v("Create Installation",i)})).apply(this,arguments)}function E(t){return new Promise(e=>{setTimeout(e,t)})}const I=/^[cdef][\w-]{21}$/;function T(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return I.test(e)?e:""}catch(t){return""}}function N(t){return`${t.appName}!${t.appId}`}const P=new Map;function L(t,e){const n=N(t);R(n,e),function(t,e){const n=(!O&&"BroadcastChannel"in self&&(O=new BroadcastChannel("[Firebase] FID Change"),O.onmessage=t=>{R(t.data.key,t.data.fid)}),O);n&&n.postMessage({key:t,fid:e}),0===P.size&&O&&(O.close(),O=null)}(n,e)}function R(t,e){const n=P.get(t);if(n)for(const r of n)r(e)}let O=null;const D="firebase-installations-store";let F=null;function M(){return F||(F=(0,u.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(D)}})),F}function j(t,e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(t,e){const n=N(t),r=(yield M()).transaction(D,"readwrite"),i=r.objectStore(D),s=yield i.get(n);return yield i.put(e,n),yield r.complete,s&&s.fid===e.fid||L(t,e.fid),e})).apply(this,arguments)}function B(t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(t){const e=N(t),n=(yield M()).transaction(D,"readwrite");yield n.objectStore(D).delete(e),yield n.complete})).apply(this,arguments)}function z(t,e){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(t,e){const n=N(t),r=(yield M()).transaction(D,"readwrite"),i=r.objectStore(D),s=yield i.get(n),o=e(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||L(t,o.fid),o})).apply(this,arguments)}function H(t){return W.apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(t){let e;const n=yield z(t,n=>{const r=G(n),i=Z(t,r);return e=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function G(t){return J(t||{fid:T(),registrationStatus:0})}function Z(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return $.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Y(t)}:{installationEntry:e}}function $(){return($=(0,s.Z)(function*(t,e){try{return j(t,yield x(t,e))}catch(n){throw m(n)&&409===n.customData.serverCode?yield B(t):yield j(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Y(t){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(t){let e=yield Q(t);for(;1===e.registrationStatus;)yield E(100),e=yield Q(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield H(t);return n||e}return e})).apply(this,arguments)}function Q(t){return z(t,t=>{if(!t)throw g.create("installation-not-found");return J(t)})}function J(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function X(t,e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*({appConfig:t,platformLoggerProvider:e},n){const r=et(t,n),i=S(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield C(()=>fetch(r,o));if(a.ok)return _(yield a.json());throw yield v("Generate Auth Token",a)})).apply(this,arguments)}function et(t,{fid:e}){return`${y(t)}/${e}/authTokens:generate`}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(t,e=!1){let n;const r=yield z(t.appConfig,r=>{if(!ct(r))throw g.create("not-registered");const i=r.authToken;if(!e&&ut(i))return r;if(1===i.requestStatus)return n=it(t,e),r;{if(!navigator.onLine)throw g.create("app-offline");const e=ht(r);return n=at(t,e),e}});return n?yield n:r.authToken})).apply(this,arguments)}function it(t,e){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(t,e){let n=yield ot(t.appConfig);for(;1===n.authToken.requestStatus;)yield E(100),n=yield ot(t.appConfig);const r=n.authToken;return 0===r.requestStatus?nt(t,e):r})).apply(this,arguments)}function ot(t){return z(t,t=>{if(!ct(t))throw g.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e})}function at(t,e){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(t,e){try{const n=yield X(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield j(t.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield j(t.appConfig,n)}else yield B(t.appConfig);throw n}})).apply(this,arguments)}function ct(t){return void 0!==t&&2===t.registrationStatus}function ut(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function ht(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dt(){return(dt=(0,s.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield H(e.appConfig);return r?r.catch(console.error):nt(e).catch(console.error),n.fid})).apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(t,e=!1){const n=t;return yield pt(n.appConfig),(yield nt(n,e)).token})).apply(this,arguments)}function pt(t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(t){const{registrationPromise:e}=yield H(t);e&&(yield e)})).apply(this,arguments)}function mt(t){return g.create("missing-app-config-values",{valueName:t})}const yt="installations";(0,o._registerComponent)(new l.wA(yt,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw mt("App Configuration");if(!t.name)throw mt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,o._getProvider)(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",t=>{const e=t.getProvider("app").getImmediate(),n=(0,o._getProvider)(e,yt).getImmediate();return{getId:()=>function(t){return dt.apply(this,arguments)}(n),getToken:t=>function(t){return ft.apply(this,arguments)}(n,t)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const _t="@firebase/remote-config",vt="0.3.3",bt=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,n))return r;t.eTag=r&&r.eTag;const i=yield e.client.fetch(t),s=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(e.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function St(t=navigator){return t.languages&&t.languages[0]||t.language}class Ct{constructor(t,e,n,r,i,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},o={sdk_version:e.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:e.appId,language_code:St()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(i,a),c=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(g){let t="fetch-client-network";throw"AbortError"===g.name&&(t="fetch-timeout"),bt.create(t,{originalErrorMessage:g.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let f,p;if(200===u.status){let t;try{t=yield u.json()}catch(g){throw bt.create("fetch-client-parse",{originalErrorMessage:g.message})}f=t.entries,p=t.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw bt.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class kt{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,s.Z)(function*(){const n=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,n)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),e}catch(i){if(!function(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i))throw i;const e={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(e),r.attemptFetch(t,e)}})()}}class xt{constructor(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(t,e){const n=t.target.error||void 0;return bt.create(e,{originalErrorMessage:n&&n.message})}const Et="app_namespace_store";class It{constructor(t,e,n,r=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=t=>{e(At(t,"storage-open"))},n.onsuccess=e=>{t(e.target.result)},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Et,{keyPath:"compositeKey"})}}}catch(n){e(bt.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Et],"readonly").objectStore(Et),o=e.createCompositeKey(t);try{const t=s.get(o);t.onerror=t=>{i(At(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;r(e?e.value:void 0)}}catch(a){i(bt.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(t,e){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([Et],"readwrite").objectStore(Et),a=n.createCompositeKey(t);try{const t=o.put({compositeKey:a,value:e});t.onerror=t=>{s(At(t,"storage-set"))},t.onsuccess=()=>{i()}}catch(l){s(bt.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Et],"readwrite").objectStore(Et),o=e.createCompositeKey(t);try{const t=s.delete(o);t.onerror=t=>{i(At(t,"storage-delete"))},t.onsuccess=()=>{r()}}catch(a){i(bt.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Tt{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,s.Z)(function*(){const e=t.storage.getLastFetchStatus(),n=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),i=yield e;i&&(t.lastFetchStatus=i);const s=yield n;s&&(t.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(t.activeConfig=o)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function Nt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw bt.create("registration-window");if(!(0,a.hl)())throw bt.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:l}=n.options;if(!i)throw bt.create("registration-project-id");if(!s)throw bt.create("registration-api-key");if(!l)throw bt.create("registration-app-id");const u=new It(l,n.name,e=e||"firebase"),h=new Tt(u),d=new c.Yd(_t);d.logLevel=c.in.ERROR;const f=new Ct(r,o.SDK_VERSION,e,i,s,l),p=new kt(f,u),g=new wt(p,u,h,d),m=new xt(n,g,h,u,d);return function(t){const e=(0,a.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(_t,vt),(0,o.registerVersion)(_t,vt,"esm2017");const Lt="/firebase-messaging-sw.js",Rt="/firebase-cloud-messaging-push-scope",Ot="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Dt=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Dt||(Dt={})),Dt))();function Ft(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mt(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const jt="fcm_token_details_db",qt="fcm_token_object_Store";function Bt(t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(jt))return null;let e=null;return(yield(0,u.openDb)(jt,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(qt))return;const i=n.transaction.objectStore(qt),s=yield i.index("fcmSenderId").get(t);if(yield i.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(r=t.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:Ft(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:Ft(t.auth),p256dh:Ft(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:Ft(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:Ft(t.auth),p256dh:Ft(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:Ft(t.vapidKey)}}}});return function(t){return n.apply(this,arguments)}}())).close(),yield(0,u.deleteDb)(jt),yield(0,u.deleteDb)("fcm_vapid_details_db"),yield(0,u.deleteDb)("undefined"),zt(e)?e:null})).apply(this,arguments)}function zt(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Vt="firebase-messaging-store";let Ht=null;function Wt(){return Ht||(Ht=(0,u.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Vt)}})),Ht}function Gt(t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(t){const e=Jt(t),n=yield Wt(),r=yield n.transaction(Vt).objectStore(Vt).get(e);if(r)return r;{const e=yield Bt(t.appConfig.senderId);if(e)return yield $t(t,e),e}})).apply(this,arguments)}function $t(t,e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(t,e){const n=Jt(t),r=(yield Wt()).transaction(Vt,"readwrite");return yield r.objectStore(Vt).put(e,n),yield r.complete,e})).apply(this,arguments)}function Kt(t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(t){const e=Jt(t),n=(yield Wt()).transaction(Vt,"readwrite");yield n.objectStore(Vt).delete(e),yield n.complete})).apply(this,arguments)}function Jt({appConfig:t}){return t.appId}const Xt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*(t,e){const n=yield ae(t),r=ce(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const e=yield fetch(oe(t.appConfig),i);s=yield e.json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ne(t,e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(t,e){const n=yield ae(t),r=ce(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${oe(t.appConfig)}/${e.token}`,i);s=yield n.json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-update-no-token");return s.token})).apply(this,arguments)}function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(t,e){const n={method:"DELETE",headers:yield ae(t)};try{const r=yield fetch(`${oe(t.appConfig)}/${e}`,n),i=yield r.json();if(i.error)throw Xt.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Xt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function oe({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function ae(t){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ce({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Ot&&(i.web.applicationPubKey=r),i}const ue=6048e5;function he(t){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(t){const e=yield ve(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ft(e.getKey("auth")),p256dh:Ft(e.getKey("p256dh"))},r=yield Gt(t.firebaseDependencies);if(r){if(we(r.subscriptionOptions,n))return Date.now()>=r.createTime+ue?ge(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ie(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ye(t.firebaseDependencies,n)}return ye(t.firebaseDependencies,n)})).apply(this,arguments)}function fe(t){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(t){const e=yield Gt(t.firebaseDependencies);e&&(yield ie(t.firebaseDependencies,e.token),yield Kt(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ge(t,e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(t,e){try{const n=yield ne(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield $t(t.firebaseDependencies,r),n}catch(n){throw yield fe(t),n}})).apply(this,arguments)}function ye(t,e){return _e.apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(t,e){const n={token:yield te(t,e),createTime:Date.now(),subscriptionOptions:e};return yield $t(t,n),n.token})).apply(this,arguments)}function ve(t,e){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mt(e)})})).apply(this,arguments)}function we(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Se(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Ce(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function ke(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function xe(t){return Xt.create("missing-app-config-values",{valueName:t})}ke("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ke("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ae{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(t){if(!t||!t.options)throw xe("App Configuration Object");if(!t.name)throw xe("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw xe(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Ee(t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Lt,{scope:Rt}),t.swRegistration.update().catch(()=>{})}catch(e){throw Xt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Te(t,e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(t,e){if(e||t.swRegistration||(yield Ee(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Pe(t,e){return Le.apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Ot)})).apply(this,arguments)}function Re(){return(Re=(0,s.Z)(function*(t,e){if(!navigator)throw Xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xt.create("permission-blocked");return yield Pe(t,null==e?void 0:e.vapidKey),yield Te(t,null==e?void 0:e.serviceWorkerRegistration),he(t)})).apply(this,arguments)}function Oe(t,e,n){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(t,e,n){const r=Fe(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fe(t){switch(t){case Dt.NOTIFICATION_CLICKED:return"notification_open";case Dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Me(){return(Me=(0,s.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Dt.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Se(n)):t.onMessageHandler.next(Se(n)));const r=n.data;Ce(r)&&"1"===r["google.c.a.e"]&&(yield Oe(t,n.messageType,r))})).apply(this,arguments)}const je="@firebase/messaging",qe="0.9.4";function Be(){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",t=>{const e=new Ae(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return Me.apply(this,arguments)}(e,t)),e},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>function(t,e){return Re.apply(this,arguments)}(e,t)}},"PRIVATE")),(0,o.registerVersion)(je,qe),(0,o.registerVersion)(je,qe,"esm2017");const ze="analytics",Ve="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",He="https://www.googletagmanager.com/gtag/js",We=new c.Yd("@firebase/analytics");function Ge(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function Ze(t,e){const n=document.createElement("script");n.src=`${He}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function $e(t,e,n,r,i,s){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const t=(yield Ge(n)).find(t=>t.measurementId===i);t&&(yield e[t.appId])}}catch(a){We.error(a)}t("config",i,s)})).apply(this,arguments)}function Ke(t,e,n,r,i){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=yield Ge(n);for(const n of t){const t=r.find(t=>t.measurementId===n),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){We.error(s)}})).apply(this,arguments)}function Je(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(He))return e;return null}const Xe=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tn=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function en(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function nn(t){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:en(r)},s=Ve.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=yield o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Xe.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})).apply(this,arguments)}function sn(t){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(t,e=tn,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Xe.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Xe.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hn;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),an({appId:r,apiKey:i,measurementId:o},a,l,e)})).apply(this,arguments)}function an(t,e,n){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=tn){const{appId:s,measurementId:o}=t;try{yield cn(r,e)}catch(l){if(o)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}try{const e=yield nn(t);return i.deleteThrottleMetadata(s),e}catch(l){if(!un(l)){if(i.deleteThrottleMetadata(s),o)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}const e=503===Number(l.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(s,c),We.debug(`Calling attemptFetch again in ${e} millis`),an(t,c,r,i)}})).apply(this,arguments)}function cn(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xe.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function un(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class hn{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function dn(){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(){if(!(0,a.hl)())return We.warn(Xe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(t){return We.warn(Xe.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(t,e,n,r,i,s,o){var a;const l=sn(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>We.error(t)),e.push(l);const c=dn().then(t=>t?r.getId():void 0),[u,h]=yield Promise.all([l,c]);Je()||Ze(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class gn{constructor(t){this.app=t}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},yn=[];const _n={};let vn,bn,wn="dataLayer",Sn=!1;function Cn(){return(Cn=(0,s.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function kn(){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}const An="@firebase/analytics",En="0.7.4";(0,o._registerComponent)(new l.wA(ze,(t,{options:e})=>function(t,e,n){!function(){const t=[];if((0,a.ru)()&&t.push("This is a browser extension environment."),(0,a.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=Xe.create("invalid-analytics-context",{errorInfo:e});We.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xe.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xe.create("no-api-key");We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[r])throw Xe.create("already-exists",{id:r});if(!Sn){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(t,e,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Ke(t,e,n,s,o):"config"===i?yield $e(t,e,n,r,s,o):t("set",s)}catch(a){We.error(a)}})).apply(this,arguments)}return function(t,e,n){return i.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window.gtag}}(mn,yn,_n);bn=t,vn=e,Sn=!0}return mn[r]=function(t,e,n,r,i,s,o){return pn.apply(this,arguments)}(t,yn,_n,e,vn,wn,n),new gn(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(t){try{const e=t.getProvider(ze).getImmediate();return{logEvent:(t,n,r)=>function(t,e,n,r){t=(0,a.m9)(t),function(t,e,n,r,i){return Cn.apply(this,arguments)}(bn,mn[t.app.options.appId],e,n,r).catch(t=>We.error(t))}(e,t,n,r)}}catch(e){throw Xe.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,o.registerVersion)(An,En),(0,o.registerVersion)(An,En,"esm2017");var In=n(7771),Tn=n(3637),Nn=n(3342),Pn=n(9673),Ln=n(6136);const Rn=new r.GfV("7.2.0"),On="__angularfire_symbol__analyticsIsSupported",Dn="__angularfire_symbol__remoteConfigIsSupported",Fn="__angularfire_symbol__messagingIsSupported";function Mn(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[On]||(globalThis[On]=kn().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Fn]||(globalThis[Fn]=Be().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Dn]||(globalThis[Dn]=Nt().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const jn=(t,e)=>{const n=e?[e]:(0,i.C6)(),r=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{r.includes(t)||r.push(t)})}),r};function qn(){}class Bn{constructor(t,e=In.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class Un{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qn,{},qn,qn)),e.pipe((0,Nn.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zn=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Bn(Zone.current)),this.insideAngular=t.run(()=>new Bn(Zone.current,Tn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vn(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Hn(t){return Vn(),(e=Vn(),function(t){return(t=t.lift(new Un(e.ngZone))).pipe((0,Pn.R)(e.outsideAngular),(0,Ln.QV)(e.insideAngular))})(t);var e}},156:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(3854),i=n(8604),s=n(279),o=n(9306);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(e,a.name))return e[a.name];const l=new t(a,n);return e[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=i())=>{if("function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,r.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function i(t){if(!(0,r.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),i.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,r.ZB)(e,t)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.12",void 0)},279:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>C,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>g,_addOrOverwriteComponent:()=>m,_apps:()=>f,_clearComponents:()=>b,_components:()=>p,_getProvider:()=>_,_registerComponent:()=>y,_removeServiceInstance:()=>v,deleteApp:()=>E,getApp:()=>x,getApps:()=>A,initializeApp:()=>k,onLog:()=>N,registerVersion:()=>T,setLogLevel:()=>P});var r=n(6304),i=n(8604),s=n(9306),o=n(3854);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const l="@firebase/app",c="0.7.11",u=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function g(t,e){try{t.container.addComponent(e)}catch(n){u.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t,e){t.container.addOrOverwriteComponent(e)}function y(t){const e=t.name;if(p.has(e))return u.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of f.values())g(n,t);return!0}function _(t,e){return t.container.getProvider(e)}function v(t,e,n=h){_(t,e).clearInstance(n)}function b(){p.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class S{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const C="9.6.1";function k(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const l=new S(t,n,a);return f.set(r,l),l}function x(t=h){const e=f.get(t);if(!e)throw w.create("no-app",{appName:t});return e}function A(){return Array.from(f.values())}function E(t){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(function*(t){const e=t.name;f.has(e)&&(f.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function T(t,e,n){var r;let s=null!==(r=d[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void u.warn(t.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function N(t,e){if(null!==t&&"function"!=typeof t)throw w.create("invalid-log-argument");(0,s.Am)(t,e)}function P(t){(0,s.Ub)(t)}y(new i.wA("platform-logger",t=>new a(t),"PRIVATE")),T(l,c,""),T(l,c,"esm2017"),T("fire-js","")},8604:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>l,zt:()=>a});var r=n(6304),i=n(3854);class s{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const o="[DEFAULT]";class a{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,r.Z)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===o?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new a(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},9306:(t,e,n)=>{"use strict";n.d(e,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function u(t){r.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},3854:(t,e,n)=>{"use strict";n.d(e,{BH:()=>d,LL:()=>A,ZR:()=>x,gQ:()=>z,zI:()=>k,hu:()=>r,g5:()=>i,US:()=>o,tV:()=>c,h$:()=>a,$s:()=>J,r3:()=>R,Sg:()=>f,ne:()=>V,p$:()=>u,vZ:()=>M,ZB:()=>h,gK:()=>Z,pd:()=>U,m9:()=>X,z$:()=>p,GJ:()=>L,jU:()=>y,ru:()=>_,xb:()=>D,w1:()=>b,hl:()=>S,uI:()=>g,UG:()=>m,Yr:()=>w,b$:()=>v,w9:()=>P,cI:()=>I,UI:()=>F,xO:()=>q,zd:()=>B,DV:()=>O,ug:()=>Q,dS:()=>K,Pz:()=>T,Dv:()=>G,Wj:()=>$,lb:()=>Y,eu:()=>C});const r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();r.push(e<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){const e=s(t);return o.encodeByteArray(e,!0)},l=function(t){return a(t).replace(/\./g,"")},c=function(t){try{return o.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function f(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){const t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return!1}function S(){return"object"==typeof indexedDB}function C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function k(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class x extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(E,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new x(r,`${this.serviceName}: ${s} (${r}).`,n)}}const E=/\{\$([^}]+)}/g;function I(t){return JSON.parse(t)}function T(t){return JSON.stringify(t)}const N=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=I(c(s[0])||""),n=I(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},P=function(t){const e=N(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},L=function(t){const e=N(t).claims;return"object"==typeof e&&!0===e.admin};function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function M(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(j(n)&&j(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j(t){return null!==t&&"object"==typeof t}function q(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function B(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function U(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"==typeof t)for(let u=0;u<16;u++)n[u]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let u=16;u<80;u++){const t=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const t=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[r]>>e&255,++n;return t}}function V(t,e){const n=new H(t,e);return n.subscribe.bind(n)}class H{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}}),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}const G=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Z(t,e){return`${t} failed: ${e} argument `}function $(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Z(t,e)+"must be a valid function.")}function Y(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Z(t,e)+"must be a valid context object.")}const K=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const e=s-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),s=65536+(e<<10)+(t.charCodeAt(i)-56320)}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},Q=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function J(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function X(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=n(279);(0,r.registerVersion)("firebase","9.6.1","app")},7841:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(156);r.Z.registerVersion("firebase","9.6.1","app-compat")},2755:(t,e,n)=>{"use strict";n.r(e);var r=n(6304),i=n(156),s=n(3854),o=n(279);function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var l=n(9306),c=n(8604);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function f(t,...e){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${t}`,...e)}function p(t,...e){throw _(t,...e)}function g(t,...e){return _(t,...e)}function m(t,e,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new s.LL("auth","Firebase",r).create(e,{appName:t.name})}function y(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&p(t,"argument-error"),m(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h.create(t,...e)}function v(t,e,...n){if(!t)throw _(e,...n)}function b(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function w(t,e){t||b(e)}const S=new Map;function C(t){w(t instanceof Function,"Expected a class definition");let e=S.get(t);return e?(w(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S.set(t,e),e)}function k(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function x(){return"http:"===A()||"https:"===A()}function A(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class E{constructor(t,e){this.shortDelay=t,this.longDelay=e,w(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(x()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(t,e){w(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class T{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new E(3e4,6e4);function L(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function R(t,e,n,r){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(function*(t,e,n,i,o={}){return D(t,o,(0,r.Z)(function*(){let r={},o={};i&&("GET"===e?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),T.fetch()(q(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function D(t,e,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),e);try{const e=new B(t),i=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw U(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw U(t,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(t,a,o);p(t,a)}}catch(i){if(i instanceof s.ZR)throw i;p(t,"network-request-failed")}})).apply(this,arguments)}function M(t,e,n,r){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(t,e,n,r,i={}){const s=yield R(t,e,n,r,i);return"mfaPendingCredential"in s&&p(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function q(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I(t.config,i):`${t.config.apiScheme}://${i}`}class B{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(g(this.auth,"timeout")),P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(t,e,r);return i.customData._tokenResponse=n,i}function z(){return(z=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function V(t,e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function W(t,e){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Z(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function $(){return($=(0,r.Z)(function*(t,e=!1){const n=(0,s.m9)(t),r=yield n.getIdToken(e),i=K(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Z(Y(i.auth_time)),issuedAtTime:Z(Y(i.iat)),expirationTime:Z(Y(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(t){return 1e3*Number(t)}function K(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,s.tV)(n);return t?JSON.parse(t):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function Q(t,e){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof s.ZR&&X(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function X({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class tt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,r.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,r.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class et{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Q(t,W(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ot(s.providerUserInfo):[],a=st(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new et(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,c)})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(t){const e=(0,s.m9)(t);yield nt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function st(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function ot(t){return t.map(t=>{var{providerId:e}=t,n=a(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function at(){return(at=(0,r.Z)(function*(t,e){const n=yield D(t,{},(0,r.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=q(t,r,"/v1/token",`key=${i}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v(void 0!==t.idToken,"internal-error"),v(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=K(t);return v(e,"internal-error"),v(void 0!==e.exp,"internal-error"),v(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,r.Z)(function*(){return v(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(t,e){return at.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new lt;return n&&(v("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return b("not implemented")}}function ct(t,e){v("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ut{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=a(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new et(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,r.Z)(function*(){const n=yield Q(e,e.stsTokenManager.getToken(e.auth,t));return v(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function(t){return $.apply(this,arguments)}(this,t)}reload(){return function(t){return it.apply(this,arguments)}(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ut(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,r.Z)(function*(){let r=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield nt(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,r.Z)(function*(){const e=yield t.getIdToken();return yield Q(t,function(t,e){return z.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:C}=e;v(_&&C,t,"internal-error");const k=lt.fromJSON(this.name,C);v("string"==typeof _,t,"internal-error"),ct(u,t.name),ct(h,t.name),v("boolean"==typeof b,t,"internal-error"),v("boolean"==typeof w,t,"internal-error"),ct(d,t.name),ct(f,t.name),ct(p,t.name),ct(g,t.name),ct(m,t.name),ct(y,t.name);const x=new ut({uid:_,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&(x.providerData=S.map(t=>Object.assign({},t))),g&&(x._redirectEventId=g),x}static _fromIdTokenResponse(t,e,n=!1){return(0,r.Z)(function*(){const r=new lt;r.updateFromServerResponse(e);const i=new ut({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield nt(i),i})()}}const ht=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,r.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,r.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function dt(t,e,n){return`firebase:${t}:${e}:${n}`}class ft{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=dt(this.userKey,r.apiKey,i),this.fullPersistenceKey=dt("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,r.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?ut._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,r.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,r.Z)(function*(){if(!e.length)return new ft(C(ht),t,n);const i=(yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=i[0]||C(ht);const o=dt(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const r=ut._fromJSON(t,e);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(c){}});return function(e){return t.apply(this,arguments)}}())),new ft(s,t,n)):new ft(s,t,n)})()}}function pt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_t(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bt(e))return"Blackberry";if(wt(e))return"Webos";if(mt(e))return"Safari";if((e.includes("chrome/")||yt(e))&&!e.includes("edge/"))return"Chrome";if(vt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function gt(t=(0,s.z$)()){return/firefox\//i.test(t)}function mt(t=(0,s.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yt(t=(0,s.z$)()){return/crios\//i.test(t)}function _t(t=(0,s.z$)()){return/iemobile/i.test(t)}function vt(t=(0,s.z$)()){return/android/i.test(t)}function bt(t=(0,s.z$)()){return/blackberry/i.test(t)}function wt(t=(0,s.z$)()){return/webos/i.test(t)}function St(t=(0,s.z$)()){return/iphone|ipad|ipod/i.test(t)}function Ct(t=(0,s.z$)()){return St(t)||vt(t)||wt(t)||bt(t)||/windows phone/i.test(t)||_t(t)}function kt(t,e=[]){let n;switch(t){case"Browser":n=pt((0,s.z$)());break;case"Worker":n=`${pt((0,s.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class xt{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Et(this),this.idTokenSubscription=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=C(e)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield ft.create(n,t),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(e),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,r.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();return t.currentUser||e?t.currentUser&&e&&t.currentUser.uid===e.uid?(t._currentUser._assign(e),void(yield t.currentUser.getIdToken())):void(yield t._updateCurrentUser(e)):void 0})()}initializeCurrentUser(t){var e=this;return(0,r.Z)(function*(){var n;let r=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const i=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield e.tryRedirectSignIn(t);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(v(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)):e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,r.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,r.Z)(function*(){try{yield nt(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,r.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){const n=t?(0,s.m9)(t):null;return n&&v(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){if(!e._deleted)return t&&v(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,r.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,r.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,r.Z)(function*(){yield e.assertedPersistence.setPersistence(C(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new s.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,r.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&C(t)||e._popupRedirectResolver;v(n,e,"argument-error"),e.redirectPersistenceManager=yield ft.create(e,[C(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,r.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,r.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,r.Z)(function*(){if(t===e.currentUser)return e.queue((0,r.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,r.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,r.Z)(function*(){const e={"X-Client-Version":t.clientVersion};return t.app.options.appId&&(e["X-Firebase-gmpid"]=t.app.options.appId),e})()}}function At(t){return(0,s.m9)(t)}class Et{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,s.ne)(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function It(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Nt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return b("not implemented")}_getIdTokenResponse(t){return b("not implemented")}_linkToIdToken(t,e){return b("not implemented")}_getReauthenticationResolver(t){return b("not implemented")}}function Pt(t,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:resetPassword",L(t,e))})).apply(this,arguments)}function Rt(t,e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Dt(t,e){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",L(t,e))})).apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPassword",L(t,e))})).apply(this,arguments)}function jt(t,e){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:sendOobCode",L(t,e))})).apply(this,arguments)}function Bt(t,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(t,e){return jt(t,e)})).apply(this,arguments)}function zt(t,e){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(t,e){return jt(t,e)})).apply(this,arguments)}function Ht(t,e){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(t,e){return jt(t,e)})).apply(this,arguments)}function Gt(t,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(t,e){return jt(t,e)})).apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",L(t,e))})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",L(t,e))})).apply(this,arguments)}class Kt extends Nt{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Kt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Kt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,r.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return Mt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return $t.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:p(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Rt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Yt.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:p(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Qt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithIdp",L(t,e))})).apply(this,arguments)}class Xt extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Xt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):p("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=a(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,s.xO)(e)}return t}}function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:sendVerificationCode",L(t,e))})).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,e))})).apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(t,e){const n=yield M(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,e));if(n.temporaryProof)throw U(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const ie={USER_NOT_FOUND:"user-not-found"};function se(){return(se=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ie)})).apply(this,arguments)}class oe extends Nt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oe({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oe({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return ne.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return re.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return se.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new oe({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ae{constructor(t){var e,n,r,i,o,a;const l=(0,s.zd)((0,s.pd)(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,s.zd)((0,s.pd)(t)).link,n=e?(0,s.zd)((0,s.pd)(e)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(t)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||e||t}(t);try{return new ae(e)}catch(n){return null}}}let le=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return Kt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ae.parseLink(e);return v(n,"argument-error"),Kt._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ue extends ce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class he extends ue{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return v("providerId"in e&&"signInMethod"in e,"argument-error"),Xt._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return v(t.idToken||t.accessToken,"argument-error"),Xt._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return he.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return he.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!(n||r||e||i))return null;if(!o)return null;try{return new he(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let de=(()=>{class t extends ue{constructor(){super("facebook.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),fe=(()=>{class t extends ue{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),pe=(()=>{class t extends ue{constructor(){super("github.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class ge extends Nt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new ge(n,i):null}static _create(t,e){return new ge(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class me extends ce{constructor(t){v(t.startsWith("saml."),"argument-error"),super(t)}static credentialFromResult(t){return me.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return me.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const e=ge.fromJSON(t);return v(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:e,providerId:n}=t;if(!e||!n)return null;try{return ge._create(n,e)}catch(r){return null}}}let ye=(()=>{class t extends ue{constructor(){super("twitter.com")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function _e(t,e){return ve.apply(this,arguments)}function ve(){return(ve=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signUp",L(t,e))})).apply(this,arguments)}class be{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return(0,r.Z)(function*(){const r=yield ut._fromIdTokenResponse(t,n,i),s=we(n);return new be({user:r,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,r.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const r=we(n);return new be({user:t,providerId:r,_tokenResponse:n,operationType:e})})()}}function we(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Se(){return(Se=(0,r.Z)(function*(t){var e;const n=At(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new be({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield _e(n,{returnSecureToken:!0}),i=yield be._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ce extends s.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ce.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Ce(t,e,n,r)}}function ke(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ce._fromErrorAndOperation(t,n,e,r);throw n})}function xe(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function Ae(){return(Ae=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t);yield Te(!0,n,e);const{providerUserInfo:r}=yield V(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),i=xe(r||[]);return n.providerData=n.providerData.filter(t=>i.has(t.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Ee(t,e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,r.Z)(function*(t,e,n=!1){const r=yield Q(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return be._forOperation(t,"link",r)})).apply(this,arguments)}function Te(t,e,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(t,e,n){yield nt(e);const r=!1===t?"provider-already-linked":"no-such-provider";v(xe(e.providerData).has(n)===t,e.auth,r)})).apply(this,arguments)}function Pe(t,e){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Q(t,ke(r,i,e,t),n);v(s.idToken,r,"internal-error");const o=K(s.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(t.uid===a,r,"user-mismatch"),be._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Re(t,e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(t,e,n=!1){const r="signIn",i=yield ke(t,r,e),s=yield be._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function De(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(t,e){return Re(At(t),e)})).apply(this,arguments)}function Me(t,e){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t);return yield Te(!1,n,e.providerId),Ee(n,e)})).apply(this,arguments)}function qe(t,e){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(t,e){return Pe((0,s.m9)(t),e)})).apply(this,arguments)}function Ue(t,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithCustomToken",L(t,e))})).apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(t,e){const n=At(t),r=yield Ue(n,{token:e,returnSecureToken:!0}),i=yield be._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class He{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?We._fromServerResponse(t,e):p(t,"internal-error")}}class We extends He{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new We(e)}}function Ge(t,e,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Ze(){return(Ze=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"PASSWORD_RESET",email:e};n&&Ge(r,i,n),yield zt(r,i)})).apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(t,e,n){yield Pt((0,s.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(t,e){yield Dt((0,s.m9)(t),{oobCode:e})})).apply(this,arguments)}function Ke(t,e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t),r=yield Pt(n,{oobCode:e}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=He._fromServerResponse(At(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(t,e){const{data:n}=yield Ke((0,s.m9)(t),e);return n.email})).apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(t,e,n){const r=At(t),i=yield _e(r,{returnSecureToken:!0,email:e,password:n}),s=yield be._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"EMAIL_SIGNIN",email:e};v(n.handleCodeInApp,r,"argument-error"),n&&Ge(r,i,n),yield Ht(r,i)})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i=le.credentialWithLink(e,n||k());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),De(r,i)})).apply(this,arguments)}function nn(t,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:createAuthUri",L(t,e))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(t,e){const n={identifier:e,continueUri:x()?k():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(t),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Ge(n.auth,r,e);const{email:i}=yield Bt(n.auth,r);i!==t.email&&(yield t.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Ge(r.auth,i,n);const{email:o}=yield Gt(r.auth,i);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function ln(t,e){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,s.m9)(t),i={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Q(r,ln(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(t,e,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(t,e,n){const{auth:r}=t,i={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=yield Q(t,Rt(r,i));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class pn extends fn{constructor(t,e,n,r){super(t,e,n),this.username=r}}class gn extends fn{constructor(t,e){super(t,"facebook.com",e)}}class mn extends pn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class yn extends fn{constructor(t,e){super(t,"google.com",e)}}class _n extends pn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function vn(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null==t?void 0:t.idToken)){const r=null===(n=null===(e=K(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new _n(s,i,t.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class bn{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new bn("enroll",t)}static _fromMfaPendingCredential(t){return new bn("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return bn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(t.multiFactorSession.idToken)}return null}}class wn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=At(t),i=e.customData._serverResponse,s=(i.mfaInfo||[]).map(t=>He._fromServerResponse(n,t));v(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new wn(o,s,function(){var t=(0,r.Z)(function*(t){const r=yield t._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=yield be._fromIdTokenResponse(n,e.operationType,s);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return v(e.user,n,"internal-error"),be._forOperation(e.user,e.operationType,s);default:p(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,r.Z)(function*(){return e.signInResolver(t)})()}}function Sn(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:start",L(t,e))}class Cn{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>He._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new Cn(t)}getSession(){var t=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,r.Z)(function*(){const r=t,i=yield n.getSession(),s=yield Q(n.user,r._process(n.user.auth,i,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,r.Z)(function*(){const n="string"==typeof t?t:t.uid,r=yield e.user.getIdToken(),i=yield Q(e.user,(s=e.user.auth,o={idToken:r,mfaEnrollmentId:n},R(s,"POST","/v2/accounts/mfaEnrollment:withdraw",L(s,o))));var s,o;e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(i);try{yield e.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const kn=new WeakMap,xn="__sak";class An{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(xn,"1"),this.storage.removeItem(xn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const En=(()=>{class t extends An{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,s.z$)();return mt(t)||St(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,t,e),i.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield e().call(n,t);return n.localCache[t]=JSON.stringify(r),r})()}_remove(t){var e=()=>super._remove,n=this;return(0,r.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),In=(()=>{class t extends An{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let Tn=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const r=new t(e);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,r.Z)(function*(){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var t=(0,r.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,r.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Nn(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Pn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Nn("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Ln(){return window}function Rn(){return void 0!==Ln().WorkerGlobalScope&&"function"==typeof Ln().importScripts}function On(){return(On=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const Dn="firebaseLocalStorageDb",Fn="firebaseLocalStorage",Mn="fbase_key";class jn{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function qn(t,e){return t.transaction([Fn],e?"readwrite":"readonly").objectStore(Fn)}function Bn(){const t=indexedDB.open(Dn,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Fn,{keyPath:Mn})}catch(r){n(r)}}),t.addEventListener("success",(0,r.Z)(function*(){const n=t.result;n.objectStoreNames.contains(Fn)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(Dn);return new jn(t).toPromise()}(),e(yield Bn()))}))})}function Un(t,e,n){return zn.apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(t,e,n){const r=qn(t,!0).put({[Mn]:e,value:n});return new jn(r).toPromise()})).apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(t,e){const n=qn(t,!1).get(e),r=yield new jn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Hn(t,e){const n=qn(t,!0).delete(e);return new jn(n).toPromise()}const Wn=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,r.Z)(function*(){return t.db||(t.db=yield Bn()),t.db})()}_withRetries(t){var e=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(r){if(n++>3)throw r;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,r.Z)(function*(){return Rn()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,r.Z)(function*(){t.receiver=Tn._getInstance(Rn()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,r.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,r.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,r.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return On.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Pn(t.activeServiceWorker);const r=yield t.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,r.Z)(function*(){var n;if(e.sender&&e.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Bn();return yield Un(t,xn,"1"),yield Hn(t,xn),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,r.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Un(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return Vn.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,r.Z)(function*(){return e._withPendingWrite((0,r.Z)(function*(){return yield e._withRetries(e=>Hn(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,r.Z)(function*(){const e=yield t._withRetries(t=>{const e=qn(t,!1).getAll();return new jn(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(t.localCache[i])!==JSON.stringify(s)&&(t.notifyListeners(i,s),n.push(i));for(const i of Object.keys(t.localCache))t.localCache[i]&&!r.has(i)&&(t.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Gn(t,e){return R(t,"POST","/v2/accounts/mfaSignIn:start",L(t,e))}function Zn(){return(Zn=(0,r.Z)(function*(t){return(yield R(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $n(t){return new Promise((e,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=g("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Yn(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Kn=1e12;class Qn{constructor(t){this.auth=t,this.counter=Kn,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new Jn(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Kn;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Kn))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,r.Z)(function*(){var n;return null===(n=e._widgets.get(t||Kn))||void 0===n||n.execute(),""})()}}class Jn{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof t?document.getElementById(t):t;v(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Yn("rcb"),tr=new E(3e4,6e4);class er{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ln().grecaptcha}load(t,e=""){return v(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Ln().grecaptcha):new Promise((n,r)=>{const i=Ln().setTimeout(()=>{r(g(t,"network-request-failed"))},tr.get());Ln()[Xn]=()=>{Ln().clearTimeout(i),delete Ln()[Xn];const s=Ln().grecaptcha;if(!s)return void r(g(t,"internal-error"));const o=s.render;s.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(s)},$n(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(i),r(g(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!Ln().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(t){return(0,r.Z)(function*(){return new Qn(t)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(t,e=Object.assign({},ir),n){this.parameters=e,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=At(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new er,this.validateStartingState()}verify(){var t=this;return(0,r.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(r=>{const i=e=>{e&&(t.tokenChangeListeners.delete(i),r(e))};t.tokenChangeListeners.add(i),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=Ln()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,r.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,r.Z)(function*(){v(x()&&!Rn(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return Zn.apply(this,arguments)}(t.auth);v(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=oe._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function ar(){return(ar=(0,r.Z)(function*(t,e,n){const r=At(t),i=yield ur(r,e,(0,s.m9)(n));return new or(i,t=>De(r,t))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);yield Te(!1,r,"phone");const i=yield ur(r.auth,e,(0,s.m9)(n));return new or(i,t=>Me(r,t))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i=yield ur(r.auth,e,(0,s.m9)(n));return new or(i,t=>qe(r,t))})).apply(this,arguments)}function ur(t,e,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(v("string"==typeof i,t,"argument-error"),v(n.type===rr,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return v("enroll"===e.type,t,"internal-error"),(yield Sn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{v("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return v(n,t,"missing-multi-factor-info"),(yield Gn(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield te(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(t,e){yield Ee((0,s.m9)(t),e)})).apply(this,arguments)}let fr=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=At(e)}verifyPhoneNumber(t,e){return ur(this.auth,t,(0,s.m9)(e))}static credential(t,e){return oe._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?oe._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function pr(t,e){return e?C(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gr extends Nt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mr(t){return Re(t.auth,new gr(t),t.bypassAuthState)}function yr(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Pe(n,new gr(t),t.bypassAuthState)}function _r(t){return vr.apply(this,arguments)}function vr(){return(vr=(0,r.Z)(function*(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Ee(n,new gr(t),t.bypassAuthState)})).apply(this,arguments)}class br{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,r.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(r){t.reject(r)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const l={auth:e.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(l))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:p(this.auth,"internal-error")}}resolve(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new E(2e3,1e4);function Sr(){return(Sr=(0,r.Z)(function*(t,e,n){const r=At(t);y(t,e,ce);const i=pr(r,n);return new xr(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Cr(){return(Cr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);y(r.auth,e,ce);const i=pr(r.auth,n);return new xr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function kr(){return(kr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);y(r.auth,e,ce);const i=pr(r.auth,n);return new xr(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let xr=(()=>{class t extends br{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,r.Z)(function*(){const e=yield t.execute();return v(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,r.Z)(function*(){w(1===t.filter.length,"Popup operations only handle one event");const e=Nn();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(g(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,wr.get())};t()}}return t.currentPopupAction=null,t})();const Ar=new Map;class Er extends br{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,r.Z)(function*(){let n=Ar.get(e.auth._key());if(!n){try{const r=(yield function(t,e){return Ir.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Ar.set(e.auth._key(),n)}return e.bypassAuthState||Ar.set(e.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const r=yield n.auth._redirectUserForId(t.eventId);if(r)return n.user=r,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ir(){return(Ir=(0,r.Z)(function*(t,e){const n=Lr(e),r=Pr(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Tr(t,e){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(t,e){return Pr(t)._set(Lr(e),"true")})).apply(this,arguments)}function Pr(t){return C(t._redirectPersistence)}function Lr(t){return dt("pendingRedirect",t.config.apiKey,t.name)}function Rr(){return(Rr=(0,r.Z)(function*(t,e,n){const r=At(t);y(t,e,ce);const i=pr(r,n);return yield Tr(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);y(r.auth,e,ce);const i=pr(r.auth,n);yield Tr(i,r.auth);const o=yield qr(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);y(r.auth,e,ce);const i=pr(r.auth,n);yield Te(!1,r,e.providerId),yield Tr(i,r.auth);const o=yield qr(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(t,e){return yield At(t)._initializationPromise,Mr(t,e,!1)})).apply(this,arguments)}function Mr(t,e){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(t,e,n=!1){const r=At(t),i=pr(r,e),s=new Er(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}function qr(t){return Br.apply(this,arguments)}function Br(){return(Br=(0,r.Z)(function*(t){const e=Nn(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class Ur{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vr(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Vr(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(g(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(t))}saveEventToCache(t){this.cachedEventUids.add(zr(t)),this.lastProcessedEventTime=Date.now()}}function zr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Vr({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Hr(t){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,r.Z)(function*(t,e={}){return R(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zr=/^https?/;function $r(){return($r=(0,r.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Hr(t);for(const r of e)try{if(Yr(r))return}catch(n){}p(t,"unauthorized-domain")})).apply(this,arguments)}function Yr(t){const e=k(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Zr.test(n))return!1;if(Gr.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kr=new E(3e4,6e4);function Qr(){const t=Ln().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Jr=null;function Xr(t){return Jr=Jr||function(t){return new Promise((e,n)=>{var r,i,s;function o(){Qr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(g(t,"network-request-failed"))},timeout:Kr.get()})}if(null===(i=null===(r=Ln().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ln().gapi)||void 0===s?void 0:s.load)){const e=Yn("iframefcb");return Ln()[e]=()=>{gapi.load?o():n(g(t,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${e}`).catch(t=>n(t))}o()}}).catch(t=>{throw Jr=null,t})}(t),Jr}const ti=new E(5e3,15e3),ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:o.SDK_VERSION},i=ni.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(t){const e=yield Xr(t),n=Ln().gapi;return v(n,t,"internal-error"),e.open({where:document.body,url:ri(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},e=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield e.restyle({setHideOnLeave:!1});const i=g(t,"network-request-failed"),s=Ln().setTimeout(()=>{r(i)},ti.get());function o(){Ln().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{r(i)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ai(t,e,n,r,i,a){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(e instanceof ce){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,s.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof ue){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:t}){return t.emulator?I(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,s.xO)(c).slice(1)}`}const li="webStorageSupport";class ci extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new ci(t)}_finalizeEnroll(t,e,n){return function(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:finalize",L(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return R(t,"POST","/v2/accounts/mfaSignIn:finalize",L(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ui=(()=>{class t{constructor(){}static assertion(t){return ci._fromCredential(t)}}return t.FACTOR_ID="phone",t})();var hi,di="@firebase/auth",fi="0.19.4";class pi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,r.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gi(){return window}function mi(){return(mi=(0,r.Z)(function*(t,e,n){var r;const{BuildInfo:i}=gi();w(e.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(e.sessionId),o={};return St()?o.ibi=i.packageName:vt()?o.apn=i.packageName:p(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(t){const{BuildInfo:e}=gi(),n={};St()?n.iosBundleId=e.packageName:vt()?n.androidPackageName=e.packageName:p(t,"operation-not-supported-in-this-environment"),yield Hr(t,n)})).apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(t,e,n){const{cordova:r}=gi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var t;s();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(t,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),vt()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(t){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(t){const e=wi(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wi(t){if(w(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new c.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),v(!(null==i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(hi)},s=new xt(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(C);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",t=>{return e=At(t.getProvider("auth").getImmediate()),new pi(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,fi,void 0),(0,o.registerVersion)(di,fi,"esm2017");class Si extends Ur{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,r.Z)(function*(){yield t.initPromise})()}}function Ci(t){return ki.apply(this,arguments)}function ki(){return(ki=(0,r.Z)(function*(t){const e=yield Ai()._get(Ei(t));return e&&(yield Ai()._remove(Ei(t))),e})).apply(this,arguments)}function xi(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Ai(){return C(En)}function Ei(t){return dt("authEvent",t.config.apiKey,t.name)}function Ii(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,s.zd)(n.join("?"))}function Ti(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ni(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Pi(t=(0,s.z$)()){return!("file:"!==Ni()&&"ionic:"!==Ni()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Li(){try{const t=self.localStorage,e=Nn();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(t=(0,s.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,s.hl)()}catch(t){return Ri()&&(0,s.hl)()}return!1}function Ri(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oi(){return("http:"===Ni()||"https:"===Ni()||(0,s.ru)()||Pi())&&!((0,s.b$)()||(0,s.UG)())&&Li()&&!Ri()}function Di(){return Pi()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,r.Z)(function*(){return!!Di()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},ji=v,qi="persistence";function Bi(t){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,r.Z)(function*(t){yield t._initializationPromise;const e=zi(),n=dt(qi,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function zi(){return"undefined"!=typeof window?window:null}const Vi=v;class Hi{constructor(){this.browserResolver=C(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=In,this._completeRedirectFn=Mr}_openPopup(t,e,n,i){var o=this;return(0,r.Z)(function*(){var r;w(null===(r=o.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(t,e,n,k(),i);return function(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=yt(u)?"_blank":n),gt(u)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,s.z$)()){var e;return St(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",l),new oi(null);const d=window.open(e||"",l,h);v(d,t,"popup-blocked");try{d.focus()}catch(f){}return new oi(d)}(t,a,Nn())})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(t),r=ai(t,e,n,k(),i),Ln().location.href=r,new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){var e=this;return(0,r.Z)(function*(){const n=yield function(t){return ii.apply(this,arguments)}(t),r=new Ur(t);return n.register("authEvent",e=>(v(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=n,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(li,{type:li},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),p(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return $r.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ct()||mt()||St()}}),this.cordovaResolver=C(class{constructor(){this._redirectPersistence=In,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mr}_initialize(t){var e=this;return(0,r.Z)(function*(){const n=t._key();let r=e.eventManagers.get(n);return r||(r=new Si(t),e.eventManagers.set(n,r),e.attachCallbackListeners(t,r)),r})()}_openPopup(t){p(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,i){var o=this;return(0,r.Z)(function*(){!function(t){var e,n,r,i,s,o,a,l,c,u;const h=gi();v("function"==typeof(null===(e=null==h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const r=yield o._initialize(t);yield r.initialized(),r.resetRedirect(),Ar.clear(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:xi(),postBody:null,tenantId:t.tenantId,error:g(t,"no-auth-event")}}(t,n,i);yield function(t,e){return Ai()._set(Ei(t),e)}(t,a);const l=yield function(t,e,n){return mi.apply(this,arguments)}(t,a,e),c=yield function(t){const{cordova:e}=gi();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,function(t=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(t,e,n){return _i.apply(this,arguments)}(t,r,c)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return yi.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=gi(),o=setTimeout((0,r.Z)(function*(){yield Ci(t),e.onEvent(Ti())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ci(t);let i=null;r&&(null==n?void 0:n.url)&&(i=function(t,e){var n,r;const i=function(t){const e=Ii(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ii(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ii(i).link||i||r||n||t}(e);if(i.includes("/__/auth/callback")){const e=Ii(i),s=e.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(e.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),e.onEvent(i||Ti())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;gi().handleOpenURL=function(){var t=(0,r.Z)(function*(t){if(t.toLowerCase().startsWith(c)&&a({url:t}),"function"==typeof l)try{l(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=In,this._completeRedirectFn=Mr}_initialize(t){var e=this;return(0,r.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,i)})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,i)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return Di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,r.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return Fi.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function Wi(t){return t.unwrap()}function Gi(t){const{_tokenResponse:e}=t instanceof s.ZR?t.customData:t;if(!e)return null;if(!(t instanceof s.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return fr.credentialFromResult(t);const n=e.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=fe;break;case"facebook.com":r=de;break;case"github.com":r=pe;break;case"twitter.com":r=ye;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=e;return i||s||t||o?o?n.startsWith("saml.")?ge._create(n,o):Xt._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:t,accessToken:i}):new he(n).credential({idToken:t,accessToken:i,rawNonce:a}):null}return t instanceof s.ZR?r.credentialFromError(t):r.credentialFromResult(t)}function Zi(t,e){return e.catch(e=>{throw e instanceof s.ZR&&function(t,e){var n;const r=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new Ki(t,function(t,e){var n;const r=(0,s.m9)(t),i=e;return v(e.customData.operationType,r,"argument-error"),v(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(t,e));else if(r){const t=Gi(e),n=e;t&&(n.credential=t,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(t,e),e}).then(t=>{const e=t.user;return{operationType:t.operationType,credential:(n=t,Gi(n)),additionalUserInfo:vn(t),user:Qi.getOrCreate(e)};var n})}function $i(t,e){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,r.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>Zi(t,n.confirm(e))}})).apply(this,arguments)}class Ki{constructor(t,e){this.resolver=e,this.auth=t.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Zi(Wi(this.auth),this.resolver.resolveSignIn(t))}}class Qi{constructor(t){this._delegate=t,this.multiFactor=function(t){const e=(0,s.m9)(t);return kn.has(e)||kn.set(e,Cn._fromUser(e)),kn.get(e)}(t)}static getOrCreate(t){return Qi.USER_MAP.has(t)||Qi.USER_MAP.set(t,new Qi(t)),Qi.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,r.Z)(function*(){return Zi(e.auth,Me(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,r.Z)(function*(){return $i(n.auth,function(t,e,n){return lr.apply(this,arguments)}(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,r.Z)(function*(){return Zi(e.auth,function(t,e,n){return kr.apply(this,arguments)}(e._delegate,t,Hi))})()}linkWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield Bi(At(e.auth)),function(t,e,n){return function(t,e,n){return Dr.apply(this,arguments)}(t,e,n)}(e._delegate,t,Hi)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,r.Z)(function*(){return Zi(e.auth,qe(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return $i(this.auth,function(t,e,n){return cr.apply(this,arguments)}(this._delegate,t,e))}reauthenticateWithPopup(t){return Zi(this.auth,function(t,e,n){return Cr.apply(this,arguments)}(this._delegate,t,Hi))}reauthenticateWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield Bi(At(e.auth)),function(t,e,n){return function(t,e,n){return Or.apply(this,arguments)}(t,e,n)}(e._delegate,t,Hi)})()}sendEmailVerification(t){return function(t,e){return on.apply(this,arguments)}(this._delegate,t)}unlink(t){var e=this;return(0,r.Z)(function*(){return yield function(t,e){return Ae.apply(this,arguments)}(e._delegate,t),e})()}updateEmail(t){return function(t,e){return hn((0,s.m9)(t),e,null)}(this._delegate,t)}updatePassword(t){return function(t,e){return hn((0,s.m9)(t),null,e)}(this._delegate,t)}updatePhoneNumber(t){return function(t,e){return dr.apply(this,arguments)}(this._delegate,t)}updateProfile(t){return function(t,e){return un.apply(this,arguments)}(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return function(t,e,n){return an.apply(this,arguments)}(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qi.USER_MAP=new WeakMap;const Ji=v;let Xi=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;Ji(n,"invalid-api-key",{appName:t.name});let r=[ht];if("undefined"!=typeof window){r=function(t,e){const n=zi();if(!(null==n?void 0:n.sessionStorage))return[];const r=dt(qi,t,e);switch(n.sessionStorage.getItem(r)){case Mi.NONE:return[ht];case Mi.LOCAL:return[Wn,In];case Mi.SESSION:return[In];default:return[]}}(n,t.name);for(const t of[Wn,En,In])r.includes(t)||r.push(t)}Ji(n,"invalid-api-key",{appName:t.name});const i="undefined"!=typeof window?Hi:void 0;this._delegate=e.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){!function(t,e,n){const r=At(t);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=It(e),{host:o,port:a}=function(t){const e=It(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Tt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Tt(e)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(this._delegate,t,e)}applyActionCode(t){return function(t,e){return Ye.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return Ke(this._delegate,t)}confirmPasswordReset(t,e){return function(t,e,n){return $e.apply(this,arguments)}(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,r.Z)(function*(){return Zi(n._delegate,function(t,e,n){return Xe.apply(this,arguments)}(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function(t,e){return sn.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function(t,e){const n=ae.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,t)}getRedirectResult(){var t=this;return(0,r.Z)(function*(){Ji(Oi(),t._delegate,"operation-not-supported-in-this-environment");const e=yield function(t,e){return Fr.apply(this,arguments)}(t._delegate,Hi);return e?Zi(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){At(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:s}=ts(t,e,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:s}=ts(t,e,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(t,e){return function(t,e,n){return tn.apply(this,arguments)}(this._delegate,t,e)}sendPasswordResetEmail(t,e){return function(t,e,n){return Ze.apply(this,arguments)}(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,r.Z)(function*(){let n;switch(function(t,e){ji(Object.values(Mi).includes(e),t,"invalid-persistence-type"),(0,s.b$)()?ji(e!==Mi.SESSION,t,"unsupported-persistence-type"):(0,s.UG)()?ji(e===Mi.NONE,t,"unsupported-persistence-type"):Ri()?ji(e===Mi.NONE||e===Mi.LOCAL&&(0,s.hl)(),t,"unsupported-persistence-type"):ji(e===Mi.NONE||Li(),t,"unsupported-persistence-type")}(e._delegate,t),t){case Mi.SESSION:n=In;break;case Mi.LOCAL:n=(yield C(Wn)._isAvailable())?Wn:En;break;case Mi.NONE:n=ht;break;default:return p("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Zi(this._delegate,function(t){return Se.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Zi(this._delegate,De(this._delegate,t))}signInWithCustomToken(t){return Zi(this._delegate,function(t,e){return Ve.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,e){return Zi(this._delegate,function(t,e,n){return De((0,s.m9)(t),le.credential(e,n))}(this._delegate,t,e))}signInWithEmailLink(t,e){return Zi(this._delegate,function(t,e,n){return en.apply(this,arguments)}(this._delegate,t,e))}signInWithPhoneNumber(t,e){return $i(this._delegate,function(t,e,n){return ar.apply(this,arguments)}(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,r.Z)(function*(){return Ji(Oi(),e._delegate,"operation-not-supported-in-this-environment"),Zi(e._delegate,function(t,e,n){return Sr.apply(this,arguments)}(e._delegate,t,Hi))})()}signInWithRedirect(t){var e=this;return(0,r.Z)(function*(){return Ji(Oi(),e._delegate,"operation-not-supported-in-this-environment"),yield Bi(e._delegate),function(t,e,n){return function(t,e,n){return Rr.apply(this,arguments)}(t,e,n)}(e._delegate,t,Hi)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function(t,e){return Je.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Mi,t})();function ts(t,e,n){let r=t;"function"!=typeof t&&({next:r,error:e,complete:n}=t);const i=r;return{next:t=>i(t&&Qi.getOrCreate(t)),error:e,complete:n}}class es{constructor(){this.providerId="phone",this._delegate=new fr(Wi(i.Z.auth()))}static credential(t,e){return fr.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}es.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,es.PROVIDER_ID=fr.PROVIDER_ID;const ns=v;var rs;(rs=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new Xi(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:le,FacebookAuthProvider:de,GithubAuthProvider:pe,GoogleAuthProvider:fe,OAuthProvider:he,SAMLAuthProvider:me,PhoneAuthProvider:es,PhoneMultiFactorGenerator:ui,RecaptchaVerifier:class{constructor(t,e,n=i.Z.app()){var r;ns(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:ye,Auth:Xi,AuthCredential:Nt,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rs.registerVersion("@firebase/auth-compat","0.2.4")},6676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,s=new Promise(function(s,o){n(i=t[e].apply(t,r)).then(s,o)});return s.request=i,s}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new u(t,i.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function l(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),s=i.request;return s&&(s.onupgradeneeded=function(t){n&&n(new f(s.result,t.oldVersion,s.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},3815:function(t,e,n){var r;t=n.nmd(t),(function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,u=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",_="[object Date]",v="[object Error]",b="[object Function]",w="[object GeneratorFunction]",S="[object Map]",C="[object Number]",k="[object Object]",x="[object Promise]",A="[object RegExp]",E="[object Set]",I="[object String]",T="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",O="[object Float64Array]",D="[object Int8Array]",F="[object Int16Array]",M="[object Int32Array]",j="[object Uint8Array]",q="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",z=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Z=RegExp(W.source),$=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="a-z\\xdf-\\xf6\\xf8-\\xff",Ct="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xt="["+kt+"]",At="["+wt+"]",Et="\\d+",It="["+St+"]",Tt="[^\\ud800-\\udfff"+kt+Et+"\\u2700-\\u27bf"+St+Ct+"]",Nt="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="["+Ct+"]",Dt="(?:"+It+"|"+Tt+")",Ft="(?:"+Ot+"|"+Tt+")",Mt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+At+"|"+Nt+")?",Bt="[\\ufe0e\\ufe0f]?",Ut=Bt+qt+"(?:\\u200d(?:"+[Pt,Lt,Rt].join("|")+")"+Bt+qt+")*",zt="(?:"+["[\\u2700-\\u27bf]",Lt,Rt].join("|")+")"+Ut,Vt="(?:"+[Pt+At+"?",At,Lt,Rt,"[\\ud800-\\udfff]"].join("|")+")",Ht=RegExp("['\u2019]","g"),Wt=RegExp(At,"g"),Gt=RegExp(Nt+"(?="+Nt+")|"+Vt+Ut,"g"),Zt=RegExp([Ot+"?"+It+"+"+Mt+"(?="+[xt,Ot,"$"].join("|")+")",Ft+"+"+jt+"(?="+[xt,Ot+Dt,"$"].join("|")+")",Ot+"?"+Dt+"+"+Mt,Ot+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et,zt].join("|"),"g"),$t=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qt=-1,Jt={};Jt[R]=Jt[O]=Jt[D]=Jt[F]=Jt[M]=Jt[j]=Jt[q]=Jt[B]=Jt[U]=!0,Jt[g]=Jt[m]=Jt[P]=Jt[y]=Jt[L]=Jt[_]=Jt[v]=Jt[b]=Jt[S]=Jt[C]=Jt[k]=Jt[A]=Jt[E]=Jt[I]=Jt[N]=!1;var Xt={};Xt[g]=Xt[m]=Xt[P]=Xt[L]=Xt[y]=Xt[_]=Xt[R]=Xt[O]=Xt[D]=Xt[F]=Xt[M]=Xt[S]=Xt[C]=Xt[k]=Xt[A]=Xt[E]=Xt[I]=Xt[T]=Xt[j]=Xt[q]=Xt[B]=Xt[U]=!0,Xt[v]=Xt[b]=Xt[N]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,se=re||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&t&&!t.nodeType&&t,le=ae&&ae.exports===oe,ce=le&&re.process,ue=function(){try{return ae&&ae.require&&ae.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(t){}}(),he=ue&&ue.isArrayBuffer,de=ue&&ue.isDate,fe=ue&&ue.isMap,pe=ue&&ue.isRegExp,ge=ue&&ue.isSet,me=ue&&ue.isTypedArray;function ye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _e(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Se(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ce(t,e){return!(null==t||!t.length)&&Re(t,e,0)>-1}function ke(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function xe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ee(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Ie(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ne=Me("length");function Pe(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function Le(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Re(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Le(t,De,n)}function Oe(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function De(t){return t!=t}function Fe(t,e){var n=null==t?0:t.length;return n?Be(t,e)/n:d}function Me(t){return function(e){return null==e?i:e[t]}}function je(t){return function(e){return null==t?i:t[e]}}function qe(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function Be(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Ue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ze(t){return t?t.slice(0,an(t)+1).replace(rt,""):t}function Ve(t){return function(e){return t(e)}}function He(t,e){return xe(e,function(e){return t[e]})}function We(t,e){return t.has(e)}function Ge(t,e){for(var n=-1,r=t.length;++n<r&&Re(e,t[n],0)>-1;);return n}function Ze(t,e){for(var n=t.length;n--&&Re(e,t[n],0)>-1;);return n}function $e(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ye=je({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ke=je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qe(t){return"\\"+te[t]}function Je(t){return $t.test(t)}function Xe(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function nn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function sn(t){return Je(t)?function(t){for(var e=Gt.lastIndex=0;Gt.test(t);)++e;return e}(t):Ne(t)}function on(t){return Je(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.split("")}(t)}function an(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ln=je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function t(e){var n,r=(e=null==e?se:cn.defaults(se.Object(),e,cn.pick(se,Kt))).Array,it=e.Date,wt=e.Error,St=e.Function,Ct=e.Math,kt=e.Object,xt=e.RegExp,At=e.String,Et=e.TypeError,It=r.prototype,Tt=kt.prototype,Nt=e["__core-js_shared__"],Pt=St.prototype.toString,Lt=Tt.hasOwnProperty,Rt=0,Ot=(n=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Dt=Tt.toString,Ft=Pt.call(kt),Mt=se._,jt=xt("^"+Pt.call(Lt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=le?e.Buffer:i,Bt=e.Symbol,Ut=e.Uint8Array,zt=qt?qt.allocUnsafe:i,Vt=tn(kt.getPrototypeOf,kt),Gt=kt.create,$t=Tt.propertyIsEnumerable,te=It.splice,re=Bt?Bt.isConcatSpreadable:i,ie=Bt?Bt.iterator:i,oe=Bt?Bt.toStringTag:i,ae=function(){try{var t=ls(kt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ce=e.clearTimeout!==se.clearTimeout&&e.clearTimeout,ue=it&&it.now!==se.Date.now&&it.now,Ne=e.setTimeout!==se.setTimeout&&e.setTimeout,je=Ct.ceil,un=Ct.floor,hn=kt.getOwnPropertySymbols,dn=qt?qt.isBuffer:i,fn=e.isFinite,pn=It.join,gn=tn(kt.keys,kt),mn=Ct.max,yn=Ct.min,_n=it.now,vn=e.parseInt,bn=Ct.random,wn=It.reverse,Sn=ls(e,"DataView"),Cn=ls(e,"Map"),kn=ls(e,"Promise"),xn=ls(e,"Set"),An=ls(e,"WeakMap"),En=ls(kt,"create"),In=An&&new An,Tn={},Nn=Ms(Sn),Pn=Ms(Cn),Ln=Ms(kn),Rn=Ms(xn),On=Ms(An),Dn=Bt?Bt.prototype:i,Fn=Dn?Dn.valueOf:i,Mn=Dn?Dn.toString:i;function jn(t){if(ea(t)&&!Ho(t)&&!(t instanceof zn)){if(t instanceof Un)return t;if(Lt.call(t,"__wrapped__"))return js(t)}return new Un(t)}var qn=function(){function t(){}return function(e){if(!ta(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Hn(t);this.size=e.size}function $n(t,e){var n=Ho(t),r=!n&&Vo(t),i=!n&&!r&&$o(t),s=!n&&!r&&!i&&ca(t),o=n||r||i||s,a=o?Ue(t.length,At):[],l=a.length;for(var c in t)!e&&!Lt.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gs(c,l))||a.push(c);return a}function Yn(t){var e=t.length;return e?t[Wr(0,e-1)]:i}function Kn(t,e){return Ls(Ai(t),sr(e,0,t.length))}function Qn(t){return Ls(Ai(t))}function Jn(t,e,n){(n!==i&&!Bo(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Xn(t,e,n){var r=t[e];Lt.call(t,e)&&Bo(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Bo(t[n][0],e))return n;return-1}function er(t,e,n,r){return ur(t,function(t,i,s){e(r,t,n(t),s)}),r}function nr(t,e){return t&&Ei(e,Pa(e),t)}function rr(t,e,n){"__proto__"==e&&ae?ae(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Aa(t,e[n]);return o}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function or(t,e,n,r,s,o){var a,l=1&e,c=2&e,u=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!ta(t))return t;var h=Ho(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return Ai(t,a)}else{var d=hs(t),f=d==b||d==w;if($o(t))return bi(t,l);if(d==k||d==g||f&&!s){if(a=c||f?{}:fs(t),!l)return c?function(t,e){return Ei(t,us(t),e)}(t,function(t,e){return t&&Ei(e,La(e),t)}(a,t)):function(t,e){return Ei(t,cs(t),e)}(t,nr(a,t))}else{if(!Xt[d])return s?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case P:return wi(t);case y:case _:return new r(+t);case L:return function(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case O:case D:case F:case M:case j:case q:case B:case U:return Si(t,n);case S:return new r;case C:case I:return new r(t);case A:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case E:return new r;case T:return Fn?kt(Fn.call(t)):{}}}(t,d,l)}}o||(o=new Zn);var p=o.get(t);if(p)return p;o.set(t,a),oa(t)?t.forEach(function(r){a.add(or(r,e,n,r,t,o))}):na(t)&&t.forEach(function(r,i){a.set(i,or(r,e,n,i,t,o))});var m=h?i:(u?c?es:ts:c?La:Pa)(t);return ve(m||t,function(r,i){m&&(r=t[i=r]),Xn(a,i,or(r,e,n,i,t,o))}),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=kt(t);r--;){var s=n[r],o=t[s];if(o===i&&!(s in t)||!(0,e[s])(o))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Et(s);return Is(function(){t.apply(i,n)},e)}function cr(t,e,n,r){var i=-1,s=Ce,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=xe(e,Ve(n))),r?(s=ke,o=!1):e.length>=200&&(s=We,o=!1,e=new Gn(e));t:for(;++i<a;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else s(e,h,r)||l.push(u)}return l}jn.templateSettings={escape:Y,evaluate:K,interpolate:Q,variable:"",imports:{_:jn}},(jn.prototype=Bn.prototype).constructor=jn,(Un.prototype=qn(Bn.prototype)).constructor=Un,(zn.prototype=qn(Bn.prototype)).constructor=zn,Vn.prototype.clear=function(){this.__data__=En?En(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(En){var n=e[t];return n===o?i:n}return Lt.call(e,t)?e[t]:i},Vn.prototype.has=function(t){var e=this.__data__;return En?e[t]!==i:Lt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=En&&e===i?o:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():te.call(e,n,1),--this.size,0))},Hn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},Hn.prototype.has=function(t){return tr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Cn||Hn),string:new Vn}},Wn.prototype.delete=function(t){var e=os(this,t).delete(t);return this.size-=e?1:0,e},Wn.prototype.get=function(t){return os(this,t).get(t)},Wn.prototype.has=function(t){return os(this,t).has(t)},Wn.prototype.set=function(t,e){var n=os(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(t){return this.__data__.set(t,o),this},Gn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Cn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(t,e),this.size=n.size,this};var ur=Ni(_r),hr=Ni(vr,!0);function dr(t,e){var n=!0;return ur(t,function(t,r,i){return n=!!e(t,r,i)}),n}function fr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(l===i?a==a&&!la(a):n(a,l)))var l=a,c=o}return c}function pr(t,e){var n=[];return ur(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function gr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ps),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Ae(i,a):r||(i[i.length]=a)}return i}var mr=Pi(),yr=Pi(!0);function _r(t,e){return t&&mr(t,e,Pa)}function vr(t,e){return t&&yr(t,e,Pa)}function br(t,e){return Se(e,function(e){return Qo(t[e])})}function wr(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Fs(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Ho(t)?r:Ae(r,n(t))}function Cr(t){return null==t?t===i?"[object Undefined]":"[object Null]":oe&&oe in kt(t)?function(t){var e=Lt.call(t,oe),n=t[oe];try{t[oe]=i;var r=!0}catch(o){}var s=Dt.call(t);return r&&(e?t[oe]=n:delete t[oe]),s}(t):function(t){return Dt.call(t)}(t)}function kr(t,e){return t>e}function xr(t,e){return null!=t&&Lt.call(t,e)}function Ar(t,e){return null!=t&&e in kt(t)}function Er(t,e,n){for(var s=n?ke:Ce,o=t[0].length,a=t.length,l=a,c=r(a),u=1/0,h=[];l--;){var d=t[l];l&&e&&(d=xe(d,Ve(e))),u=yn(d.length,u),c[l]=!n&&(e||o>=120&&d.length>=120)?new Gn(l&&d):i}d=t[0];var f=-1,p=c[0];t:for(;++f<o&&h.length<u;){var g=d[f],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?We(p,m):s(h,m,n))){for(l=a;--l;){var y=c[l];if(!(y?We(y,m):s(t[l],m,n)))continue t}p&&p.push(m),h.push(g)}}return h}function Ir(t,e,n){var r=null==(t=ks(t,e=mi(e,t)))?t:t[Fs(Ys(e))];return null==r?i:ye(r,t,n)}function Tr(t){return ea(t)&&Cr(t)==g}function Nr(t,e,n,r,s){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=Ho(t),l=Ho(e),c=a?m:hs(t),u=l?m:hs(e),h=(c=c==g?k:c)==k,d=(u=u==g?k:u)==k,f=c==u;if(f&&$o(t)){if(!$o(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Zn),a||ca(t)?Ji(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!s(new Ut(t),new Ut(e)));case y:case _:case C:return Bo(+t,+e);case v:return t.name==e.name&&t.message==e.message;case A:case I:return t==e+"";case S:var a=Xe;case E:if(a||(a=nn),t.size!=e.size&&!(1&r))return!1;var l=o.get(t);if(l)return l==e;r|=2,o.set(t,e);var c=Ji(a(t),a(e),r,i,s,o);return o.delete(t),c;case T:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,c,n,r,s,o);if(!(1&n)){var p=h&&Lt.call(t,"__wrapped__"),b=d&&Lt.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,x=b?e.value():e;return o||(o=new Zn),s(w,x,n,r,o)}}return!!f&&(o||(o=new Zn),function(t,e,n,r,s,o){var a=1&n,l=ts(t),c=l.length;if(c!=ts(e).length&&!a)return!1;for(var u=c;u--;){var h=l[u];if(!(a?h in e:Lt.call(e,h)))return!1}var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++u<c;){var m=t[h=l[u]],y=e[h];if(r)var _=a?r(y,m,h,e,t,o):r(m,y,h,t,e,o);if(!(_===i?m===y||s(m,y,n,r,o):_)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(t,e,n,r,Nr,s))}function Pr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=kt(t);s--;){var l=n[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){var c=(l=n[s])[0],u=t[c],h=l[1];if(a&&l[2]){if(u===i&&!(c in t))return!1}else{var d=new Zn;if(r)var f=r(u,h,c,t,e,d);if(!(f===i?Nr(h,u,3,r,d):f))return!1}}return!0}function Lr(t){return!(!ta(t)||(e=t,Ot&&Ot in e))&&(Qo(t)?jt:gt).test(Ms(t));var e}function Rr(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Ho(t)?jr(t[0],t[1]):Mr(t):dl(t)}function Or(t){if(!bs(t))return gn(t);var e=[];for(var n in kt(t))Lt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t,e){return t<e}function Fr(t,e){var n=-1,i=Go(t)?r(t.length):[];return ur(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function Mr(t){var e=as(t);return 1==e.length&&e[0][2]?Ss(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function jr(t,e){return ys(t)&&ws(e)?Ss(Fs(t),e):function(n){var r=Aa(n,t);return r===i&&r===e?Ea(n,t):Nr(e,r,3)}}function qr(t,e,n,r,s){t!==e&&mr(e,function(o,a){if(s||(s=new Zn),ta(o))!function(t,e,n,r,s,o,a){var l=As(t,n),c=As(e,n),u=a.get(c);if(u)Jn(t,n,u);else{var h=o?o(l,c,n+"",t,e,a):i,d=h===i;if(d){var f=Ho(c),p=!f&&$o(c),g=!f&&!p&&ca(c);h=c,f||p||g?Ho(l)?h=l:Zo(l)?h=Ai(l):p?(d=!1,h=bi(c,!0)):g?(d=!1,h=Si(c,!0)):h=[]:ia(c)||Vo(c)?(h=l,Vo(l)?h=ya(l):ta(l)&&!Qo(l)||(h=fs(c))):d=!1}d&&(a.set(c,h),s(h,c,r,o,a),a.delete(c)),Jn(t,n,h)}}(t,e,a,n,qr,r,s);else{var l=r?r(As(t,a),o,a+"",t,e,s):i;l===i&&(l=o),Jn(t,a,l)}},La)}function Br(t,e){var n=t.length;if(n)return gs(e+=e<0?n:0,n)?t[e]:i}function Ur(t,e,n){e=e.length?xe(e,function(t){return Ho(t)?function(e){return wr(e,1===t.length?t[0]:t)}:t}):[rl];var r=-1;return e=xe(e,Ve(ss())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=Ci(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(Fr(t,function(t,n,i){return{criteria:xe(e,function(e){return e(t)}),index:++r,value:t}}))}function zr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=wr(t,o);n(a,o)&&Kr(s,mi(o,t),a)}return s}function Vr(t,e,n,r){var i=r?Oe:Re,s=-1,o=e.length,a=t;for(t===e&&(e=Ai(e)),n&&(a=xe(t,Ve(n)));++s<o;)for(var l=0,c=e[s],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==t&&te.call(a,l,1),te.call(t,l,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;gs(i)?te.call(t,i,1):li(t,i)}}return t}function Wr(t,e){return t+un(bn()*(e-t+1))}function Gr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Ts(Cs(t,e,rl),t+"")}function $r(t){return Yn(Ba(t))}function Yr(t,e){var n=Ba(t);return Ls(n,sr(e,0,n.length))}function Kr(t,e,n,r){if(!ta(t))return t;for(var s=-1,o=(e=mi(e,t)).length,a=o-1,l=t;null!=l&&++s<o;){var c=Fs(e[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=a){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=ta(h)?h:gs(e[s+1])?[]:{})}Xn(l,c,u),l=l[c]}return t}var Qr=In?function(t,e){return In.set(t,e),t}:rl,Jr=ae?function(t,e){return ae(t,"toString",{configurable:!0,enumerable:!1,value:tl(e),writable:!0})}:rl;function Xr(t){return Ls(Ba(t))}function ti(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function ei(t,e){var n;return ur(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!la(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ri(t,e,rl,n)}function ri(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,l=null===e,c=la(e),u=e===i;s<o;){var h=un((s+o)/2),d=n(t[h]),f=d!==i,p=null===d,g=d==d,m=la(d);if(a)var y=r||g;else y=u?g&&(r||f):l?g&&f&&(r||!p):c?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=e:d<e);y?s=h+1:o=h}return yn(o,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Bo(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function si(t){return"number"==typeof t?t:la(t)?d:+t}function oi(t){if("string"==typeof t)return t;if(Ho(t))return xe(t,oi)+"";if(la(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=Ce,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=ke;else if(s>=200){var c=e?null:Gi(t);if(c)return nn(c);o=!1,i=We,l=new Gn}else l=e?[]:a;t:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function li(t,e){return null==(t=ks(t,e=mi(e,t)))||delete t[Fs(Ys(e))]}function ci(t,e,n,r){return Kr(t,e,n(wr(t,e)),r)}function ui(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ti(t,r?0:s,r?s+1:i):ti(t,r?s+1:0,r?i:s)}function hi(t,e){var n=t;return n instanceof zn&&(n=n.value()),Ee(e,function(t,e){return e.func.apply(e.thisArg,Ae([t],e.args))},n)}function di(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],l=-1;++l<i;)l!=s&&(o[s]=cr(o[s]||a,t[l],e,n));return ai(gr(o,1),e,n)}function fi(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;)n(a,t[r],r<o?e[r]:i);return a}function pi(t){return Zo(t)?t:[]}function gi(t){return"function"==typeof t?t:rl}function mi(t,e){return Ho(t)?t:ys(t,e)?[t]:Ds(_a(t))}var yi=Zr;function _i(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var vi=ce||function(t){return se.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var n=t.length,r=zt?zt(n):new t.constructor(n);return t.copy(r),r}function wi(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function Si(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ci(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=la(t),a=e!==i,l=null===e,c=e==e,u=la(e);if(!l&&!u&&!o&&t>e||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&t<e||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}function ki(t,e,n,i){for(var s=-1,o=t.length,a=n.length,l=-1,c=e.length,u=mn(o-a,0),h=r(c+u),d=!i;++l<c;)h[l]=e[l];for(;++s<a;)(d||s<o)&&(h[n[s]]=t[s]);for(;u--;)h[l++]=t[s++];return h}function xi(t,e,n,i){for(var s=-1,o=t.length,a=-1,l=n.length,c=-1,u=e.length,h=mn(o-l,0),d=r(h+u),f=!i;++s<h;)d[s]=t[s];for(var p=s;++c<u;)d[p+c]=e[c];for(;++a<l;)(f||s<o)&&(d[p+n[a]]=t[s++]);return d}function Ai(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ei(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),s?rr(n,l,c):Xn(n,l,c)}return n}function Ii(t,e){return function(n,r){var i=Ho(n)?_e:er,s=e?e():{};return i(n,t,ss(r,2),s)}}function Ti(t){return Zr(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&ms(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=kt(e);++r<s;){var l=n[r];l&&t(e,l,r,o)}return e})}function Ni(t,e){return function(n,r){if(null==n)return n;if(!Go(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=kt(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Pi(t){return function(e,n,r){for(var i=-1,s=kt(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(!1===n(s[l],l,s))break}return e}}function Li(t){return function(e){var n=Je(e=_a(e))?on(e):i,r=n?n[0]:e.charAt(0),s=n?_i(n,1).join(""):e.slice(1);return r[t]()+s}}function Ri(t){return function(e){return Ee(Qa(Va(e).replace(Ht,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=qn(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function Di(t){return function(e,n,r){var s=kt(e);if(!Go(e)){var o=ss(n,3);e=Pa(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Fi(t){return Xi(function(e){var n=e.length,r=n,o=Un.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Et(s);if(o&&!l&&"wrapper"==rs(a))var l=new Un([],!0)}for(r=l?r:n;++r<n;){var c=rs(a=e[r]),u="wrapper"==c?ns(a):i;l=u&&_s(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[rs(u[0])].apply(l,u[3]):1==a.length&&_s(a)?l[c]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Ho(r))return l.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}})}function Mi(t,e,n,s,o,a,l,u,h,d){var f=e&c,p=1&e,g=2&e,m=24&e,y=512&e,_=g?i:Oi(t);return function i(){for(var c=arguments.length,v=r(c),b=c;b--;)v[b]=arguments[b];if(m)var w=is(i),S=$e(v,w);if(s&&(v=ki(v,s,o,m)),a&&(v=xi(v,a,l,m)),c-=S,m&&c<d){var C=en(v,w);return Hi(t,e,Mi,i.placeholder,n,v,C,u,h,d-c)}var k=p?n:this,x=g?k[t]:t;return c=v.length,u?v=xs(v,u):y&&c>1&&v.reverse(),f&&h<c&&(v.length=h),this&&this!==se&&this instanceof i&&(x=_||Oi(x)),x.apply(k,v)}}function ji(t,e){return function(n,r){return function(t,e,n,r){return _r(t,function(t,i,s){e(r,n(t),i,s)}),r}(n,t,e(r),{})}}function qi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=si(n),r=si(r)),s=t(n,r)}return s}}function Bi(t){return Xi(function(e){return e=xe(e,Ve(ss())),Zr(function(n){var r=this;return t(e,function(t){return ye(t,r,n)})})})}function Ui(t,e){var n=(e=e===i?" ":oi(e)).length;if(n<2)return n?Gr(e,t):e;var r=Gr(e,je(t/sn(e)));return Je(e)?_i(on(r),0,t).join(""):r.slice(0,t)}function zi(t){return function(e,n,s){return s&&"number"!=typeof s&&ms(e,n,s)&&(n=s=i),e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n,i){for(var s=-1,o=mn(je((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:fa(s),t)}}function Vi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Hi(t,e,n,r,s,o,a,c,u,h){var d=8&e;e|=d?l:64,4&(e&=~(d?64:l))||(e&=-4);var f=[t,e,s,d?o:i,d?a:i,d?i:o,d?i:a,c,u,h],p=n.apply(i,f);return _s(t)&&Es(p,f),p.placeholder=r,Ns(p,t,e)}function Wi(t){var e=Ct[t];return function(t,n){if(t=ma(t),(n=null==n?0:yn(pa(n),292))&&fn(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Gi=xn&&1/nn(new xn([,-0]))[1]==u?function(t){return new xn(t)}:ll;function Zi(t){return function(e){var n=hs(e);return n==S?Xe(e):n==E?rn(e):function(t,e){return xe(e,function(e){return[e,t[e]]})}(e,t(e))}}function $i(t,e,n,o,u,h,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Et(s);var g=o?o.length:0;if(g||(e&=-97,o=u=i),d=d===i?d:mn(pa(d),0),f=f===i?f:pa(f),g-=u?u.length:0,64&e){var m=o,y=u;o=u=i}var _=p?i:ns(t),v=[t,e,n,o,u,m,y,h,d,f];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var o=t[3];t[3]=o?ki(o,s,e[4]):s,t[4]=o?en(t[3],a):e[4]}(s=e[5])&&(t[5]=(o=t[5])?xi(o,s,e[6]):s,t[6]=o?en(t[5],a):e[6]),(s=e[7])&&(t[7]=s),r&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,_),t=v[0],e=v[1],n=v[2],o=v[3],u=v[4],!(f=v[9]=v[9]===i?p?0:t.length:mn(v[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var s=Oi(t);return function o(){for(var a=arguments.length,l=r(a),c=a,u=is(o);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:en(l,u);return(a-=h.length)<n?Hi(t,e,Mi,o.placeholder,i,l,h,i,i,n-a):ye(this&&this!==se&&this instanceof o?s:t,this,l)}}(t,e,f):e!=l&&33!=e||u.length?Mi.apply(i,v):function(t,e,n,i){var s=1&e,o=Oi(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=r(u+l),d=this&&this!==se&&this instanceof e?o:t;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return ye(d,s?n:this,h)}}(t,e,n,o);else var b=function(t,e,n){var r=1&e,i=Oi(t);return function e(){return(this&&this!==se&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Ns((_?Qr:Es)(b,v),t,e)}function Yi(t,e,n,r){return t===i||Bo(t,Tt[n])&&!Lt.call(r,n)?e:t}function Ki(t,e,n,r,s,o){return ta(t)&&ta(e)&&(o.set(e,t),qr(t,e,i,Ki,o),o.delete(e)),t}function Qi(t){return ia(t)?i:t}function Ji(t,e,n,r,s,o){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=2&n?new Gn:i;for(o.set(t,e),o.set(e,t);++d<l;){var g=t[d],m=e[d];if(r)var y=a?r(m,g,d,e,t,o):r(g,m,d,t,e,o);if(y!==i){if(y)continue;f=!1;break}if(p){if(!Te(e,function(t,e){if(!We(p,e)&&(g===t||s(g,t,n,r,o)))return p.push(e)})){f=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Xi(t){return Ts(Cs(t,i,Hs),t+"")}function ts(t){return Sr(t,Pa,cs)}function es(t){return Sr(t,La,us)}var ns=In?function(t){return In.get(t)}:ll;function rs(t){for(var e=t.name+"",n=Tn[e],r=Lt.call(Tn,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function is(t){return(Lt.call(jn,"placeholder")?jn:t).placeholder}function ss(){var t=jn.iteratee||il;return t=t===il?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function os(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function as(t){for(var e=Pa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ws(i)]}return e}function ls(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Lr(n)?n:i}var cs=hn?function(t){return null==t?[]:(t=kt(t),Se(hn(t),function(e){return $t.call(t,e)}))}:gl,us=hn?function(t){for(var e=[];t;)Ae(e,cs(t)),t=Vt(t);return e}:gl,hs=Cr;function ds(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,s=!1;++r<i;){var o=Fs(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Xo(i)&&gs(o,i)&&(Ho(t)||Vo(t))}function fs(t){return"function"!=typeof t.constructor||bs(t)?{}:qn(Vt(t))}function ps(t){return Ho(t)||Vo(t)||!!(re&&t&&t[re])}function gs(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function ms(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Go(n)&&gs(e,n.length):"string"==r&&e in n)&&Bo(n[e],t)}function ys(t,e){if(Ho(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||X.test(t)||!J.test(t)||null!=e&&t in kt(e)}function _s(t){var e=rs(t),n=jn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var r=ns(n);return!!r&&t===r[0]}(Sn&&hs(new Sn(new ArrayBuffer(1)))!=L||Cn&&hs(new Cn)!=S||kn&&hs(kn.resolve())!=x||xn&&hs(new xn)!=E||An&&hs(new An)!=N)&&(hs=function(t){var e=Cr(t),n=e==k?t.constructor:i,r=n?Ms(n):"";if(r)switch(r){case Nn:return L;case Pn:return S;case Ln:return x;case Rn:return E;case On:return N}return e});var vs=Nt?Qo:ml;function bs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function ws(t){return t==t&&!ta(t)}function Ss(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in kt(n))}}function Cs(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=mn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var l=r(e+1);++s<e;)l[s]=i[s];return l[e]=n(a),ye(t,this,l)}}function ks(t,e){return e.length<2?t:wr(t,ti(e,0,-1))}function xs(t,e){for(var n=t.length,r=yn(e.length,n),s=Ai(t);r--;){var o=e[r];t[r]=gs(o,n)?s[o]:i}return t}function As(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Es=Ps(Qr),Is=Ne||function(t,e){return se.setTimeout(t,e)},Ts=Ps(Jr);function Ns(t,e,n){var r=e+"";return Ts(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ve(p,function(n){var r="_."+n[0];e&n[1]&&!Ce(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(r),n)))}function Ps(t){var e=0,n=0;return function(){var r=_n(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ls(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Wr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Rs,Os,Ds=(Rs=Oo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,function(t,n,r,i){e.push(r?i.replace(ut,"$1"):n||t)}),e},function(t){return 500===Os.size&&Os.clear(),t}),Os=Rs.cache,Rs);function Fs(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ms(t){if(null!=t){try{return Pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function js(t){if(t instanceof zn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var qs=Zr(function(t,e){return Zo(t)?cr(t,gr(e,1,Zo,!0)):[]}),Bs=Zr(function(t,e){var n=Ys(e);return Zo(n)&&(n=i),Zo(t)?cr(t,gr(e,1,Zo,!0),ss(n,2)):[]}),Us=Zr(function(t,e){var n=Ys(e);return Zo(n)&&(n=i),Zo(t)?cr(t,gr(e,1,Zo,!0),i,n):[]});function zs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),Le(t,ss(e,3),i)}function Vs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?mn(r+s,0):yn(s,r-1)),Le(t,ss(e,3),s,!0)}function Hs(t){return null!=t&&t.length?gr(t,1):[]}function Ws(t){return t&&t.length?t[0]:i}var Gs=Zr(function(t){var e=xe(t,pi);return e.length&&e[0]===t[0]?Er(e):[]}),Zs=Zr(function(t){var e=Ys(t),n=xe(t,pi);return e===Ys(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Er(n,ss(e,2)):[]}),$s=Zr(function(t){var e=Ys(t),n=xe(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Er(n,i,e):[]});function Ys(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ks=Zr(Qs);function Qs(t,e){return t&&t.length&&e&&e.length?Vr(t,e):t}var Js=Xi(function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Hr(t,xe(e,function(t){return gs(t,n)?+t:t}).sort(Ci)),r});function Xs(t){return null==t?t:wn.call(t)}var to=Zr(function(t){return ai(gr(t,1,Zo,!0))}),eo=Zr(function(t){var e=Ys(t);return Zo(e)&&(e=i),ai(gr(t,1,Zo,!0),ss(e,2))}),no=Zr(function(t){var e=Ys(t);return e="function"==typeof e?e:i,ai(gr(t,1,Zo,!0),i,e)});function ro(t){if(!t||!t.length)return[];var e=0;return t=Se(t,function(t){if(Zo(t))return e=mn(t.length,e),!0}),Ue(e,function(e){return xe(t,Me(e))})}function io(t,e){if(!t||!t.length)return[];var n=ro(t);return null==e?n:xe(n,function(t){return ye(e,i,t)})}var so=Zr(function(t,e){return Zo(t)?cr(t,e):[]}),oo=Zr(function(t){return di(Se(t,Zo))}),ao=Zr(function(t){var e=Ys(t);return Zo(e)&&(e=i),di(Se(t,Zo),ss(e,2))}),lo=Zr(function(t){var e=Ys(t);return e="function"==typeof e?e:i,di(Se(t,Zo),i,e)}),co=Zr(ro),uo=Zr(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,io(t,n)});function ho(t){var e=jn(t);return e.__chain__=!0,e}function fo(t,e){return e(t)}var po=Xi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&gs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Un(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(s)}),go=Ii(function(t,e,n){Lt.call(t,n)?++t[n]:rr(t,n,1)}),mo=Di(zs),yo=Di(Vs);function _o(t,e){return(Ho(t)?ve:ur)(t,ss(e,3))}function vo(t,e){return(Ho(t)?be:hr)(t,ss(e,3))}var bo=Ii(function(t,e,n){Lt.call(t,n)?t[n].push(e):rr(t,n,[e])}),wo=Zr(function(t,e,n){var i=-1,s="function"==typeof e,o=Go(t)?r(t.length):[];return ur(t,function(t){o[++i]=s?ye(e,t,n):Ir(t,e,n)}),o}),So=Ii(function(t,e,n){rr(t,n,e)});function Co(t,e){return(Ho(t)?xe:Fr)(t,ss(e,3))}var ko=Ii(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),xo=Zr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ms(t,e[0],e[1])?e=[]:n>2&&ms(e[0],e[1],e[2])&&(e=[e[0]]),Ur(t,gr(e,1),[])}),Ao=ue||function(){return se.Date.now()};function Eo(t,e,n){return e=n?i:e,$i(t,c,i,i,i,i,e=t&&null==e?t.length:e)}function Io(t,e){var n;if("function"!=typeof e)throw new Et(s);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var To=Zr(function(t,e,n){var r=1;if(n.length){var i=en(n,is(To));r|=l}return $i(t,r,e,n,i)}),No=Zr(function(t,e,n){var r=3;if(n.length){var i=en(n,is(No));r|=l}return $i(e,r,t,n,i)});function Po(t,e,n){var r,o,a,l,c,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Et(s);function g(e){var n=r,s=o;return r=o=i,h=e,l=t.apply(s,n)}function m(t){return h=t,c=Is(_,e),d?g(t):l}function y(t){var n=t-u;return u===i||n>=e||n<0||f&&t-h>=a}function _(){var t=Ao();if(y(t))return v(t);c=Is(_,function(t){var n=e-(t-u);return f?yn(n,a-(t-h)):n}(t))}function v(t){return c=i,p&&r?g(t):(r=o=i,l)}function b(){var t=Ao(),n=y(t);if(r=arguments,o=this,u=t,n){if(c===i)return m(u);if(f)return vi(c),c=Is(_,e),g(u)}return c===i&&(c=Is(_,e)),l}return e=ma(e)||0,ta(n)&&(d=!!n.leading,a=(f="maxWait"in n)?mn(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&vi(c),h=0,r=u=o=c=i},b.flush=function(){return c===i?l:v(Ao())},b}var Lo=Zr(function(t,e){return lr(t,1,e)}),Ro=Zr(function(t,e,n){return lr(t,ma(e)||0,n)});function Oo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Et(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Oo.Cache||Wn),n}function Do(t){if("function"!=typeof t)throw new Et(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Oo.Cache=Wn;var Fo=yi(function(t,e){var n=(e=1==e.length&&Ho(e[0])?xe(e[0],Ve(ss())):xe(gr(e,1),Ve(ss()))).length;return Zr(function(r){for(var i=-1,s=yn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return ye(t,this,r)})}),Mo=Zr(function(t,e){var n=en(e,is(Mo));return $i(t,l,i,e,n)}),jo=Zr(function(t,e){var n=en(e,is(jo));return $i(t,64,i,e,n)}),qo=Xi(function(t,e){return $i(t,256,i,i,i,e)});function Bo(t,e){return t===e||t!=t&&e!=e}var Uo=Vi(kr),zo=Vi(function(t,e){return t>=e}),Vo=Tr(function(){return arguments}())?Tr:function(t){return ea(t)&&Lt.call(t,"callee")&&!$t.call(t,"callee")},Ho=r.isArray,Wo=he?Ve(he):function(t){return ea(t)&&Cr(t)==P};function Go(t){return null!=t&&Xo(t.length)&&!Qo(t)}function Zo(t){return ea(t)&&Go(t)}var $o=dn||ml,Yo=de?Ve(de):function(t){return ea(t)&&Cr(t)==_};function Ko(t){if(!ea(t))return!1;var e=Cr(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Qo(t){if(!ta(t))return!1;var e=Cr(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Jo(t){return"number"==typeof t&&t==pa(t)}function Xo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}var na=fe?Ve(fe):function(t){return ea(t)&&hs(t)==S};function ra(t){return"number"==typeof t||ea(t)&&Cr(t)==C}function ia(t){if(!ea(t)||Cr(t)!=k)return!1;var e=Vt(t);if(null===e)return!0;var n=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==Ft}var sa=pe?Ve(pe):function(t){return ea(t)&&Cr(t)==A},oa=ge?Ve(ge):function(t){return ea(t)&&hs(t)==E};function aa(t){return"string"==typeof t||!Ho(t)&&ea(t)&&Cr(t)==I}function la(t){return"symbol"==typeof t||ea(t)&&Cr(t)==T}var ca=me?Ve(me):function(t){return ea(t)&&Xo(t.length)&&!!Jt[Cr(t)]},ua=Vi(Dr),ha=Vi(function(t,e){return t<=e});function da(t){if(!t)return[];if(Go(t))return aa(t)?on(t):Ai(t);if(ie&&t[ie])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ie]());var e=hs(t);return(e==S?Xe:e==E?nn:Ba)(t)}function fa(t){return t?(t=ma(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function ga(t){return t?sr(pa(t),0,f):0}function ma(t){if("number"==typeof t)return t;if(la(t))return d;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ze(t);var n=pt.test(t);return n||mt.test(t)?ne(t.slice(2),n?2:8):ft.test(t)?d:+t}function ya(t){return Ei(t,La(t))}function _a(t){return null==t?"":oi(t)}var va=Ti(function(t,e){if(bs(e)||Go(e))Ei(e,Pa(e),t);else for(var n in e)Lt.call(e,n)&&Xn(t,n,e[n])}),ba=Ti(function(t,e){Ei(e,La(e),t)}),wa=Ti(function(t,e,n,r){Ei(e,La(e),t,r)}),Sa=Ti(function(t,e,n,r){Ei(e,Pa(e),t,r)}),Ca=Xi(ir),ka=Zr(function(t,e){t=kt(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&ms(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=La(o),l=-1,c=a.length;++l<c;){var u=a[l],h=t[u];(h===i||Bo(h,Tt[u])&&!Lt.call(t,u))&&(t[u]=o[u])}return t}),xa=Zr(function(t){return t.push(i,Ki),ye(Oa,i,t)});function Aa(t,e,n){var r=null==t?i:wr(t,e);return r===i?n:r}function Ea(t,e){return null!=t&&ds(t,e,Ar)}var Ia=ji(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),t[e]=n},tl(rl)),Ta=ji(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),Lt.call(t,e)?t[e].push(n):t[e]=[n]},ss),Na=Zr(Ir);function Pa(t){return Go(t)?$n(t):Or(t)}function La(t){return Go(t)?$n(t,!0):function(t){if(!ta(t))return function(t){var e=[];if(null!=t)for(var n in kt(t))e.push(n);return e}(t);var e=bs(t),n=[];for(var r in t)("constructor"!=r||!e&&Lt.call(t,r))&&n.push(r);return n}(t)}var Ra=Ti(function(t,e,n){qr(t,e,n)}),Oa=Ti(function(t,e,n,r){qr(t,e,n,r)}),Da=Xi(function(t,e){var n={};if(null==t)return n;var r=!1;e=xe(e,function(e){return e=mi(e,t),r||(r=e.length>1),e}),Ei(t,es(t),n),r&&(n=or(n,7,Qi));for(var i=e.length;i--;)li(n,e[i]);return n}),Fa=Xi(function(t,e){return null==t?{}:function(t,e){return zr(t,e,function(e,n){return Ea(t,n)})}(t,e)});function Ma(t,e){if(null==t)return{};var n=xe(es(t),function(t){return[t]});return e=ss(e),zr(t,n,function(t,n){return e(t,n[0])})}var ja=Zi(Pa),qa=Zi(La);function Ba(t){return null==t?[]:He(t,Pa(t))}var Ua=Ri(function(t,e,n){return e=e.toLowerCase(),t+(n?za(e):e)});function za(t){return Ka(_a(t).toLowerCase())}function Va(t){return(t=_a(t))&&t.replace(_t,Ye).replace(Wt,"")}var Ha=Ri(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Wa=Ri(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Ga=Li("toLowerCase"),Za=Ri(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),$a=Ri(function(t,e,n){return t+(n?" ":"")+Ka(e)}),Ya=Ri(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ka=Li("toUpperCase");function Qa(t,e,n){return t=_a(t),(e=n?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Ja=Zr(function(t,e){try{return ye(t,i,e)}catch(n){return Ko(n)?n:new wt(n)}}),Xa=Xi(function(t,e){return ve(e,function(e){e=Fs(e),rr(t,e,To(t[e],t))}),t});function tl(t){return function(){return t}}var el=Fi(),nl=Fi(!0);function rl(t){return t}function il(t){return Rr("function"==typeof t?t:or(t,1))}var sl=Zr(function(t,e){return function(n){return Ir(n,t,e)}}),ol=Zr(function(t,e){return function(n){return Ir(t,n,e)}});function al(t,e,n){var r=Pa(e),i=br(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=br(e,Pa(e)));var s=!(ta(n)&&"chain"in n&&!n.chain),o=Qo(t);return ve(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ae([this.value()],arguments))})}),t}function ll(){}var cl=Bi(xe),ul=Bi(we),hl=Bi(Te);function dl(t){return ys(t)?Me(Fs(t)):function(t){return function(e){return wr(e,t)}}(t)}var fl=zi(),pl=zi(!0);function gl(){return[]}function ml(){return!1}var yl,_l=qi(function(t,e){return t+e},0),vl=Wi("ceil"),bl=qi(function(t,e){return t/e},1),wl=Wi("floor"),Sl=qi(function(t,e){return t*e},1),Cl=Wi("round"),kl=qi(function(t,e){return t-e},0);return jn.after=function(t,e){if("function"!=typeof e)throw new Et(s);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=Eo,jn.assign=va,jn.assignIn=ba,jn.assignInWith=wa,jn.assignWith=Sa,jn.at=Ca,jn.before=Io,jn.bind=To,jn.bindAll=Xa,jn.bindKey=No,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ho(t)?t:[t]},jn.chain=ho,jn.chunk=function(t,e,n){e=(n?ms(t,e,n):e===i)?1:mn(pa(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,l=r(je(s/e));o<s;)l[a++]=ti(t,o,o+=e);return l},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ae(Ho(n)?Ai(n):[n],gr(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=ss();return t=e?xe(t,function(t){if("function"!=typeof t[1])throw new Et(s);return[n(t[0]),t[1]]}):[],Zr(function(n){for(var r=-1;++r<e;){var i=t[r];if(ye(i[0],this,n))return ye(i[1],this,n)}})},jn.conforms=function(t){return function(t){var e=Pa(t);return function(n){return ar(n,t,e)}}(or(t,1))},jn.constant=tl,jn.countBy=go,jn.create=function(t,e){var n=qn(t);return null==e?n:nr(n,e)},jn.curry=function t(e,n,r){var s=$i(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},jn.curryRight=function t(e,n,r){var s=$i(e,16,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},jn.debounce=Po,jn.defaults=ka,jn.defaultsDeep=xa,jn.defer=Lo,jn.delay=Ro,jn.difference=qs,jn.differenceBy=Bs,jn.differenceWith=Us,jn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},jn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!0):[]},jn.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&ms(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},jn.filter=function(t,e){return(Ho(t)?Se:pr)(t,ss(e,3))},jn.flatMap=function(t,e){return gr(Co(t,e),1)},jn.flatMapDeep=function(t,e){return gr(Co(t,e),u)},jn.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),gr(Co(t,e),n)},jn.flatten=Hs,jn.flattenDeep=function(t){return null!=t&&t.length?gr(t,u):[]},jn.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:pa(e)):[]},jn.flip=function(t){return $i(t,512)},jn.flow=el,jn.flowRight=nl,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},jn.functions=function(t){return null==t?[]:br(t,Pa(t))},jn.functionsIn=function(t){return null==t?[]:br(t,La(t))},jn.groupBy=bo,jn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},jn.intersection=Gs,jn.intersectionBy=Zs,jn.intersectionWith=$s,jn.invert=Ia,jn.invertBy=Ta,jn.invokeMap=wo,jn.iteratee=il,jn.keyBy=So,jn.keys=Pa,jn.keysIn=La,jn.map=Co,jn.mapKeys=function(t,e){var n={};return e=ss(e,3),_r(t,function(t,r,i){rr(n,e(t,r,i),t)}),n},jn.mapValues=function(t,e){var n={};return e=ss(e,3),_r(t,function(t,r,i){rr(n,r,e(t,r,i))}),n},jn.matches=function(t){return Mr(or(t,1))},jn.matchesProperty=function(t,e){return jr(t,or(e,1))},jn.memoize=Oo,jn.merge=Ra,jn.mergeWith=Oa,jn.method=sl,jn.methodOf=ol,jn.mixin=al,jn.negate=Do,jn.nthArg=function(t){return t=pa(t),Zr(function(e){return Br(e,t)})},jn.omit=Da,jn.omitBy=function(t,e){return Ma(t,Do(ss(e)))},jn.once=function(t){return Io(2,t)},jn.orderBy=function(t,e,n,r){return null==t?[]:(Ho(e)||(e=null==e?[]:[e]),Ho(n=r?i:n)||(n=null==n?[]:[n]),Ur(t,e,n))},jn.over=cl,jn.overArgs=Fo,jn.overEvery=ul,jn.overSome=hl,jn.partial=Mo,jn.partialRight=jo,jn.partition=ko,jn.pick=Fa,jn.pickBy=Ma,jn.property=dl,jn.propertyOf=function(t){return function(e){return null==t?i:wr(t,e)}},jn.pull=Ks,jn.pullAll=Qs,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,ss(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,i,n):t},jn.pullAt=Js,jn.range=fl,jn.rangeRight=pl,jn.rearg=qo,jn.reject=function(t,e){return(Ho(t)?Se:pr)(t,Do(ss(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=ss(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Hr(t,i),n},jn.rest=function(t,e){if("function"!=typeof t)throw new Et(s);return Zr(t,e=e===i?e:pa(e))},jn.reverse=Xs,jn.sampleSize=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:pa(e),(Ho(t)?Kn:Yr)(t,e)},jn.set=function(t,e,n){return null==t?t:Kr(t,e,n)},jn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Kr(t,e,n,r)},jn.shuffle=function(t){return(Ho(t)?Qn:Xr)(t)},jn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ms(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ti(t,e,n)):[]},jn.sortBy=xo,jn.sortedUniq=function(t){return t&&t.length?ii(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,ss(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&ms(t,e,n)&&(e=n=i),(n=n===i?f:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=oi(e))&&Je(t)?_i(on(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new Et(s);return e=null==e?0:mn(pa(e),0),Zr(function(n){var r=n[e],i=_i(n,0,e);return r&&Ae(i,r),ye(t,this,i)})},jn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},jn.takeRightWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?ui(t,ss(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Et(s);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(t,e,{leading:r,maxWait:e,trailing:i})},jn.thru=fo,jn.toArray=da,jn.toPairs=ja,jn.toPairsIn=qa,jn.toPath=function(t){return Ho(t)?xe(t,Fs):la(t)?[t]:Ai(Ds(_a(t)))},jn.toPlainObject=ya,jn.transform=function(t,e,n){var r=Ho(t),i=r||$o(t)||ca(t);if(e=ss(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ta(t)&&Qo(s)?qn(Vt(t)):{}}return(i?ve:_r)(t,function(t,r,i){return e(n,t,r,i)}),n},jn.unary=function(t){return Eo(t,1)},jn.union=to,jn.unionBy=eo,jn.unionWith=no,jn.uniq=function(t){return t&&t.length?ai(t):[]},jn.uniqBy=function(t,e){return t&&t.length?ai(t,ss(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},jn.unset=function(t,e){return null==t||li(t,e)},jn.unzip=ro,jn.unzipWith=io,jn.update=function(t,e,n){return null==t?t:ci(t,e,gi(n))},jn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,gi(n),r)},jn.values=Ba,jn.valuesIn=function(t){return null==t?[]:He(t,La(t))},jn.without=so,jn.words=Qa,jn.wrap=function(t,e){return Mo(gi(e),t)},jn.xor=oo,jn.xorBy=ao,jn.xorWith=lo,jn.zip=co,jn.zipObject=function(t,e){return fi(t||[],e||[],Xn)},jn.zipObjectDeep=function(t,e){return fi(t||[],e||[],Kr)},jn.zipWith=uo,jn.entries=ja,jn.entriesIn=qa,jn.extend=ba,jn.extendWith=wa,al(jn,jn),jn.add=_l,jn.attempt=Ja,jn.camelCase=Ua,jn.capitalize=za,jn.ceil=vl,jn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))==n?n:0),e!==i&&(e=(e=ma(e))==e?e:0),sr(ma(t),e,n)},jn.clone=function(t){return or(t,4)},jn.cloneDeep=function(t){return or(t,5)},jn.cloneDeepWith=function(t,e){return or(t,5,e="function"==typeof e?e:i)},jn.cloneWith=function(t,e){return or(t,4,e="function"==typeof e?e:i)},jn.conformsTo=function(t,e){return null==e||ar(t,e,Pa(e))},jn.deburr=Va,jn.defaultTo=function(t,e){return null==t||t!=t?e:t},jn.divide=bl,jn.endsWith=function(t,e,n){t=_a(t),e=oi(e);var r=t.length,s=n=n===i?r:sr(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},jn.eq=Bo,jn.escape=function(t){return(t=_a(t))&&$.test(t)?t.replace(G,Ke):t},jn.escapeRegExp=function(t){return(t=_a(t))&&nt.test(t)?t.replace(et,"\\$&"):t},jn.every=function(t,e,n){var r=Ho(t)?we:dr;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},jn.find=mo,jn.findIndex=zs,jn.findKey=function(t,e){return Pe(t,ss(e,3),_r)},jn.findLast=yo,jn.findLastIndex=Vs,jn.findLastKey=function(t,e){return Pe(t,ss(e,3),vr)},jn.floor=wl,jn.forEach=_o,jn.forEachRight=vo,jn.forIn=function(t,e){return null==t?t:mr(t,ss(e,3),La)},jn.forInRight=function(t,e){return null==t?t:yr(t,ss(e,3),La)},jn.forOwn=function(t,e){return t&&_r(t,ss(e,3))},jn.forOwnRight=function(t,e){return t&&vr(t,ss(e,3))},jn.get=Aa,jn.gt=Uo,jn.gte=zo,jn.has=function(t,e){return null!=t&&ds(t,e,xr)},jn.hasIn=Ea,jn.head=Ws,jn.identity=rl,jn.includes=function(t,e,n,r){t=Go(t)?t:Ba(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),aa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Re(t,e,n)>-1},jn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),Re(t,e,i)},jn.inRange=function(t,e,n){return e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n){return t>=yn(e,n)&&t<mn(e,n)}(t=ma(t),e,n)},jn.invoke=Na,jn.isArguments=Vo,jn.isArray=Ho,jn.isArrayBuffer=Wo,jn.isArrayLike=Go,jn.isArrayLikeObject=Zo,jn.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Cr(t)==y},jn.isBuffer=$o,jn.isDate=Yo,jn.isElement=function(t){return ea(t)&&1===t.nodeType&&!ia(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Go(t)&&(Ho(t)||"string"==typeof t||"function"==typeof t.splice||$o(t)||ca(t)||Vo(t)))return!t.length;var e=hs(t);if(e==S||e==E)return!t.size;if(bs(t))return!Or(t).length;for(var n in t)if(Lt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return Nr(t,e)},jn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Nr(t,e,i,n):!!r},jn.isError=Ko,jn.isFinite=function(t){return"number"==typeof t&&fn(t)},jn.isFunction=Qo,jn.isInteger=Jo,jn.isLength=Xo,jn.isMap=na,jn.isMatch=function(t,e){return t===e||Pr(t,e,as(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,as(e),n)},jn.isNaN=function(t){return ra(t)&&t!=+t},jn.isNative=function(t){if(vs(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=ra,jn.isObject=ta,jn.isObjectLike=ea,jn.isPlainObject=ia,jn.isRegExp=sa,jn.isSafeInteger=function(t){return Jo(t)&&t>=-9007199254740991&&t<=h},jn.isSet=oa,jn.isString=aa,jn.isSymbol=la,jn.isTypedArray=ca,jn.isUndefined=function(t){return t===i},jn.isWeakMap=function(t){return ea(t)&&hs(t)==N},jn.isWeakSet=function(t){return ea(t)&&"[object WeakSet]"==Cr(t)},jn.join=function(t,e){return null==t?"":pn.call(t,e)},jn.kebabCase=Ha,jn.last=Ys,jn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?mn(r+s,0):yn(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):Le(t,De,s,!0)},jn.lowerCase=Wa,jn.lowerFirst=Ga,jn.lt=ua,jn.lte=ha,jn.max=function(t){return t&&t.length?fr(t,rl,kr):i},jn.maxBy=function(t,e){return t&&t.length?fr(t,ss(e,2),kr):i},jn.mean=function(t){return Fe(t,rl)},jn.meanBy=function(t,e){return Fe(t,ss(e,2))},jn.min=function(t){return t&&t.length?fr(t,rl,Dr):i},jn.minBy=function(t,e){return t&&t.length?fr(t,ss(e,2),Dr):i},jn.stubArray=gl,jn.stubFalse=ml,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Sl,jn.nth=function(t,e){return t&&t.length?Br(t,pa(e)):i},jn.noConflict=function(){return se._===this&&(se._=Mt),this},jn.noop=ll,jn.now=Ao,jn.pad=function(t,e,n){t=_a(t);var r=(e=pa(e))?sn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ui(un(i),n)+t+Ui(je(i),n)},jn.padEnd=function(t,e,n){t=_a(t);var r=(e=pa(e))?sn(t):0;return e&&r<e?t+Ui(e-r,n):t},jn.padStart=function(t,e,n){t=_a(t);var r=(e=pa(e))?sn(t):0;return e&&r<e?Ui(e-r,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(_a(t).replace(rt,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ms(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fa(t),e===i?(e=t,t=0):e=fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=bn();return yn(t+s*(e-t+ee("1e-"+((s+"").length-1))),e)}return Wr(t,e)},jn.reduce=function(t,e,n){var r=Ho(t)?Ee:qe,i=arguments.length<3;return r(t,ss(e,4),n,i,ur)},jn.reduceRight=function(t,e,n){var r=Ho(t)?Ie:qe,i=arguments.length<3;return r(t,ss(e,4),n,i,hr)},jn.repeat=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:pa(e),Gr(_a(t),e)},jn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var r=-1,s=(e=mi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Fs(e[r])];o===i&&(r=s,o=n),t=Qo(o)?o.call(t):o}return t},jn.round=Cl,jn.runInContext=t,jn.sample=function(t){return(Ho(t)?Yn:$r)(t)},jn.size=function(t){if(null==t)return 0;if(Go(t))return aa(t)?sn(t):t.length;var e=hs(t);return e==S||e==E?t.size:Or(t).length},jn.snakeCase=Za,jn.some=function(t,e,n){var r=Ho(t)?Te:ei;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},jn.sortedIndex=function(t,e){return ni(t,e)},jn.sortedIndexBy=function(t,e,n){return ri(t,e,ss(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Bo(t[r],e))return r}return-1},jn.sortedLastIndex=function(t,e){return ni(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return ri(t,e,ss(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Bo(t[n],e))return n}return-1},jn.startCase=$a,jn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:sr(pa(n),0,t.length),e=oi(e),t.slice(n,n+e.length)==e},jn.subtract=kl,jn.sum=function(t){return t&&t.length?Be(t,rl):0},jn.sumBy=function(t,e){return t&&t.length?Be(t,ss(e,2)):0},jn.template=function(t,e,n){var r=jn.templateSettings;n&&ms(t,e,n)&&(e=i),t=_a(t),e=wa({},e,r,Yi);var s,o,a=wa({},e.imports,r.imports,Yi),l=Pa(a),c=He(a,l),u=0,h=e.interpolate||vt,d="__p += '",f=xt((e.escape||vt).source+"|"+h.source+"|"+(h===Q?ht:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),p="//# sourceURL="+(Lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qt+"]")+"\n";t.replace(f,function(e,n,r,i,a,l){return r||(r=i),d+=t.slice(u,l).replace(bt,Qe),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var g=Lt.call(e,"variable")&&e.variable;if(g){if(ct.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(z,""):d).replace(V,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ja(function(){return St(l,p+"return "+d).apply(i,c)});if(m.source=d,Ko(m))throw m;return m},jn.times=function(t,e){if((t=pa(t))<1||t>h)return[];var n=f,r=yn(t,f);e=ss(e),t-=f;for(var i=Ue(r,e);++n<t;)e(n);return i},jn.toFinite=fa,jn.toInteger=pa,jn.toLength=ga,jn.toLower=function(t){return _a(t).toLowerCase()},jn.toNumber=ma,jn.toSafeInteger=function(t){return t?sr(pa(t),-9007199254740991,h):0===t?t:0},jn.toString=_a,jn.toUpper=function(t){return _a(t).toUpperCase()},jn.trim=function(t,e,n){if((t=_a(t))&&(n||e===i))return ze(t);if(!t||!(e=oi(e)))return t;var r=on(t),s=on(e);return _i(r,Ge(r,s),Ze(r,s)+1).join("")},jn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.slice(0,an(t)+1);if(!t||!(e=oi(e)))return t;var r=on(t);return _i(r,0,Ze(r,on(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=oi(e)))return t;var r=on(t);return _i(r,Ge(r,on(e))).join("")},jn.truncate=function(t,e){var n=30,r="...";if(ta(e)){var s="separator"in e?e.separator:s;n="length"in e?pa(e.length):n,r="omission"in e?oi(e.omission):r}var o=(t=_a(t)).length;if(Je(t)){var a=on(t);o=a.length}if(n>=o)return t;var l=n-sn(r);if(l<1)return r;var c=a?_i(a,0,l).join(""):t.slice(0,l);if(s===i)return c+r;if(a&&(l+=c.length-l),sa(s)){if(t.slice(l).search(s)){var u,h=c;for(s.global||(s=xt(s.source,_a(dt.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;c=c.slice(0,d===i?l:d)}}else if(t.indexOf(oi(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+r},jn.unescape=function(t){return(t=_a(t))&&Z.test(t)?t.replace(W,ln):t},jn.uniqueId=function(t){var e=++Rt;return _a(t)+e},jn.upperCase=Ya,jn.upperFirst=Ka,jn.each=_o,jn.eachRight=vo,jn.first=Ws,al(jn,(yl={},_r(jn,function(t,e){Lt.call(jn.prototype,e)||(yl[e]=t)}),yl),{chain:!1}),jn.VERSION="4.17.21",ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){jn[t].placeholder=jn}),ve(["drop","take"],function(t,e){zn.prototype[t]=function(n){n=n===i?1:mn(pa(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,f),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ve(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ss(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),ve(["head","last"],function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}}),ve(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(rl)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Zr(function(t,e){return"function"==typeof t?new zn(this):this.map(function(n){return Ir(n,t,e)})}),zn.prototype.reject=function(t){return this.filter(Do(ss(t)))},zn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(f)},_r(zn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=jn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(jn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof zn,c=a[0],u=l||Ho(e),h=function(t){var e=s.apply(jn,Ae([t],a));return r&&d?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=l&&!f;if(!o&&u){e=g?e:new zn(this);var m=t.apply(e,a);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new Un(m,d)}return p&&g?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})}),ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=It[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ho(i)?i:[],t)}return this[n](function(n){return e.apply(Ho(n)?n:[],t)})}}),_r(zn.prototype,function(t,e){var n=jn[e];if(n){var r=n.name+"";Lt.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:e,func:n})}}),Tn[Mi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=Ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ai(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ho(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=yn(e,t+o);break;case"takeRight":t=mn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,c=r?a:o-1,u=this.__iteratees__,h=u.length,d=0,f=yn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,m=t[c+=e];++g<h;){var y=u[g],_=y.type,v=(0,y.iteratee)(m);if(2==_)m=v;else if(!v){if(1==_)continue t;break t}}p[d++]=m}return p},jn.prototype.at=po,jn.prototype.chain=function(){return ho(this)},jn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=js(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:fo,args:[Xs],thisArg:i}),new Un(e,this.__chain__)}return this.thru(Xs)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,ie&&(jn.prototype[ie]=function(){return this}),jn}();se._=cn,(r=(function(){return cn}).call(e,n,e,t))===i||(t.exports=r)}).call(this)},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),l=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>u});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,s.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){t=h instanceof o?c(h.errors):[h]}}if((0,r.k)(u)){let e=-1,n=u.length;for(;++e<n;){const n=u[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var l;function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),c=n(4072),u=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,u.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[l.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},205:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(7574);function i(t,e){return new r.y(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(9773),i=n(4487);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(t,e,n)=>{"use strict";n.d(e,{ht:()=>u,QV:()=>l});var r=n(7393),i=n(9193),s=n(5917),o=n(205);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function l(t,e=0){return function(n){return n.lift(new c(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2441),i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return t=>{return(0,i.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},9673:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var r=n(7574),i=n(4581),s=n(6561);class o extends r.y{constructor(t,e=0,n=i.e){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,s.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(t,e=0,n=i.e){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(7574),i=n(5319);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},4581:(t,e,n)=>{"use strict";n.d(e,{e:()=>h,E:()=>u});let r=1;const i=Promise.resolve(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var l=n(6465),c=n(6102);const u=new class extends c.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends l.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}),h=u},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>s});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),o=s},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),c=n(1555);const u=t=>{if(t&&"function"==typeof t[o.L])return u=t,t=>{const e=u[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},6059:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(u)}const c=new r.OlP("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new v((0,r.LFG)(a),e&&e.origin||"")}const _=new r.OlP("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w((0,r.LFG)(m),(0,r.LFG)(a))}function C(t){return t.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))();const x=r.kL8;class A{}let E=(()=>{class t extends A{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let T=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Fe){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let O=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class D{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class F{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const M=new F,j=new D;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return M;if((0,r.F4k)(e))return j;throw Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:A,useClass:E}]}),t})(),U=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new z((0,r.LFG)(o),window)}),t})();class z{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Fe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Fe){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new H,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(G=G||document.querySelector("base"),G?G.getAttribute("href"):null);return null==e?null:function(t){W=W||document.createElement("a"),W.setAttribute("href",t);const e=W.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let W,G=null;const Z=new r.OlP("TRANSITION_ID"),$=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Z,o,r.zs3],multi:!0}];class Y{static init(){(0,r.VLi)(new Y)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Q=new r.OlP("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Q),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(nt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function nt(t){s().remove(t)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function st(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?st(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function ot(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let at=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(J),r.LFG(et),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ot(n)):this.eventManager.addEventListener(t,e,ot(n))}}class ct extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=st(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=st(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const dt=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(dt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pt.hasOwnProperty(e)&&(e=pt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),dt.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(vt)},token:t,providedIn:"root"}),t})();function _t(t){return new vt(t.get(o))}let vt=(()=>{class t extends yt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return _t((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const bt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){H.makeCurrent(),Y.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),wt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Q,useClass:ht,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:Q,useClass:mt,multi:!0,deps:[o]},[],{provide:at,useClass:at,deps:[J,et,r.AFp]},{provide:r.FYo,useExisting:at},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:J,useClass:J,deps:[Q,r.R0b]},{provide:class{},useClass:K,deps:[]},[]];let St=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:Z,useExisting:r.AFp},$]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:wt,imports:[B,r.hGG]}),t})();"undefined"!=typeof window&&window;var Ct=n(4402),kt=n(7574),xt=n(9796),At=n(8002),Et=n(1555);function It(...t){if(1===t.length){const e=t[0];if((0,xt.k)(e))return Tt(e,null);if((0,Et.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Tt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Tt(t=1===t.length&&(0,xt.k)(t[0])?t[0]:t,null).pipe((0,At.U)(t=>e(...t)))}return Tt(t,null)}function Tt(t,e){return new kt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,Ct.D)(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let Nt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Pt=(()=>{class t extends Nt{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Lt=new r.OlP("NgValueAccessor"),Rt={provide:Lt,useExisting:(0,r.Gpc)(()=>Dt),multi:!0},Ot=new r.OlP("CompositionEventMode");let Dt=(()=>{class t extends Nt{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ot,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([Rt]),r.qOj]}),t})();const Ft=new r.OlP("NgValidators"),Mt=new r.OlP("NgAsyncValidators");function jt(t){return null!=t}function qt(t){const e=(0,r.QGY)(t)?(0,Ct.D)(t):t;return(0,r.CqO)(e),e}function Bt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ut(t,e){return e.map(e=>e(t))}function zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(jt);return 0==e.length?null:function(t){return Bt(Ut(t,e))}}(zt(t)):null}function Ht(t){return null!=t?function(t){if(!t)return null;const e=t.filter(jt);return 0==e.length?null:function(t){return It(Ut(t,e).map(qt)).pipe((0,At.U)(Bt))}}(zt(t)):null}function Wt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Gt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),Zt=(()=>{class t extends Gt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class $t extends Gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yt{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let Kt=(()=>{class t extends Yt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($t,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),Qt=(()=>{class t extends Yt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function Jt(t,e){te(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ee(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ee(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Xt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function te(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Wt(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Wt(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Xt(e._rawValidators,i),Xt(e._rawAsyncValidators,i)}function ee(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ne(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const re="VALID",ie="INVALID",se="PENDING",oe="DISABLED";function ae(t){return(he(t)?t.validators:t)||null}function le(t){return Array.isArray(t)?Vt(t):t||null}function ce(t,e){return(he(e)?e.asyncValidators:t)||null}function ue(t){return Array.isArray(t)?Ht(t):t||null}function he(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class de{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=le(this._rawValidators),this._composedAsyncValidatorFn=ue(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===re}get invalid(){return this.status===ie}get pending(){return this.status==se}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=le(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ue(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=se,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=re,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==re&&this.status!==se||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:re}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=se,this._hasOwnPendingAsyncValidator=!0;const e=qt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ge&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(se)?se:this._anyControlsHaveStatus(ie)?ie:re}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){he(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fe extends de{constructor(t=null,e,n){super(ae(e),ce(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ne(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ne(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pe extends de{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof fe?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ge extends de{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof fe?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const me={provide:Zt,useExisting:(0,r.Gpc)(()=>_e)},ye=(()=>Promise.resolve(null))();let _e=(()=>{class t extends Zt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new pe({},Vt(t),Ht(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ye.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Jt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ye.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ne(this._directives,t)})}addFormGroup(t){ye.then(()=>{const e=this._findContainer(t.path),n=new pe({});(function(t,e){te(t,e)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ye.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ye.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ft,10),r.Y36(Mt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([me]),r.qOj]}),t})();const ve={provide:$t,useExisting:(0,r.Gpc)(()=>we)},be=(()=>Promise.resolve(null))();let we=(()=>{class t extends $t{constructor(t,e,n,i){super(),this.control=new fe,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Dt?n=t:Object.getPrototypeOf(t.constructor)===Pt?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){be.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;be.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zt,9),r.Y36(Ft,10),r.Y36(Mt,10),r.Y36(Lt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([ve]),r.qOj,r.TTD]}),t})(),Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const ke={provide:Ft,useExisting:(0,r.Gpc)(()=>xe),multi:!0};let xe=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[r._Bn([ke])]}),t})(),Ae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ce]]}),t})(),Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ae]}),t})();function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Te=Uint8Array,Ne=Uint16Array,Pe=Uint32Array,Le=new Te([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Re=new Te([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Oe=new Te([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),De=function(t,e){for(var n=new Ne(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new Pe(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},Fe=De(Le,2),Me=Fe[0],je=Fe[1];Me[28]=258,je[258]=28;for(var qe=De(Re,0),Be=qe[0],Ue=qe[1],ze=new Ne(32768),Ve=0;Ve<32768;++Ve){var He=(43690&Ve)>>>1|(21845&Ve)<<1;ze[Ve]=((65280&(He=(61680&(He=(52428&He)>>>2|(13107&He)<<2))>>>4|(3855&He)<<4))>>>8|(255&He)<<8)>>>1}var We=function(t,e,n){for(var r=t.length,i=0,s=new Ne(e);i<r;++i)++s[t[i]-1];var o,a=new Ne(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new Ne(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=a[t[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[ze[h]>>>l]=c}else for(o=new Ne(r),i=0;i<r;++i)o[i]=ze[a[t[i]-1]++]>>>15-t[i];return o},Ge=new Te(288);for(Ve=0;Ve<144;++Ve)Ge[Ve]=8;for(Ve=144;Ve<256;++Ve)Ge[Ve]=9;for(Ve=256;Ve<280;++Ve)Ge[Ve]=7;for(Ve=280;Ve<288;++Ve)Ge[Ve]=8;var Ze=new Te(32);for(Ve=0;Ve<32;++Ve)Ze[Ve]=5;var $e=We(Ge,9,0),Ye=We(Ge,9,1),Ke=We(Ze,5,0),Qe=We(Ze,5,1),Je=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Xe=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(7&e)&n},tn=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(7&e)},en=function(t){return(t/8>>0)+(7&t&&1)},nn=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var r=new(t instanceof Ne?Ne:t instanceof Pe?Pe:Te)(n-e);return r.set(t.subarray(e,n)),r},rn=function(t,e,n){var r=e/8>>0;t[r]|=n<<=7&e,t[r+1]|=n>>>8},sn=function(t,e,n){var r=e/8>>0;t[r]|=n<<=7&e,t[r+1]|=n>>>8,t[r+2]|=n>>>16},on=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new Te(0),0];if(1==i){var o=new Te(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new Ne(d+1),p=an(n[u-1],f,0);if(p>e){r=0;var g=0,m=p-e,y=1<<m;for(s.sort(function(t,e){return f[e.s]-f[t.s]||t.f-e.f});r<i;++r){var _=s[r].s;if(!(f[_]>e))break;g+=y-(1<<p-f[_]),f[_]=e}for(g>>>=m;g>0;){var v=s[r].s;f[v]<e?g-=1<<e-f[v]++-1:++r}for(;r>=0&&g;--r){var b=s[r].s;f[b]==e&&(--f[b],++g)}p=e}return[new Te(f),p]},an=function(t,e,n){return-1==t.s?Math.max(an(t.l,e,n+1),an(t.r,e,n+1)):e[t.s]=n},ln=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ne(++e),r=0,i=t[0],s=1,o=function(t){n[r++]=t},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return[n.subarray(0,r),e]},cn=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},un=function(t,e,n){var r=n.length,i=en(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<r;++s)t[i+s+4]=n[s];return 8*(i+4+r)},hn=function(t,e,n,r,i,s,o,a,l,c,u){rn(e,u++,n),++i[256];for(var h=on(i,15),d=h[0],f=h[1],p=on(s,15),g=p[0],m=p[1],y=ln(d),_=y[0],v=y[1],b=ln(g),w=b[0],S=b[1],C=new Ne(19),k=0;k<_.length;++k)C[31&_[k]]++;for(k=0;k<w.length;++k)C[31&w[k]]++;for(var x=on(C,7),A=x[0],E=x[1],I=19;I>4&&!A[Oe[I-1]];--I);var T,N,P,L,R=c+5<<3,O=cn(i,Ge)+cn(s,Ze)+o,D=cn(i,d)+cn(s,g)+o+14+3*I+cn(C,A)+(2*C[16]+3*C[17]+7*C[18]);if(R<=O&&R<=D)return un(e,u,t.subarray(l,l+c));if(rn(e,u,1+(D<O)),u+=2,D<O){T=We(d,f,0),N=d,P=We(g,m,0),L=g;var F=We(A,E,0);for(rn(e,u,v-257),rn(e,u+5,S-1),rn(e,u+10,I-4),u+=14,k=0;k<I;++k)rn(e,u+3*k,A[Oe[k]]);u+=3*I;for(var M=[_,w],j=0;j<2;++j){var q=M[j];for(k=0;k<q.length;++k)rn(e,u,F[B=31&q[k]]),u+=A[B],B>15&&(rn(e,u,q[k]>>>5&127),u+=q[k]>>>12)}}else T=$e,N=Ge,P=Ke,L=Ze;for(k=0;k<a;++k)if(r[k]>255){var B;sn(e,u,T[257+(B=r[k]>>>18&31)]),u+=N[B+257],B>7&&(rn(e,u,r[k]>>>23&31),u+=Le[B]);var U=31&r[k];sn(e,u,P[U]),u+=L[U],U>3&&(sn(e,u,r[k]>>>5&8191),u+=Re[U])}else sn(e,u,T[r[k]]),u+=N[r[k]];return sn(e,u,T[256]),u+N[256]},dn=new Pe([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fn=new Te(0);function pn(t,e){void 0===e&&(e={});var n=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,o=0;o!=s;){for(var a=Math.min(o+5552,s);o<a;++o)i+=r+=n[o];r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}}();n.p(t);var r=function(t,e,n,r,i){return function(t,e,n,r,i,s){var o=t.length,a=new Te(r+o+5*(1+Math.floor(o/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var h=u+65535;h<o?c=un(l,c,t.subarray(u,h)):(l[u]=s,c=un(l,c,t.subarray(u,o)))}else{for(var d=dn[e-1],f=d>>>13,p=8191&d,g=(1<<n)-1,m=new Ne(32768),y=new Ne(g+1),_=Math.ceil(n/3),v=2*_,b=function(e){return(t[e]^t[e+1]<<_^t[e+2]<<v)&g},w=new Pe(25e3),S=new Ne(288),C=new Ne(32),k=0,x=0,A=(u=0,0),E=0,I=0;u<o;++u){var T=b(u),N=32767&u,P=y[T];if(m[N]=P,y[T]=N,E<=u){var L=o-u;if((k>7e3||A>24576)&&L>423){c=hn(t,l,0,w,S,C,x,A,I,u-I,c),A=k=x=0,I=u;for(var R=0;R<286;++R)S[R]=0;for(R=0;R<30;++R)C[R]=0}var O=2,D=0,F=p,M=N-P&32767;if(L>2&&T==b(u-M))for(var j=Math.min(f,L)-1,q=Math.min(32767,u),B=Math.min(258,L);M<=q&&--F&&N!=P;){if(t[u+O]==t[u+O-M]){for(var U=0;U<B&&t[u+U]==t[u+U-M];++U);if(U>O){if(O=U,D=M,U>j)break;var z=Math.min(M,U-2),V=0;for(R=0;R<z;++R){var H=u-M+R+32768&32767,W=H-m[H]+32768&32767;W>V&&(V=W,P=H)}}}M+=(N=P)-(P=m[N])+32768&32767}if(D){w[A++]=268435456|je[O]<<18|Ue[D];var G=31&je[O],Z=31&Ue[D];x+=Le[G]+Re[Z],++S[257+G],++C[Z],E=u+O,++k}else w[A++]=t[u],++S[t[u]]}}c=hn(t,l,s,w,S,C,x,A,I,u-I,c),s||(c=un(l,c,fn))}return nn(a,0,r+en(c)+i)}(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!i)}(t,e,2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)}(r,e),function(t,e,n){for(;n;++e)t[e]=n,n>>>=8}(r,r.length-4,n.d()),r}var gn=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function mn(){gn.console&&"function"==typeof gn.console.log&&gn.console.log.apply(gn.console,arguments)}var yn={log:mn,warn:function(t){gn.console&&("function"==typeof gn.console.warn?gn.console.warn.apply(gn.console,arguments):mn.call(null,arguments))},error:function(t){gn.console&&("function"==typeof gn.console.error?gn.console.error.apply(gn.console,arguments):mn(t))}};function _n(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Cn(r.response,e,n)},r.onerror=function(){yn.error("could not download file")},r.send()}function vn(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function bn(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wn,Sn,Cn=gn.saveAs||("object"!==("undefined"==typeof window?"undefined":Ie(window))||window!==gn?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=gn.URL||gn.webkitURL,i=document.createElement("a");i.download=e=e||t.name||"download",i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?vn(i.href)?_n(t,e,n):bn(i,i.target="_blank"):bn(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){bn(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(vn(t))_n(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){bn(r)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==Ie(e)&&(yn.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return _n(t,e,n);var i="application/octet-stream"===t.type,s=/constructor/i.test(gn.HTMLElement)||gn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":Ie(FileReader))){var a=new FileReader;a.onloadend=function(){var t=a.result;t=o?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},a.readAsDataURL(t)}else{var l=gn.URL||gn.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function kn(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].process,s=n[r].re.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}function xn(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=En(n,r,i,s,e[0],7,-680876936),s=En(s,n,r,i,e[1],12,-389564586),i=En(i,s,n,r,e[2],17,606105819),r=En(r,i,s,n,e[3],22,-1044525330),n=En(n,r,i,s,e[4],7,-176418897),s=En(s,n,r,i,e[5],12,1200080426),i=En(i,s,n,r,e[6],17,-1473231341),r=En(r,i,s,n,e[7],22,-45705983),n=En(n,r,i,s,e[8],7,1770035416),s=En(s,n,r,i,e[9],12,-1958414417),i=En(i,s,n,r,e[10],17,-42063),r=En(r,i,s,n,e[11],22,-1990404162),n=En(n,r,i,s,e[12],7,1804603682),s=En(s,n,r,i,e[13],12,-40341101),i=En(i,s,n,r,e[14],17,-1502002290),n=In(n,r=En(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=In(s,n,r,i,e[6],9,-1069501632),i=In(i,s,n,r,e[11],14,643717713),r=In(r,i,s,n,e[0],20,-373897302),n=In(n,r,i,s,e[5],5,-701558691),s=In(s,n,r,i,e[10],9,38016083),i=In(i,s,n,r,e[15],14,-660478335),r=In(r,i,s,n,e[4],20,-405537848),n=In(n,r,i,s,e[9],5,568446438),s=In(s,n,r,i,e[14],9,-1019803690),i=In(i,s,n,r,e[3],14,-187363961),r=In(r,i,s,n,e[8],20,1163531501),n=In(n,r,i,s,e[13],5,-1444681467),s=In(s,n,r,i,e[2],9,-51403784),i=In(i,s,n,r,e[7],14,1735328473),n=Tn(n,r=In(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Tn(s,n,r,i,e[8],11,-2022574463),i=Tn(i,s,n,r,e[11],16,1839030562),r=Tn(r,i,s,n,e[14],23,-35309556),n=Tn(n,r,i,s,e[1],4,-1530992060),s=Tn(s,n,r,i,e[4],11,1272893353),i=Tn(i,s,n,r,e[7],16,-155497632),r=Tn(r,i,s,n,e[10],23,-1094730640),n=Tn(n,r,i,s,e[13],4,681279174),s=Tn(s,n,r,i,e[0],11,-358537222),i=Tn(i,s,n,r,e[3],16,-722521979),r=Tn(r,i,s,n,e[6],23,76029189),n=Tn(n,r,i,s,e[9],4,-640364487),s=Tn(s,n,r,i,e[12],11,-421815835),i=Tn(i,s,n,r,e[15],16,530742520),n=Nn(n,r=Tn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Nn(s,n,r,i,e[7],10,1126891415),i=Nn(i,s,n,r,e[14],15,-1416354905),r=Nn(r,i,s,n,e[5],21,-57434055),n=Nn(n,r,i,s,e[12],6,1700485571),s=Nn(s,n,r,i,e[3],10,-1894986606),i=Nn(i,s,n,r,e[10],15,-1051523),r=Nn(r,i,s,n,e[1],21,-2054922799),n=Nn(n,r,i,s,e[8],6,1873313359),s=Nn(s,n,r,i,e[15],10,-30611744),i=Nn(i,s,n,r,e[6],15,-1560198380),r=Nn(r,i,s,n,e[13],21,1309151649),n=Nn(n,r,i,s,e[4],6,-145523070),s=Nn(s,n,r,i,e[11],10,-1120210379),i=Nn(i,s,n,r,e[2],15,718787259),r=Nn(r,i,s,n,e[9],21,-343485551),t[0]=jn(n,t[0]),t[1]=jn(r,t[1]),t[2]=jn(i,t[2]),t[3]=jn(s,t[3])}function An(t,e,n,r,i,s){return e=jn(jn(e,t),jn(r,s)),jn(e<<i|e>>>32-i,n)}function En(t,e,n,r,i,s,o){return An(e&n|~e&r,t,e,i,s,o)}function In(t,e,n,r,i,s,o){return An(e&r|n&~r,t,e,i,s,o)}function Tn(t,e,n,r,i,s,o){return An(e^n^r,t,e,i,s,o)}function Nn(t,e,n,r,i,s,o){return An(n^(e|~r),t,e,i,s,o)}function Pn(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)xn(r,Ln(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(xn(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,xn(r,i),r}function Ln(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}wn=gn.atob.bind(gn),Sn=gn.btoa.bind(gn);var Rn="0123456789abcdef".split("");function On(t){for(var e="",n=0;n<4;n++)e+=Rn[t>>8*n+4&15]+Rn[t>>8*n&15];return e}function Dn(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Fn(t){return Pn(t).map(Dn).join("")}var Mn="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=On(t[e]);return t.join("")}(Pn("hello"));function jn(t,e){if(Mn){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function qn(t,e){var n,r,i;if(t!==n){for(var s=(i=t,new Array(1+(256/t.length>>0)+1).join(i)),o=[],a=0;a<256;a++)o[a]=a;var l=0;for(a=0;a<256;a++){var c=o[a];l=(l+c+s.charCodeAt(a))%256,o[a]=o[l],o[l]=c}n=t,r=o}else o=r;var u=e.length,h=0,d=0,f="";for(a=0;a<u;a++)d=(d+(c=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=c,s=o[(o[h]+o[d])%256],f+=String.fromCharCode(e.charCodeAt(a)^s);return f}var Bn={print:4,modify:8,copy:16,"annot-forms":32};function Un(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(t){if(void 0!==Bn.perm)throw new Error("Invalid permission: "+t);i+=Bn[t]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Fn(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=qn(this.encryptionKey,this.padding)}function zn(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Vn(t){if("object"!==Ie(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(n){gn.console&&yn.error("jsPDF PubSub Error",n.message,n)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Hn(t){if(!(this instanceof Hn))return new Hn(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Wn(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Gn(t,e,n,r,i){if(!(this instanceof Gn))return new Gn(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,Wn.call(this,r,i)}function Zn(t,e,n,r,i){if(!(this instanceof Zn))return new Zn(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Wn.call(this,r,i)}function $n(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===Ie(t=t||{})&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,null!==(u=t.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Vn;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(t){p=t};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var y=f.__private__.getPageFormat=function(t){return m[t]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},v=_.COMPAT;function b(){this.saveGraphicsState(),J(new Lt(ft,0,0,-ft,0,Rn()*ft).toString()+" cm"),this.setFontSize(this.getFontSize()/ft),c="n",v=_.ADVANCED}function w(){this.restoreGraphicsState(),c="S",v=_.COMPAT}var S=f.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};f.advancedAPI=function(t){var e=v===_.COMPAT;return e&&b.call(this),"function"!=typeof t||(t(this),e&&w.call(this)),this},f.compatAPI=function(t){var e=v===_.ADVANCED;return e&&w.call(this),"function"!=typeof t||(t(this),e&&b.call(this)),this},f.isAdvancedAPI=function(){return v===_.ADVANCED};var C,k=function(t){if(v!==_.ADVANCED)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},x=f.roundToPrecision=f.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return x(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return x(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return x(t,16)};var A=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return x(t,2)},E=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return x(t,3)},I=f.scale=f.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return v===_.COMPAT?t*ft:v===_.ADVANCED?t:void 0},T=function(t){return v===_.COMPAT?Rn()-t:v===_.ADVANCED?t:void 0},N=function(t){return I(T(t))};f.__private__.setPrecision=f.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var P,L="00000000000000000000000000000000",R=f.__private__.getFileId=function(){return L},O=f.__private__.setFileId=function(t){return L=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(De=new Un(u.userPermissions,u.userPassword,u.ownerPassword,L)),L};f.setFileId=function(t){return O(t),this},f.getFileId=function(){return R()};var D=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),s=[n,B(r),"'",B(i),"'"].join("");return["D:",t.getFullYear(),B(t.getMonth()+1),B(t.getDate()),B(t.getHours()),B(t.getMinutes()),B(t.getSeconds()),s].join("")},F=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),o=parseInt(t.substr(14,2),10);return new Date(e,n,r,i,s,o,0)},M=f.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=D(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return P=e},j=f.__private__.getCreationDate=function(t){var e=P;return"jsDate"===t&&(e=F(P)),e};f.setCreationDate=function(t){return M(t),this},f.getCreationDate=function(t){return j(t)};var q,B=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},U=f.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},z=0,V=[],H=[],W=0,G=[],Z=[],$=!1,Y=H,K=function(){z=0,W=0,H=[],V=[],G=[],Bt=Mt(),Ut=Mt()};f.__private__.setCustomOutputDestination=function(t){$=!0,Y=t};var Q=function(t){$||(Y=t)};f.__private__.resetCustomOutputDestination=function(){$=!1,Y=H};var J=f.__private__.out=function(t){return t=t.toString(),W+=t.length+1,Y.push(t),Y},X=f.__private__.write=function(t){return J(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},tt=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return et};var nt=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(t){return nt=v===_.ADVANCED?t/ft:t,this};var rt,it=f.__private__.getFontSize=f.getFontSize=function(){return v===_.COMPAT?nt:nt*ft},st=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(t){return st=t,this},f.__private__.getR2L=f.getR2L=function(){return st};var ot,at=f.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))rt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');rt=t}else rt=parseInt(t,10)};f.__private__.getZoomMode=function(){return rt};var lt,ct=f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');ot=t};f.__private__.getPageMode=function(){return ot};var ut=f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');lt=t};f.__private__.getLayoutMode=function(){return lt},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return at(t),ut(e),ct(n),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ht).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[t]},f.__private__.getDocumentProperties=function(){return ht},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in ht)ht.hasOwnProperty(e)&&t[e]&&(ht[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ht).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[t]=e};var dt,ft,pt,gt,mt,yt={},_t={},vt=[],bt={},wt={},St={},Ct={},kt=null,xt=0,At=[],Et=new Vn(f),It=t.hotfixes||[],Tt={},Nt={},Pt=[],Lt=function t(e,n,r,i,s,o){if(!(this instanceof t))return new t(e,n,r,i,s,o);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(o)&&(o=0),this._matrix=[e,n,r,i,s,o]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Lt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(t)},Lt.prototype.multiply=function(t){return new Lt(t.sx*this.sx+t.shy*this.shx,t.sx*this.shy+t.shy*this.sy,t.shx*this.sx+t.sy*this.shx,t.shx*this.shy+t.sy*this.sy,t.tx*this.sx+t.ty*this.shx+this.tx,t.tx*this.shy+t.ty*this.sy+this.ty)},Lt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,o=Math.sqrt(t*t+e*e),a=(t/=o)*n+(e/=o)*r;n-=t*a,r-=e*a;var l=Math.sqrt(n*n+r*r);return a/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,a=-a,o=-o),{scale:new Lt(o,0,0,l,0,0),translate:new Lt(1,0,0,1,i,s),rotate:new Lt(t,e,-e,t,0,0),skew:new Lt(1,0,a,1,0,0)}},Lt.prototype.toString=function(t){return this.join(" ")},Lt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,o=1/(t*r-e*n),a=r*o,l=-e*o,c=-n*o,u=t*o;return new Lt(a,l,c,u,-a*i-c*s,-l*i-u*s)},Lt.prototype.applyToPoint=function(t){return new xn(t.x*this.sx+t.y*this.shx+this.tx,t.x*this.shy+t.y*this.sy+this.ty)},Lt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new xn(t.x+t.w,t.y+t.h));return new An(e.x,e.y,n.x-e.x,n.y-e.y)},Lt.prototype.clone=function(){return new Lt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},f.Matrix=Lt;var Rt=f.matrixMult=function(t,e){return e.multiply(t)},Ot=new Lt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ot;var Dt=function(t,e){if(!wt[t]){var n=(e instanceof Gn?"Sh":"P")+(Object.keys(bt).length+1).toString(10);e.id=n,wt[t]=n,bt[n]=e,Et.publish("addPattern",e)}};f.ShadingPattern=Gn,f.TilingPattern=Zn,f.addShadingPattern=function(t,e){return k("addShadingPattern()"),Dt(t,e),this},f.beginTilingPattern=function(t){k("beginTilingPattern()"),In(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},f.endTilingPattern=function(t,e){k("endTilingPattern()"),e.stream=Z[q].join("\n"),Dt(t,e),Et.publish("endTilingPattern",e),Pt.pop().restore()};var Ft=f.__private__.newObject=function(){var t=Mt();return jt(t,!0),t},Mt=f.__private__.newObjectDeferred=function(){return z++,V[z]=function(){return W},z},jt=function(t,e){return e="boolean"==typeof e&&e,V[t]=W,e&&J(t+" 0 obj"),t},qt=f.__private__.newAdditionalObject=function(){var t={objId:Mt(),content:""};return G.push(t),t},Bt=Mt(),Ut=Mt(),zt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},Vt=f.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,i=t.ch3,s=t.ch4,o="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new kn(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)if("string"==typeof n)e=n+" "+o[0];else switch(t.precision){case 2:e=A(n/255)+" "+o[0];break;case 3:default:e=E(n/255)+" "+o[0]}else if(void 0===s||"object"===Ie(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)e=[n,r,i,o[1]].join(" ");else switch(t.precision){case 2:e=[A(n/255),A(r/255),A(i/255),o[1]].join(" ");break;default:case 3:e=[E(n/255),E(r/255),E(i/255),o[1]].join(" ")}}else if("string"==typeof n)e=[n,r,i,s,o[2]].join(" ");else switch(t.precision){case 2:e=[A(n),A(r),A(i),A(s),o[2]].join(" ");break;case 3:default:e=[E(n),E(r),E(i),E(s),o[2]].join(" ")}return e},Ht=f.__private__.getFilters=function(){return o},Wt=f.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||Ht(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,s=e.length,o=t.objectId,a=function(t){return t};if(null!==u&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(a=De.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],h=(l=void 0!==$n.API.processDataByFilters?$n.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}J("<<");for(var g=0;g<c.length;g++)J("/"+c[g].key+" "+c[g].value);J(">>"),0!==l.data.length&&(J("stream"),J(a(l.data)),J("endstream"))},Gt=f.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;jt(r,!0),J("<</Type /Page"),J("/Parent "+t.rootDictionaryObjId+" 0 R"),J("/Resources "+t.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(t.mediaBox.bottomLeftX))+" "+parseFloat(C(t.mediaBox.bottomLeftY))+" "+C(t.mediaBox.topRightX)+" "+C(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&J("/CropBox ["+C(t.cropBox.bottomLeftX)+" "+C(t.cropBox.bottomLeftY)+" "+C(t.cropBox.topRightX)+" "+C(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&J("/BleedBox ["+C(t.bleedBox.bottomLeftX)+" "+C(t.bleedBox.bottomLeftY)+" "+C(t.bleedBox.topRightX)+" "+C(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&J("/TrimBox ["+C(t.trimBox.bottomLeftX)+" "+C(t.trimBox.bottomLeftY)+" "+C(t.trimBox.topRightX)+" "+C(t.trimBox.topRightY)+"]"),null!==t.artBox&&J("/ArtBox ["+C(t.artBox.bottomLeftX)+" "+C(t.artBox.bottomLeftY)+" "+C(t.artBox.topRightX)+" "+C(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&J("/UserUnit "+t.userUnit),Et.publish("putPage",{objId:r,pageContext:At[e],pageNumber:e,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var s=n.join("\n");return v===_.ADVANCED&&(s+="\nQ"),jt(i,!0),Wt({data:s,filters:Ht(),objectId:i}),J("endobj"),r},Zt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=xt;t++)At[t].objId=Mt(),At[t].contentsObjId=Mt();for(t=1;t<=xt;t++)n.push(Gt({number:t,data:Z[t],objId:At[t].objId,contentsObjId:At[t].contentsObjId,mediaBox:At[t].mediaBox,cropBox:At[t].cropBox,bleedBox:At[t].bleedBox,trimBox:At[t].trimBox,artBox:At[t].artBox,userUnit:At[t].userUnit,rootDictionaryObjId:Bt,resourceDictionaryObjId:Ut}));jt(Bt,!0),J("<</Type /Pages");var r="/Kids [";for(e=0;e<xt;e++)r+=n[e]+" 0 R ";J(r+"]"),J("/Count "+xt),J(">>"),J("endobj"),Et.publish("postPutPages")},$t=function(t){Et.publish("putFont",{font:t,out:J,newObject:Ft,putStream:Wt}),!0!==t.isAlreadyPutted&&(t.objectNumber=Ft(),J("<<"),J("/Type /Font"),J("/BaseFont /"+zn(t.postScriptName)),J("/Subtype /Type1"),"string"==typeof t.encoding&&J("/Encoding /"+t.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Yt=function(){for(var t in yt)yt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&$t(yt[t])},Kt=function(t){t.objectNumber=Ft();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[C(t.x),C(t.y),C(t.x+t.width),C(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");Wt({data:n,additionalKeyValues:e,objectId:t.objectNumber}),J("endobj")},Qt=function(){for(var t in Tt)Tt.hasOwnProperty(t)&&Kt(Tt[t])},Jt=function(t,e){var n,r=[],i=1/(e-1);for(n=0;n<1;n+=i)r.push(n);r.push(1),0!=t[0].offset&&t.unshift({offset:0,color:t[0].color}),1!=t[t.length-1].offset&&t.push({offset:1,color:t[t.length-1].color});for(var s="",o=0,a=0;a<r.length;a++){for(n=r[a];n>t[o+1].offset;)o++;var l=t[o].offset,c=(n-l)/(t[o+1].offset-l),u=t[o].color,h=t[o+1].color;s+=U(Math.round((1-c)*u[0]+c*h[0]).toString(16))+U(Math.round((1-c)*u[1]+c*h[1]).toString(16))+U(Math.round((1-c)*u[2]+c*h[2]).toString(16))}return s.trim()},Xt=function(t,e){e||(e=21);var n=Ft(),r=Jt(t.colors,e),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+e+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wt({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),t.objectNumber=Ft(),J("<< /ShadingType "+t.type),J("/ColorSpace /DeviceRGB");var s="/Coords ["+C(parseFloat(t.coords[0]))+" "+C(parseFloat(t.coords[1]))+" ";s+=2===t.type?C(parseFloat(t.coords[2]))+" "+C(parseFloat(t.coords[3])):C(parseFloat(t.coords[2]))+" "+C(parseFloat(t.coords[3]))+" "+C(parseFloat(t.coords[4]))+" "+C(parseFloat(t.coords[5])),J(s+="]"),t.matrix&&J("/Matrix ["+t.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},te=function(t,e){var n=Mt(),r=Ft();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+t.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(t.xStep)}),i.push({key:"YStep",value:C(t.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),t.matrix&&i.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Wt({data:t.stream,additionalKeyValues:i,objectId:t.objectNumber}),J("endobj")},ee=function(t){var e;for(e in bt)bt.hasOwnProperty(e)&&(bt[e]instanceof Gn?Xt(bt[e]):bt[e]instanceof Zn&&te(bt[e],t))},ne=function(t){for(var e in t.objectNumber=Ft(),J("<<"),t)switch(e){case"opacity":J("/ca "+A(t[e]));break;case"stroke-opacity":J("/CA "+A(t[e]))}J(">>"),J("endobj")},re=function(){var t;for(t in St)St.hasOwnProperty(t)&&ne(St[t])},ie=function(){for(var t in J("/XObject <<"),Tt)Tt.hasOwnProperty(t)&&Tt[t].objectNumber>=0&&J("/"+t+" "+Tt[t].objectNumber+" 0 R");Et.publish("putXobjectDict"),J(">>")},se=function(){De.oid=Ft(),J("<<"),J("/Filter /Standard"),J("/V "+De.v),J("/R "+De.r),J("/U <"+De.toHexString(De.U)+">"),J("/O <"+De.toHexString(De.O)+">"),J("/P "+De.P),J(">>"),J("endobj")},oe=function(){for(var t in J("/Font <<"),yt)yt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&J("/"+t+" "+yt[t].objectNumber+" 0 R");J(">>")},ae=function(){if(Object.keys(bt).length>0){for(var t in J("/Shading <<"),bt)bt.hasOwnProperty(t)&&bt[t]instanceof Gn&&bt[t].objectNumber>=0&&J("/"+t+" "+bt[t].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),J(">>")}},le=function(t){if(Object.keys(bt).length>0){for(var e in J("/Pattern <<"),bt)bt.hasOwnProperty(e)&&bt[e]instanceof f.TilingPattern&&bt[e].objectNumber>=0&&bt[e].objectNumber<t&&J("/"+e+" "+bt[e].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),J(">>")}},ce=function(){if(Object.keys(St).length>0){var t;for(t in J("/ExtGState <<"),St)St.hasOwnProperty(t)&&St[t].objectNumber>=0&&J("/"+t+" "+St[t].objectNumber+" 0 R");Et.publish("putGStateDict"),J(">>")}},ue=function(t){jt(t.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oe(),ae(),le(t.objectOid),ce(),ie(),J(">>"),J("endobj")},he=function(){var t=[];Yt(),re(),Qt(),ee(t),Et.publish("putResources"),t.forEach(ue),ue({resourcesOid:Ut,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},de=function(){Et.publish("putAdditionalObjects");for(var t=0;t<G.length;t++){var e=G[t];jt(e.objId,!0),J(e.content),J("endobj")}Et.publish("postPutAdditionalObjects")},fe=function(t){_t[t.fontName]=_t[t.fontName]||{},_t[t.fontName][t.fontStyle]=t.id},pe=function(t,e,n,r,i){var s={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Et.publish("addFont",{font:s,instance:this}),yt[s.id]=s,fe(s),s.id},ge=function(t){for(var e=0,n=et.length;e<n;e++){var r=pe.call(this,t[e][0],t[e][1],t[e][2],et[e][3],!0);!1===h&&(d[r]=!0);var i=t[e][0].split("-");fe({id:r,fontName:i[0],fontStyle:i[1]||""})}Et.publish("addFonts",{fonts:yt,dictionary:_t})},me=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!gn.console)throw new Error(n);gn.console.error(n,t),gn.alert&&alert(n)}},t.foo.bar=t,t.foo},ye=function(t,e){var n,r,i,s,o,a,l,c,u;if(i=(e=e||{}).sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&yt[dt].metadata&&yt[dt].metadata[i]&&yt[dt].metadata[i].encoding&&(s=yt[dt].metadata[i].encoding,!o&&yt[dt].encoding&&(o=yt[dt].encoding),!o&&s.codePages&&(o=s.codePages[0]),"string"==typeof o&&(o=s[o]),o)){for(l=!1,a=[],n=0,r=t.length;n<r;n++)(c=o[t.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(t[n]),a[n].charCodeAt(0)>>8&&(l=!0);t=a.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(a=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(c-(u<<8))}return String.fromCharCode.apply(void 0,a)},_e=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return ye(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ve=f.__private__.beginPage=function(t){Z[++xt]=[],At[xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},Se(xt),Q(Z[q])},be=function(t,e){var r,s,o;switch(n=e||n,"string"==typeof t&&(r=y(t.toLowerCase()),Array.isArray(r)&&(s=r[0],o=r[1])),Array.isArray(t)&&(s=t[0]*ft,o=t[1]*ft),isNaN(s)&&(s=i[0],o=i[1]),(s>14400||o>14400)&&(yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),o=Math.min(14400,o)),i=[s,o],n.substr(0,1)){case"l":o>s&&(i=[o,s]);break;case"p":s>o&&(i=[o,s])}ve(i),nn(tn),J(hn),0!==vn&&J(vn+" J"),0!==bn&&J(bn+" j"),Et.publish("addPage",{pageNumber:xt})},we=function(t){t>0&&t<=xt&&(Z.splice(t,1),At.splice(t,1),xt--,q>xt&&(q=xt),this.setPage(q))},Se=function(t){t>0&&t<=xt&&(q=t)},Ce=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Z.length-1},ke=function(t,e,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:yt[dt].fontStyle,r=(t=void 0!==t?t:yt[dt].fontName).toLowerCase(),void 0!==_t[r]&&void 0!==_t[r][e]?i=_t[r][e]:void 0!==_t[t]&&void 0!==_t[t][e]?i=_t[t][e]:!1===n.disableWarning&&yn.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=_t.times[e])&&(i=_t.times.normal),i},xe=f.__private__.putInfo=function(){var t=Ft(),e=function(t){return t};for(var n in null!==u&&(e=De.encryptor(t,0)),J("<<"),J("/Producer ("+_e(e("jsPDF "+$n.version))+")"),ht)ht.hasOwnProperty(n)&&ht[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+_e(e(ht[n]))+")");J("/CreationDate ("+_e(e(P))+")"),J(">>"),J("endobj")},Ae=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||Bt;switch(Ft(),J("<<"),J("/Type /Catalog"),J("/Pages "+e+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+rt;"%"===n.substr(n.length-1)&&(rt=parseInt(rt)/100),"number"==typeof rt&&J("/OpenAction [3 0 R /XYZ null null "+A(rt)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ot&&J("/PageMode /"+ot),Et.publish("putCatalog"),J(">>"),J("endobj")},Ee=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(z+1)),J("/Root "+z+" 0 R"),J("/Info "+(z-1)+" 0 R"),null!==u&&J("/Encrypt "+De.oid+" 0 R"),J("/ID [ <"+L+"> <"+L+"> ]"),J(">>")},Te=f.__private__.putHeader=function(){J("%PDF-"+p),J("%\xba\xdf\xac\xe0")},Ne=f.__private__.putXRef=function(){var t="0000000000";J("xref"),J("0 "+(z+1)),J("0000000000 65535 f ");for(var e=1;e<=z;e++)J("function"==typeof V[e]?(t+V[e]()).slice(-10)+" 00000 n ":void 0!==V[e]?(t+V[e]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Pe=f.__private__.buildDocument=function(){K(),Q(H),Et.publish("buildDocument"),Te(),Zt(),de(),he(),null!==u&&se(),xe(),Ae();var t=W;return Ne(),Ee(),J("startxref"),J(""+t),J("%%EOF"),Q(Z[q]),H.join("\n")},Le=f.__private__.getBlob=function(t){return new Blob([tt(t)],{type:"application/pdf"})},Re=f.output=f.__private__.output=me(function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return Pe();case"save":f.save(e.filename);break;case"arraybuffer":return tt(Pe());case"blob":return Le(Pe());case"bloburi":case"bloburl":if(void 0!==gn.URL&&"function"==typeof gn.URL.createObjectURL)return gn.URL&&gn.URL.createObjectURL(Le(Pe()))||void 0;yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Pe();try{n=Sn(r)}catch(t){n=Sn(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(gn)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(i=e.pdfObjectUrl,s="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",a=gn.open();return null!==a&&a.document.write(o),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(gn)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=gn.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(gn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',d=gn.open();if(null!==d&&(d.document.write(h),d.document.title=e.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return gn.document.location.href=this.output("datauristring",e);default:return null}}),Oe=function(t){return!0===Array.isArray(It)&&It.indexOf(t)>-1};switch(r){case"pt":ft=1;break;case"mm":ft=72/25.4;break;case"cm":ft=72/2.54;break;case"in":ft=72;break;case"px":ft=1==Oe("px_scaling")?.75:96/72;break;case"pc":case"em":ft=12;break;case"ex":ft=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);ft=r}var De=null;M(),O();var Fe=function(t){return null!==u?De.encryptor(t,0):function(t){return t}},Me=f.__private__.getPageInfo=f.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[t].objId,pageNumber:t,pageContext:At[t]}},je=f.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in At)if(At[e].objId===t)break;return Me(e)},qe=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:At[q].objId,pageNumber:q,pageContext:At[q]}};f.addPage=function(){return be.apply(this,arguments),this},f.setPage=function(){return Se.apply(this,arguments),Q.call(this,Z[q]),this},f.insertPage=function(t){return this.addPage(),this.movePage(q,t),this},f.movePage=function(t,e){var n,r;if(t>e){n=Z[t],r=At[t];for(var i=t;i>e;i--)Z[i]=Z[i-1],At[i]=At[i-1];Z[e]=n,At[e]=r,this.setPage(e)}else if(t<e){n=Z[t],r=At[t];for(var s=t;s<e;s++)Z[s]=Z[s+1],At[s]=At[s+1];Z[e]=n,At[e]=r,this.setPage(e)}return this},f.deletePage=function(){return we.apply(this,arguments),this},f.__private__.text=f.text=function(t,e,n,r,i){var s,o,a,l,c,u,h,f,p,g=(r=r||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var m=n;n=e,e=t,t=m}if(arguments[3]instanceof Lt==0?(a=arguments[4],l=arguments[5],"object"===Ie(h=arguments[3])&&null!==h||("string"==typeof a&&(l=a,a=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(a=h,h=null),r={flags:h,angle:a,align:l})):(k("The transform parameter of text() with a Matrix value"),p=i),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return g;var y="",b=!1,w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Xe,S=g.internal.scaleFactor;function x(t){return t=t.split("\t").join(Array(r.TabLen||9).join(" ")),_e(t,h)}function A(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function E(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,s=t.concat(),o=[],a=s.length;a--;)"string"==typeof(r=s.shift())?o.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=e(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var T=!1,N=!0;if("string"==typeof t)T=!0;else if(Array.isArray(t)){var P=t.concat();o=[];for(var L,R=P.length;R--;)("string"!=typeof(L=P.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(N=!1);T=N}if(!1===T)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var O=nt/g.internal.scaleFactor,D=O*(w-1);switch(r.baseline){case"bottom":n-=D;break;case"top":n+=O-D;break;case"hanging":n+=O-2*D;break;case"middle":n+=O/2-D}if((u=r.maxWidth||0)>0&&("string"==typeof t?t=g.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(g.splitTextToSize(e,u))},[]))),Et.publish("preProcessText",s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:_e,activeFontKey:dt,fonts:yt,activeFontSize:nt}}),t=s.text,a=(r=s.options).angle,p instanceof Lt==0&&a&&"number"==typeof a){a*=Math.PI/180,0===r.rotationDirection&&(a=-a),v===_.ADVANCED&&(a=-a);var F=Math.cos(a),M=Math.sin(a);p=new Lt(F,M,-M,F,0,0)}else a&&a instanceof Lt&&(p=a);v!==_.ADVANCED||p||(p=Ot),void 0!==(c=r.charSpace||mn)&&(y+=C(I(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(y+=C(100*f)+" Tz\n");var j=-1,q=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=g.internal.getCurrentPageInfo().pageContext;switch(q){case 0:case!1:case"fill":j=0;break;case 1:case!0:case"stroke":j=1;break;case 2:case"fillThenStroke":j=2;break;case 3:case"invisible":j=3;break;case 4:case"fillAndAddForClipping":j=4;break;case 5:case"strokeAndAddPathForClipping":j=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":j=6;break;case 7:case"addToPathForClipping":j=7}var U=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==j?y+=j+" Tr\n":-1!==U&&(y+="0 Tr\n"),-1!==j&&(B.usedRenderingMode=j),l=r.align||"left";var z,V=nt*w,H=g.internal.pageSize.getWidth(),W=yt[dt];c=r.charSpace||mn,u=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[];if("[object Array]"===Object.prototype.toString.call(t)){var Z;o=A(t),"left"!==l&&(z=o.map(function(t){return g.getStringUnitWidth(t,{font:W,charSpace:c,fontSize:nt,doKerning:!1})*nt/S}));var $,Y=0;if("right"===l){e-=z[0],t=[],R=o.length;for(var K=0;K<R;K++)0===K?($=an(e),Z=ln(n)):($=I(Y-z[K]),Z=-V),t.push([o[K],$,Z]),Y=z[K]}else if("center"===l){e-=z[0]/2,t=[],R=o.length;for(var Q=0;Q<R;Q++)0===Q?($=an(e),Z=ln(n)):($=I((Y-z[Q])/2),Z=-V),t.push([o[Q],$,Z]),Y=z[Q]}else if("left"===l){t=[],R=o.length;for(var X=0;X<R;X++)t.push(o[X])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[],R=o.length,u=0!==u?u:H;for(var tt=0;tt<R;tt++)Z=0===tt?ln(n):-V,$=0===tt?an(e):0,G.push(tt<R-1?C(I((u-z[tt])/(o[tt].split(" ").length-1))):0),t.push([o[tt],$,Z])}}var et="boolean"==typeof r.R2L?r.R2L:st;!0===et&&(t=E(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),Et.publish("postProcessText",s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:_e,activeFontKey:dt,fonts:yt,activeFontSize:nt}}),t=s.text,b=s.mutex.isHex||!1;var rt=yt[dt].encoding;"WinAnsiEncoding"!==rt&&"StandardEncoding"!==rt||(t=E(t,function(t,e,n){return[x(t),e,n]})),o=A(t),t=[];for(var it,ot,at,lt=0,ct=1,ut=Array.isArray(o[0])?ct:lt,ht="",ft=function(t,e,n){var i="";return n instanceof Lt?(n="number"==typeof r.angle?Rt(n,new Lt(1,0,0,1,t,e)):Rt(new Lt(1,0,0,1,t,e),n),v===_.ADVANCED&&(n=Rt(new Lt(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=C(t)+" "+C(e)+" Td\n",i},pt=0;pt<o.length;pt++){switch(ht="",ut){case ct:at=(b?"<":"(")+o[pt][0]+(b?">":")"),it=parseFloat(o[pt][1]),ot=parseFloat(o[pt][2]);break;case lt:at=(b?"<":"(")+o[pt]+(b?">":")"),it=an(e),ot=ln(n)}void 0!==G&&void 0!==G[pt]&&(ht=G[pt]+" Tw\n"),0===pt?t.push(ht+ft(it,ot,p)+at):ut===lt?t.push(ht+at):ut===ct&&t.push(ht+ft(it,ot,p)+at)}t=t.join(ut===lt?" Tj\nT* ":" Tj\n"),t+=" Tj\n";var gt="BT\n/";return gt+=dt+" "+nt+" Tf\n",gt+=C(nt*w)+" TL\n",gt+=fn+"\n",gt+=y,gt+=t,J(gt+="ET"),d[dt]=!0,g};var Be=f.__private__.clip=f.clip=function(t){return J("evenodd"===t?"W*":"W"),this};f.clipEvenOdd=function(){return Be("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Ue=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(t){return Ue(t)&&(c=t),this};var ze=f.__private__.getStyle=f.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Ve=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(t){return He("f",t),this},f.fillEvenOdd=function(t){return He("f*",t),this},f.fillStroke=function(t){return He("B",t),this},f.fillStrokeEvenOdd=function(t){return He("B*",t),this};var He=function(t,e){"object"===Ie(e)?Ze(e,t):J(t)},We=function(t){null===t||v===_.ADVANCED&&void 0===t||(t=ze(t),J(t))};function Ge(t,e,n,r,i){var s=new Zn(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var o=t+"$$"+this.cloneIndex+++"$$";return Dt(o,s),s}var Ze=function(t,e){var n=wt[t.key],r=bt[n];if(r instanceof Gn)J("q"),J($e(e)),r.gState&&f.setGState(r.gState),J(t.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof Zn){var i=new Lt(1,0,0,-1,0,Rn());t.matrix&&(i=i.multiply(t.matrix||Ot),n=Ge.call(r,t.key,t.boundingBox,t.xStep,t.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&f.setGState(r.gState),J(e),J("Q")}},$e=function(t){switch(t){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ye=f.moveTo=function(t,e){return J(C(I(t))+" "+C(N(e))+" m"),this},Ke=f.lineTo=function(t,e){return J(C(I(t))+" "+C(N(e))+" l"),this},Qe=f.curveTo=function(t,e,n,r,i,s){return J([C(I(t)),C(N(e)),C(I(n)),C(N(r)),C(I(i)),C(N(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ue(i))throw new Error("Invalid arguments passed to jsPDF.line");return v===_.COMPAT?this.lines([[n-t,r-e]],t,e,[1,1],i||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},f.__private__.lines=f.lines=function(t,e,n,r,i,s){var o,a,l,c,u,h,d,f;if("number"==typeof t&&(f=n,n=e,e=t,t=f),r=r||[1,1],s=s||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ue(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ye(e,n),o=r[0],a=r[1],c=t.length,h=e,d=n,l=0;l<c;l++)2===(u=t[l]).length?Ke(h=u[0]*o+h,d=u[1]*a+d):Qe(u[0]*o+h,u[1]*a+d,u[2]*o+h,u[3]*a+d,h=u[4]*o+h,d=u[5]*a+d);return s&&Ve(),We(i),this},f.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Ye(r[0],r[1]);break;case"l":Ke(r[0],r[1]);break;case"c":Qe.apply(this,r);break;case"h":Ve()}}return this},f.__private__.rect=f.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ue(i))throw new Error("Invalid arguments passed to jsPDF.rect");return v===_.COMPAT&&(r=-r),J([C(I(t)),C(N(e)),C(I(n)),C(I(r)),"re"].join(" ")),We(i),this},f.__private__.triangle=f.triangle=function(t,e,n,r,i,s,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ue(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,s-r],[t-i,e-s]],t,e,[1,1],o,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,r,i,s,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ue(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*a,0,i,s-s*a,i,s],[0,r-2*s],[0,s*a,-i*a,s,-i,s],[2*i-n,0],[-i*a,0,-i,-s*a,-i,-s],[0,2*s-r],[0,-s*a,i*a,-s,i,-s]],t+i,e,[1,1],o,!0),this},f.__private__.ellipse=f.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ue(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Ye(t+n,e),Qe(t+n,e-o,t+s,e-r,t,e-r),Qe(t-s,e-r,t-n,e-o,t-n,e),Qe(t-n,e+o,t-s,e+r,t,e+r),Qe(t+s,e+r,t+n,e+o,t+n,e),We(i),this},f.__private__.circle=f.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ue(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},f.setFont=function(t,e,n){return n&&(e=S(e,n)),dt=ke(t,e,{disableWarning:!1}),this};var Je=f.__private__.getFont=f.getFont=function(){return yt[ke.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var t,e,n={};for(t in _t)if(_t.hasOwnProperty(t))for(e in n[t]=[],_t[t])_t[t].hasOwnProperty(e)&&n[t].push(e);return n},f.addFont=function(t,e,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=S(n,r)),pe.call(this,t,e,n,i=i||"Identity-H")};var Xe,tn=t.lineWidth||.200025,en=f.__private__.getLineWidth=f.getLineWidth=function(){return tn},nn=f.__private__.setLineWidth=f.setLineWidth=function(t){return tn=t,J(C(I(t))+" w"),this};f.__private__.setLineDash=$n.API.setLineDash=$n.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return C(I(t))}).join(" "),e=C(I(e)),J("["+t+"] "+e+" d"),this};var rn=f.__private__.getLineHeight=f.getLineHeight=function(){return nt*Xe};f.__private__.getLineHeight=f.getLineHeight=function(){return nt*Xe};var sn=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Xe=t),this},on=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Xe};sn(t.lineHeight);var an=f.__private__.getHorizontalCoordinate=function(t){return I(t)},ln=f.__private__.getVerticalCoordinate=function(t){return v===_.ADVANCED?t:At[q].mediaBox.topRightY-At[q].mediaBox.bottomLeftY-I(t)},cn=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(t){return C(an(t))},un=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(t){return C(ln(t))},hn=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return zt(hn)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,r){return hn=Vt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(hn),this};var dn=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return zt(dn)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,r){return dn=Vt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(dn),this};var fn=t.textColor||"0 g",pn=f.__private__.getTextColor=f.getTextColor=function(){return zt(fn)};f.__private__.setTextColor=f.setTextColor=function(t,e,n,r){return fn=Vt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var mn=t.charSpace,_n=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(mn||0)};f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mn=t,this};var vn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vn=e,J(e+" J"),this};var bn=0;f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bn=e,J(e+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(I(t))+" M"),this},f.GState=Hn,f.setGState=function(t){(t="string"==typeof t?St[Ct[t]]:wn(null,t)).equals(kt)||(J("/"+t.id+" gs"),kt=t)};var wn=function(t,e){if(!t||!Ct[t]){var n=!1;for(var r in St)if(St.hasOwnProperty(r)&&St[r].equals(e)){n=!0;break}if(n)e=St[r];else{var i="GS"+(Object.keys(St).length+1).toString(10);St[i]=e,e.id=i}return t&&(Ct[t]=e.id),Et.publish("addGState",e),e}};f.addGState=function(t,e){return wn(t,e),this},f.saveGraphicsState=function(){return J("q"),vt.push({key:dt,size:nt,color:fn}),this},f.restoreGraphicsState=function(){J("Q");var t=vt.pop();return dt=t.key,nt=t.size,fn=t.color,kt=null,this},f.setCurrentTransformationMatrix=function(t){return J(t.toString()+" cm"),this},f.comment=function(t){return J("#"+t),this};var xn=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},An=function(t,e,n,r){xn.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}}),this},En=function(){this.page=xt,this.currentPage=q,this.pages=Z.slice(0),this.pagesContext=At.slice(0),this.x=pt,this.y=gt,this.matrix=mt,this.width=Pn(q),this.height=Rn(q),this.outputDestination=Y,this.id="",this.objectNumber=-1};En.prototype.restore=function(){xt=this.page,At=this.pagesContext,Z=this.pages,pt=this.x,gt=this.y,mt=this.matrix,Ln(q=this.currentPage,this.width),On(q,this.height),Y=this.outputDestination};var In=function(t,e,n,r,i){Pt.push(new En),xt=q=0,Z=[],pt=t,gt=e,mt=i,ve([n,r])},Tn=function(t){if(Nt[t])Pt.pop().restore();else{var e=new En,n="Xo"+(Object.keys(Tt).length+1).toString(10);e.id=n,Nt[t]=n,Tt[n]=e,Et.publish("addFormObject",e),Pt.pop().restore()}};for(var Nn in f.beginFormObject=function(t,e,n,r,i){return In(t,e,n,r,i),this},f.endFormObject=function(t){return Tn(t),this},f.doFormObject=function(t,e){var n=Tt[Nt[t]];return J("q"),J(e.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},f.getFormObject=function(t){var e=Tt[Nt[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},f.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(Cn(Le(Pe()),t),"function"==typeof Cn.unload&&gn.setTimeout&&setTimeout(Cn.unload,911),this):new Promise(function(e,n){try{var r=Cn(Le(Pe()),t);"function"==typeof Cn.unload&&gn.setTimeout&&setTimeout(Cn.unload,911),e(r)}catch(t){n(t.message)}})},$n.API)$n.API.hasOwnProperty(Nn)&&("events"===Nn&&$n.API.events.length?function(t,e){var n,r;for(r=e.length-1;-1!==r;r--)t.subscribe.apply(t,[e[r][0]].concat("function"==typeof(n=e[r][1])?[n]:n))}(Et,$n.API.events):f[Nn]=$n.API[Nn]);var Pn=f.getPageWidth=function(t){return(At[t=t||q].mediaBox.topRightX-At[t].mediaBox.bottomLeftX)/ft},Ln=f.setPageWidth=function(t,e){At[t].mediaBox.topRightX=e*ft+At[t].mediaBox.bottomLeftX},Rn=f.getPageHeight=function(t){return(At[t=t||q].mediaBox.topRightY-At[t].mediaBox.bottomLeftY)/ft},On=f.setPageHeight=function(t,e){At[t].mediaBox.topRightY=e*ft+At[t].mediaBox.bottomLeftY};return f.internal={pdfEscape:_e,getStyle:ze,getFont:Je,getFontSize:it,getCharSpace:_n,getTextColor:pn,getLineHeight:rn,getLineHeightFactor:on,getLineWidth:en,write:X,getHorizontalCoordinate:an,getVerticalCoordinate:ln,getCoordinateString:cn,getVerticalCoordinateString:un,collections:{},newObject:Ft,newAdditionalObject:qt,newObjectDeferred:Mt,newObjectDeferredBegin:jt,getFilters:Ht,putStream:Wt,events:Et,scaleFactor:ft,pageSize:{getWidth:function(){return Pn(q)},setWidth:function(t){Ln(q,t)},getHeight:function(){return Rn(q)},setHeight:function(t){On(q,t)}},encryptionOptions:u,encryption:De,getEncryptor:Fe,output:Re,getNumberOfPages:Ce,pages:Z,out:J,f2:A,f3:E,getPageInfo:Me,getPageInfoByObjId:je,getCurrentPageInfo:qe,getPDFVersion:g,Point:xn,Rectangle:An,Matrix:Lt,hasHotfix:Oe},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Pn(q)},set:function(t){Ln(q,t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Rn(q)},set:function(t){On(q,t)},enumerable:!0,configurable:!0}),ge.call(f,et),dt="F1",be(i,n),Et.publish("initialized"),f}Un.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Un.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Un.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Un.prototype.processOwnerPassword=function(t,e){return qn(Fn(e).substr(0,5),t)},Un.prototype.encryptor=function(t,e){var n=Fn(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return qn(n,t)}},Hn.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ie(t)!==Ie(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},$n.API={events:[]},$n.version="2.5.1";var Yn=$n.API,Kn=1,Qn=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jn=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xn=function(t){return t.toFixed(2)},tr=function(t){return t.toFixed(5)};Yn.__acroform__={};var er=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},nr=function(t){return t*Kn},rr=function(t){var e=new vr,n=Rr.internal.getHeight(t)||0,r=Rr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xn(r)),Number(Xn(n))],e},ir=Yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},sr=Yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},or=Yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},ar=Yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return or(t,e-1)},lr=Yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ir(t,e-1)},cr=Yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sr(t,e-1)},ur=Yn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Xn(l.lowerLeft_X)),Number(Xn(l.lowerLeft_Y)),Number(Xn(l.upperRight_X)),Number(Xn(l.upperRight_Y))]},hr=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=dr(t,t._V||t.DV),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Xn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=rr(t);return i.scope=t.scope,i.stream=e.join("\n"),i}},dr=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(t.multiline?function(t){return t.split("\n")}:function(t){return[t]});var s=n,o=Rr.internal.getHeight(t)||0;o=o<0?-o:o;var a=Rr.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(e,n,r){return e+1<i.length&&fr(n+" "+i[e+1][0],t,r).width<=a-4};s++;t:for(;s>0;){e="",s--;var c,u,h=fr("3",t,s).height,d=t.multiline?o-s:(o-h)/2,f=d+=2,p=0,g=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+fr(e,t,s=12).width+", FieldWidth:"+a+"\n";break}for(var y="",_=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var b=!1;if(1!==i[v].length&&m!==i[v].length-1){if((h+2)*(_+2)+2>o)continue t;y+=i[v][m],b=!0,g=v,v--}else{y=" "==(y+=i[v][m]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var w=parseInt(v),S=l(w,y,s),C=v>=i.length-1;if(S&&!C){y+=" ",m=0;continue}if(S||C){if(C)g=w;else if(t.multiline&&(h+2)*(_+2)+2>o)continue t}else{if(!t.multiline)continue t;if((h+2)*(_+2)+2>o)continue t;g=w}}for(var k="",x=p;x<=g;x++){var A=i[x];if(t.multiline){if(x===g){k+=A[m]+" ",m=(m+1)%A.length;continue}if(x===p){k+=A[A.length-1]+" ";continue}}k+=A[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,u=fr(k,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Xn(c)+" "+Xn(f)+" Td\n",e+="("+Qn(k)+") Tj\n",e+=-Xn(c)+" 0 Td\n",f=-(s+2),u=0,p=b?g:g+1,_++,y=""}break}return r.text=e,r.fontSize=s,r},fr=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},pr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gr=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},mr=Yn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(t){return t};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(0!==s&&(i+=" "),Ie(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),i+="("+Qn(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yr=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Qn(r(t))+")"},_r=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_r.prototype.toString=function(){return this.objId+" 0 R"},_r.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_r.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:mr(i,this.objId,this.scope)}):i instanceof _r?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var vr=function(){_r.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};er(vr,_r);var br=function(){_r.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Qn(e(t))+")"}},set:function(e){t=e}})};er(br,_r);var wr=function t(){_r.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(e,3))},set:function(t){this.F=!0===Boolean(t)?lr(e,3):cr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Tr)return;s="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Qn(e(s))+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Kn:c},set:function(t){c=t}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Tr||this instanceof Pr))return yr(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ar==0?yr(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof Ar==0?"("===t.substr(0,1)?Jn(t.substr(1,t.length-2)):Jn(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?Jn(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof Ar==1?"/"+t:t}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ar==0?yr(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof Ar==0?"("===t.substr(0,1)?Jn(t.substr(1,t.length-2)):Jn(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?Jn(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof Ar==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,1))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,1):cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,2))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,2):cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,3))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,3):cr(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};er(wr,_r);var Sr=function(){wr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mr(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,18):cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?lr(this.Ff,19):cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=lr(this.Ff,20),e.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,22):cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,23):cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,27):cr(this.Ff,27)}}),this.hasAppearanceStream=!1};er(Sr,wr);var Cr=function(){Sr.call(this),this.fontName="helvetica",this.combo=!1};er(Cr,Sr);var kr=function(){Cr.call(this),this.combo=!0};er(kr,Cr);var xr=function(){kr.call(this),this.edit=!0};er(xr,kr);var Ar=function(){wr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,15):cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,16):cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,17):cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,26):cr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Qn(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===Ie(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};er(Ar,wr);var Er=function(){Ar.call(this),this.pushButton=!0};er(Er,Ar);var Ir=function(){Ar.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};er(Ir,Ar);var Tr=function(){var t,e;wr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),r)n.push("/"+e+" ("+Qn(t(r[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===Ie(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};er(Tr,wr),Ir.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ir.prototype.createOption=function(t){var e=new Tr;return e.Parent=this,e.optionName=t,this.Kids.push(e),Fr.call(this.scope,e),e};var Nr=function(){Ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rr.CheckBox.createAppearanceStream()};er(Nr,Ar);var Pr=function(){wr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,13):cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,21):cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,23):cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,24):cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,25):cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,26):cr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};er(Pr,wr);var Lr=function(){Pr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ar(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?lr(this.Ff,14):cr(this.Ff,14)}}),this.password=!0};er(Lr,Pr);var Rr={CheckBox:{createAppearanceStream:function(){return{N:{On:Rr.CheckBox.YesNormal},D:{On:Rr.CheckBox.YesPushDown,Off:Rr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=dr(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Xn(Rr.internal.getWidth(t))+" "+Xn(Rr.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Xn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=rr(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Rr.internal.getHeight(t),o=Rr.internal.getWidth(t),a=dr(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xn(o)+" "+Xn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xn(o-1)+" "+Xn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Xn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(Rr.internal.getWidth(t))+" "+Xn(Rr.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Rr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Rr.RadioButton.Circle.YesNormal,e.D[t]=Rr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=rr(t);e.scope=t.scope;var n=[],r=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((r*Rr.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+tr(Rr.internal.getWidth(t)/2)+" "+tr(Rr.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=[],r=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Rr.internal.Bezier_C).toFixed(5)),o=Number((r*Rr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tr(Rr.internal.getWidth(t)/2)+" "+tr(Rr.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+tr(Rr.internal.getWidth(t)/2)+" "+tr(Rr.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=[],r=Rr.internal.getWidth(t)<=Rr.internal.getHeight(t)?Rr.internal.getWidth(t)/4:Rr.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Rr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tr(Rr.internal.getWidth(t)/2)+" "+tr(Rr.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Rr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Rr.RadioButton.Cross.YesNormal,e.D[t]=Rr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=rr(t);e.scope=t.scope;var n=[],r=Rr.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Xn(Rr.internal.getWidth(t)-2)+" "+Xn(Rr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xn(r.x1.x)+" "+Xn(r.x1.y)+" m"),n.push(Xn(r.x2.x)+" "+Xn(r.x2.y)+" l"),n.push(Xn(r.x4.x)+" "+Xn(r.x4.y)+" m"),n.push(Xn(r.x3.x)+" "+Xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=Rr.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xn(Rr.internal.getWidth(t))+" "+Xn(Rr.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xn(Rr.internal.getWidth(t)-2)+" "+Xn(Rr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xn(n.x1.x)+" "+Xn(n.x1.y)+" m"),r.push(Xn(n.x2.x)+" "+Xn(n.x2.y)+" l"),r.push(Xn(n.x4.x)+" "+Xn(n.x4.y)+" m"),r.push(Xn(n.x3.x)+" "+Xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(Rr.internal.getWidth(t))+" "+Xn(Rr.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Rr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Rr.internal.getWidth(t),n=Rr.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Rr.internal.getWidth=function(t){var e=0;return"object"===Ie(t)&&(e=nr(t.Rect[2])),e},Rr.internal.getHeight=function(t){var e=0;return"object"===Ie(t)&&(e=nr(t.Rect[3])),e};var Or,Dr,Fr=Yn.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(wr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pr)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kn=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new br,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&gr(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var r in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var i=t[r],s=[],o=i.Rect;if(i.Rect&&(i.Rect=ur(i.Rect,e)),e.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Rr.createDefaultAppearanceStream(i),"object"===Ie(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var a=hr(i);s.push({key:"AP",value:"<</N "+a+">>"}),e.internal.acroformPlugin.xForms.push(a)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var h=u[r];"function"==typeof h&&(h=h.call(e,i)),l+="/"+r+" "+h+" ",e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(e,i)),l+="/"+r+" "+h,e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:s,objectId:i.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===Ie(i)&&"function"==typeof i.putStream&&i.putStream(),delete t[r]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof wr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function Mr(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}Yn.AcroFormChoiceField=Sr,Yn.AcroFormListBox=Cr,Yn.AcroFormComboBox=kr,Yn.AcroFormEditBox=xr,Yn.AcroFormButton=Ar,Yn.AcroFormPushButton=Er,Yn.AcroFormRadioButton=Ir,Yn.AcroFormCheckBox=Nr,Yn.AcroFormTextField=Pr,Yn.AcroFormPasswordField=Lr,Yn.AcroFormAppearance=Rr,Yn.AcroForm={ChoiceField:Sr,ListBox:Cr,ComboBox:kr,EditBox:xr,Button:Ar,PushButton:Er,RadioButton:Ir,CheckBox:Nr,TextField:Pr,PasswordField:Lr,Appearance:Rr},$n.AcroForm={ChoiceField:Sr,ListBox:Cr,ComboBox:kr,EditBox:xr,Button:Ar,PushButton:Er,RadioButton:Ir,CheckBox:Nr,TextField:Pr,PasswordField:Lr,Appearance:Rr},function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(t,r){var i,s,o,a,l,c=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(S(t))for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(a=!0,s=0;s<o[i].length;s+=1)if(void 0!==o[i][s]&&o[i][s]!==t[s]){a=!1;break}if(!0===a){c=l;break}}else for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(a=!0,s=0;s<o[i].length;s+=1)if(void 0!==o[i][s]&&o[i][s]!==t.charCodeAt(s)){a=!1;break}if(!0===a){c=l;break}}return c===e&&r!==e&&(c=r),c},i=function t(e){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:e.width}),s.push({key:"Height",value:e.height}),e.colorSpace===m.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===m.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var o="",a=0,l=e.transparency.length;a<l;a++)o+=e.transparency[a]+" "+e.transparency[a]+" ";s.push({key:"Mask",value:"["+o+"]"})}if(void 0!==e.sMask&&s.push({key:"SMask",value:e.objectId+1+" 0 R"}),r({data:e.data,additionalKeyValues:s,alreadyAppliedFilters:void 0!==e.filter?["/"+e.filter]:void 0,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var c={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:"/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,data:e.sMask};"filter"in e&&(c.filter=e.filter),t.call(this,c)}if(e.colorSpace===m.INDEXED){var u=this.internal.newObject();r({data:k(new Uint8Array(e.palette)),objectId:u}),n("endobj")}},s=function(){var t=this.internal.collections.addImage_images;for(var e in t)i.call(this,t[e])},o=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var t=this.internal.collections.addImage_images;return a.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},h=function(t){return"object"===Ie(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return wn(unescape(r).split("base64,").pop());var i=t.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;case"JPEG":case"JPG":default:s="image/jpeg"}return wn(e.toDataURL(s,1).split("base64,").pop())}},f=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},g=function(t,e,n,r,i,s){var o=p.call(this,n,r,i),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=o[0],r=o[1],u[i.index]=i,s){s*=Math.PI/180;var h=Math.cos(s),d=Math.sin(s),f=function(t){return t.toFixed(4)},g=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,a(t),c(e+r),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(t),c(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(S(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},v=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},b=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},w=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return w()&&t instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(t){return w()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},k=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=S(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,r,i,s,o,l,c,u;if("number"==typeof arguments[1]?(n=e,r=arguments[1],i=arguments[2],s=arguments[3],o=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===Ie(t=arguments[0])&&!h(t)&&"imageData"in t){var d=t;t=d.imageData,n=d.format||n||e,r=d.x||r||0,i=d.y||i||0,s=d.w||d.width||s,o=d.h||d.height||o,l=d.alias||l,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var p=x.call(this,t,n,l,c);return g.call(this,r,i,s,o,p,u),this};var x=function(n,i,s,o){var a,l,p;if("string"==typeof n&&r(n)===e){n=unescape(n);var g=A(n,!1);(""!==g||void 0!==(g=t.loadFile(n,!0)))&&(n=g)}if(h(n)&&(n=d(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(p=s)||0===p.length)&&(s=function(t){return"string"==typeof t||S(t)?_(t):S(t.data)?_(t.data):null}(n)),(a=f.call(this,s))||(w()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=C(n))),a=this["process"+i.toUpperCase()](n,c.call(this),s,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:y.NONE}(o),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},A=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,i="";if("string"==typeof t){r=null!==(n=b(t))?n.data:t;try{i=wn(r)}catch(t){if(e)throw v(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(n){var i,s,o="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===e&&(""===(o=A(n,!1))&&(o=t.loadFile(n)||""),n=o),s=r(n),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!w()||n instanceof Uint8Array||(n=C(n)),!(i=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=s,i}}($n.API),Or=$n.API,Dr=function(t){if(void 0!==t&&""!=t)return!0},$n.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),Or.events.push(["putPage",function(t){for(var e,n,r,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(t.objId),a=t.pageContext.annotations,l=!1,c=0;c<a.length&&!l;c++)switch((e=a[c]).type){case"link":(Dr(e.options.url)||Dr(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var u=0;u<a.length;u++){e=a[u];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),m=e.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(e.bounds.x)+" "+s(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w)+" "+s(e.bounds.y)+"] ")+"/Contents ("+h(g(e.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+o.objId+" 0 R",r+=" /T ("+h(g(m))+") >>",f.content=r;var y=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(e.bounds.x+30)+" "+s(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w+30)+" "+s(e.bounds.y)+"] ")+" /Parent "+y,e.open&&(r+=" /Open true"),p.content=r+=" >>",this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+i(e.bounds.x)+" "+s(e.bounds.y)+" "+i(e.bounds.x+e.bounds.w)+" "+s(e.bounds.y+e.bounds.h)+"] ";var _=e.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(d(e.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",r+=" /Border [0 0 0]",this.internal.write(r+=" >>");break;case"link":if(e.options.name){var v=this.annotations._nameMap[e.options.name];e.options.pageNumber=v.page,e.options.top=v.y}else e.options.top||(e.options.top=0);if(n="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",r="",e.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(e.options.url))+") >>";else if(e.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,r+=" /FitV "+e.options.left+"]";break;case"XYZ":default:var b=s(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),r+=" /XYZ "+e.options.left+" "+b+" "+e.options.zoom+"]"}""!=r&&this.internal.write(r+=" >>")}}this.internal.write("]")}}]),Or.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},Or.link=function(t,e,n,r,i){var s=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:o(t),y:a(e),w:o(t+n),h:a(e+r)},options:i,type:"link"})},Or.textWithLink=function(t,e,n,r){var i,s,o=this.getTextWidth(t),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){var l=this.splitTextToSize(t,s=r.maxWidth).length;i=Math.ceil(a*l)}else s=o,i=a;return this.text(t,e,n,r),"center"===r.align&&(e-=o/2),"right"===r.align&&(e-=o),this.link(e,(n+=.2*a)-a,s,i,r),o},Or.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},o=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return o(t)&&i.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return o(t)&&s(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i="",s=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(s++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i+=String.fromCharCode(r),r=n,s=0),e===t.length-1&&(r=n,i+=t.charAt(e-(s-1)),e-=s-1,s=0)):(r=n,i+=t.charAt(e-s),e-=s,s=0);return i};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var d=t.__arabicParser__.getCorrectForm=function(t,e,n){return o(t)?!1===s(t)?-1:!c(t)||!o(e)&&!o(n)||!o(n)&&a(e)||a(t)&&!o(e)||a(t)&&l(e)||a(t)&&a(e)?0:u(t)&&o(e)&&!a(e)&&o(n)&&c(n)?3:a(t)||!o(n)?1:2:-1},f=function(t){var n=0,r=0,i=0,s="",a="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)a=c[n][r-1],l=c[n][r+1],o(s=c[n][r])?(i=d(s,a,l),u[n]+=-1!==i?String.fromCharCode(e[s.charCodeAt(0)][i]):s):u[n]+=s;u[n]=h(u[n])}return u.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([f(e[r][0]),e[r][1],e[r][2]]):n.push([f(e[r])]);t=n}else t=f(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}($n.API),$n.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($n.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(t){s=t}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(t){o=t}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){r.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),i=e.font||this.getFont(),s=e.scaleFactor||this.internal.scaleFactor,o=0,a=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var u=e.maxWidth;u>0?"string"==typeof t?t=this.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,u))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)o<(l=this.getStringUnitWidth(t[h],{font:i})*n)&&(o=l);return 0!==o&&(a=t.length),{w:o/=s,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var t;t=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===t.lineNumber?(t.x=(i.x||0)+(i.width||0),t.y=i.y||0):i.y+i.height+t.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=a.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=i.y+i.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-o,t.y+o,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+o,{align:"center",baseline:"top",maxWidth:t.width-o-o}):this.text(t.text,t.x+o,t.y+o,{align:"left",baseline:"top",maxWidth:t.width-o-o})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,g=[],m=[],y=[],_={},v={},b=[],w=[],S=(u=u||{}).autoSize||!1,C=!1!==u.printHeaders,k=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,x=u.margins||Object.assign({width:this.getPageWidth()},e),A="number"==typeof u.padding?u.padding:3,E=u.headerBackgroundColor||"#c8c8c8",I=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=I,this.setFontSize(k),null==c)m=g=Object.keys(l[0]),y=g.map(function(){return"left"});else if(Array.isArray(c)&&"object"===Ie(c[0]))for(g=c.map(function(t){return t.name}),m=c.map(function(t){return t.prompt||t.name||""}),y=c.map(function(t){return t.align||"left"}),h=0;h<c.length;h+=1)v[c[h].name]=c[h].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(m=g=c,y=g.map(function(){return"left"}));if(S||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<g.length;h+=1){for(_[p=g[h]]=l.map(function(t){return t[p]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=_[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)b.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[p]=Math.max.apply(null,b)+A+A,b=[]}if(C){var T={};for(h=0;h<g.length;h+=1)T[g[h]]={},T[g[h]].text=m[h],T[g[h]].align=y[h];var N=a.call(this,T,v);w=g.map(function(e){return new s(t,n,v[e],N,T[e].text,void 0,T[e].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var P=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var L=a.call(this,l[h],v);for(f=0;f<g.length;f+=1){var R=l[h][g[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:R},this),o.call(this,new s(t,n,v[g[f]],L,R,h+2,P[g[f]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var a=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(t).map(function(r){var i=t[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/i+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){r.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=t;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}($n.API);var jr={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qr=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Br=Mr(qr),Ur=[100,200,300,400,500,600,700,800,900],zr=Mr(Ur);function Vr(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return jr[t=t||"normal"]?t:"normal"}(t.style),r=function(t){if(!t)return 400;if("number"==typeof t)return t>=100&&t<=900&&t%100==0?t:400;if(/^\d00$/.test(t))return parseInt(t);switch(t){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(t){return"number"==typeof Br[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Hr(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Wr={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Gr={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zr(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $r(t){return t.trimLeft()}function Yr(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Kr(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var Qr,Jr,Xr,ti=["times"];!function(t){var e,n,r,i,s,o,a,l,c,u=function(t){return this.isStrokeTransparent=(t=t||{}).isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new o,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new o,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(t){isNaN(t)||(s=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=t}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof u&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;function p(t,e){if(null===f){var n=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var r=null;switch(t){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:t},e.push(r))})}),e}(t.getFontList());f=function(t){for(var e={},n=0;n<t.length;++n){var r=Vr(t[n]),i=r.family,s=r.stretch,o=r.style,a=r.weight;e[i]=e[i]||{},e[i][s]=e[i][s]||{},e[i][s][o]=e[i][s][o]||{},e[i][s][o][a]=r}return e}(n.concat(e))}return f}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(t){f=null,g=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=e[3],i=e[4],s=e[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(t){var e,n,r=[],i=t.trim();if(""===i)return ti;if(i in Gr)return[Gr[i]];for(;""!==i;){switch(n=null,e=(i=$r(i)).charAt(0)){case'"':case"'":n=Yr(i.substring(1),e);break;default:n=Kr(i)}if(null===n)return ti;if(r.push(n[0]),""!==(i=$r(n[1]))&&","!==i.charAt(0))return ti;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Wr,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Vr(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Zr(s)+"' and default family '"+r+"'.");if(o=function(t,e){if(e[t])return e[t];var n=Br[t],r=Hr(e,qr,n,n<=Br.normal?-1:1);if(!r)throw new Error("Could not find a matching font-stretch value for "+t);return r}(s.stretch,o),o=function(t,e){if(e[t])return e[t];for(var n=jr[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(s.style,o),!(o=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=Hr(e,Ur,zr[t],t<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+t);return n}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Zr(s)+"'.");return o}(p(this.pdf,this.fontFaces),a.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],c,{noFallback:!0,disableWarning:!0})){u=a[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))u=a[d],c="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){u=a[d],c="normal";break}}if(""===u)for(var f=0;f<a.length;f++)if(h[a[f]]){u=h[a[f]];break}this.pdf.setFont(u=""===u?"Times":u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};h.prototype.setLineDash=function(t){this.lineDash=t},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){b.call(this,"fill",!1)},h.prototype.stroke=function(){b.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(t,e)},h.prototype.closePath=function(){var t=new o(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===Ie(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new o(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(t.x,t.y)},h.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},h.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(n,r)),s=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},h.prototype.bezierCurveTo=function(t,e,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new o(i,s)),l=this.ctx.transform.applyToPoint(new o(t,e)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},h.prototype.arc=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new o(t,e));t=a.x,e=a.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},h.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},h.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},h.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},h.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==s)e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var o=new kn(t);t=o.ok?o.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=O(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;I.call(this,{text:t,x:e,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=O(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;I.call(this,{text:t,x:e,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(t){if("string"!=typeof t)throw yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor,s=function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this};return new s({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(t){if(isNaN(t))throw yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},h.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(t,e,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(o)},h.prototype.setTransform=function(t,e,n,r,i,s){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(t,e,n,r,i,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(t,e,n,r,i,s,o,c,u){var h=this.pdf.getImageProperties(t),d=1,f=1,p=1,y=1;void 0!==r&&void 0!==c&&(p=c/r,y=u/i,d=h.width/r*c/r,f=h.height/i*u/i),void 0===s&&(s=e,o=n,e=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=h.width,u=h.height);for(var b,S=this.ctx.transform.decompose(),C=O(S.rotate.shx),k=new l,x=(k=(k=(k=k.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new a(s-e*p,o-n*y,r*d,i*f)),A=m.call(this,x),E=[],I=0;I<A.length;I+=1)-1===E.indexOf(A[I])&&E.push(A[I]);if(v(E),this.autoPaging)for(var T=E[0],N=E[E.length-1],P=T;P<N+1;P++){this.pdf.setPage(P);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],R=1===P?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===P?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(P-2)*D;if(0!==this.ctx.clip_path.length){var M=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(b,this.posX+this.margin[3],-F+R+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var j=JSON.parse(JSON.stringify(x));j=_([j],this.posX+this.margin[3],-F+R+this.ctx.prevPageLastElemOffset)[0];var q=(P>T||P<N)&&g.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,D,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",j.x,j.y,j.w,j.h,null,null,C),q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",x.x,x.y,x.w,x.h,null,null,C)};var m=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+i)/n)+1);break;case"arc":r.push(Math.floor((t.y+i-t.radius)/n)+1),r.push(Math.floor((t.y+i+t.radius)/n)+1);break;case"qct":var s=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var o=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"rect":r.push(Math.floor((t.y+i)/n)+1),r.push(Math.floor((t.y+t.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)y.call(this);return r},y=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},_=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=n}return t},v=function(t){return t.sort(function(t,e){return t-e})},b=function(t,e){for(var n,r,i=this.fillStyle,s=this.strokeStyle,o=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=m.call(this,h[f]),b=0;b<p.length;b+=1)-1===d.indexOf(p[b])&&d.push(p[b]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)y.call(this);if(v(d),this.autoPaging)for(var C=d[0],k=d[d.length-1],x=C;x<k+1;x++){this.pdf.setPage(x),this.fillStyle=i,this.strokeStyle=s,this.lineCap=o,this.lineWidth=l,this.lineJoin=c;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===x?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===x?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(x-2)*I;if(0!==this.ctx.clip_path.length){var N=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(n,this.posX+this.margin[3],-T+E+this.ctx.prevPageLastElemOffset),w.call(this,t,!0),this.path=N}if(r=JSON.parse(JSON.stringify(u)),this.path=_(r,this.posX+this.margin[3],-T+E+this.ctx.prevPageLastElemOffset),!1===e||0===x){var P=(x>C||x<k)&&g.call(this);P&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,I,null).clip().discardPath()),w.call(this,t,e),P&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,w.call(this,t,e),this.lineWidth=a;this.path=u},w=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!f.call(this))){for(var n,r,i=[],s=this.path,o=0;o<s.length;o++){var a=s[o];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[o-1]&&!isNaN(s[o-1].x)&&(n=[a.x-s[o-1].x,a.y-s[o-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(a);break}break;case"bct":i[i.length-1].deltas.push(n=[a.x1-s[o-1].x,a.y1-s[o-1].y,a.x2-s[o-1].x,a.y2-s[o-1].y,a.x-s[o-1].x,a.y-s[o-1].y]);break;case"qct":i[i.length-1].deltas.push(n=[s[o-1].x+2/3*(a.x1-s[o-1].x)-s[o-1].x,s[o-1].y+2/3*(a.y1-s[o-1].y)-s[o-1].y,a.x+2/3*(a.x1-a.x)-s[o-1].x,a.y+2/3*(a.y1-a.y)-s[o-1].y,a.x-s[o-1].x,a.y-s[o-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=e?null:"stroke"===t?"stroke":"fill";for(var c=!1,u=0;u<i.length;u++)if(i[u].arc)for(var h=i[u].abs,d=0;d<h.length;d++){var g=h[d];"arc"===g.type?k.call(this,g.x,g.y,g.radius,g.startAngle,g.endAngle,g.counterclockwise,void 0,e,!c):T.call(this,g.x,g.y),c=!0}else!0===i[u].close?(this.pdf.internal.out("h"),c=!1):!0!==i[u].begin&&(N.call(this,i[u].deltas,i[u].start.x,i[u].start.y),c=!0);r&&x.call(this,r),e&&A.call(this)}},S=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}},C=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(t,e,n,r,i,s,o,a,l){for(var c=L.call(this,n,r,i,s),u=0;u<c.length;u++){var h=c[u];0===u&&(l?E.call(this,h.x1+t,h.y1+e):T.call(this,h.x1+t,h.y1+e)),P.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?A.call(this):x.call(this,o)},x=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(t,e){this.pdf.internal.out(n(t)+" "+r(e)+" m")},I=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=S.call(this,t.y),i=C.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new o(t.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new a(t.x,r,n.w,n.h)),y=u.applyToRectangle(new a(t.x,i,n.w,n.h)),b=m.call(this,y),k=[],x=0;x<b.length;x+=1)-1===k.indexOf(b[x])&&k.push(b[x]);if(v(k),this.autoPaging)for(var A=k[0],E=k[k.length-1],I=A;I<E+1;I++){this.pdf.setPage(I);var T=1===I?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.margin[2],P=N-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],R=L-this.margin[3],O=1===I?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(I-2)*P;if(0!==this.ctx.clip_path.length){var D=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(h,this.posX+this.margin[3],-1*O+T),w.call(this,"fill",!0),this.path=D}var F=_([JSON.parse(JSON.stringify(y))],this.posX+this.margin[3],-O+T+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),this.lineWidth=(f=this.lineWidth)*t.scale);var M="text"!==this.autoPaging;if(M||F.y+F.h<=N){if(M||F.y>=T&&F.x<=L){var j=M?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||L-F.x)[0],q=_([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-O+T+this.ctx.prevPageLastElemOffset)[0],B=M&&(I>A||I<E)&&g.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,P,null).clip().discardPath()),this.pdf.text(j,q.x,q.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),B&&this.pdf.restoreGraphicsState()}}else F.y<N&&(this.ctx.prevPageLastElemOffset+=N-F.y);t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),this.lineWidth=(f=this.lineWidth)*t.scale),this.pdf.text(t.text,s.x+this.posX,s.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},T=function(t,e,i,s){s=s||0,this.pdf.internal.out(n(t+(i=i||0))+" "+r(e+s)+" l")},N=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},P=function(t,n,r,o,a,l,c,u){this.pdf.internal.out([e(i(r+t)),e(s(o+n)),e(i(a+t)),e(s(l+n)),e(i(c+t)),e(s(u+n)),"c"].join(" "))},L=function(t,e,n,r){for(var i=2*Math.PI,s=Math.PI/2;e>n;)e-=i;var o=Math.abs(n-e);o<i&&r&&(o=i-o);for(var a=[],l=r?-1:1,c=e;o>1e-5;){var u=c+l*Math.min(o,s);a.push(R.call(this,t,c,u)),o-=Math.abs(u-c),c=u}return a},R=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),s=t*Math.sin(r),o=i,a=-s,l=o*o+a*a,c=l+o*i+a*s,u=4/3*(Math.sqrt(2*l*c)-c)/(o*s-a*i),h=o-u*a,d=a+u*o,f=h,p=-d,g=r+e,m=Math.cos(g),y=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*m-d*y,y2:h*y+d*m,x3:f*m-p*y,y3:f*y+p*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},O=function(t){return 180*t/Math.PI},D=function(t,e,n,r,i,s){var o=t+.5*(n-t),l=e+.5*(r-e),c=i+.5*(n-i),u=s+.5*(r-s),h=Math.min(t,i,o,c),d=Math.max(t,i,o,c),f=Math.min(e,s,l,u),p=Math.max(e,s,l,u);return new a(h,f,d-h,p-f)},F=function(t,e,n,r,i,s,o,l){var c,u,h,d,f,p,g,m,y,_,v,b,w,S,C=n-t,k=r-e,x=i-n,A=s-r,E=o-i,I=l-s;for(u=0;u<41;u++)y=(g=(h=t+(c=u/40)*C)+c*((f=n+c*x)-h))+c*(f+c*(i+c*E-f)-g),_=(m=(d=e+c*k)+c*((p=r+c*A)-d))+c*(p+c*(s+c*I-p)-m),0==u?(v=y,b=_,w=y,S=_):(v=Math.min(v,y),b=Math.min(b,_),w=Math.max(w,y),S=Math.max(S,_));return new a(Math.round(v),Math.round(b),Math.round(w-v),Math.round(S-b))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==t&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=t)}}}($n.API),function(t){var e=function(t){var e,n,r,i,s,o,a,l,c,u;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;i>r;r+=4)0!==(s=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(o=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(a=s%85))/85)%85,n.push(o+33,a+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,i,s,o=String,a="length",l=255,c="charCodeAt",u="slice",h="replace";for(t[u](-2),t=t[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,s=(t+=e="uuuuu"[u](t[a]%5||5))[a];s>i;i+=5)n=52200625*(t[c](i)-33)+614125*(t[c](i+1)-33)+7225*(t[c](i+2)-33)+85*(t[c](i+3)-33)+(t[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[a]),o.fromCharCode.apply(o,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=pn(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,s){var o=0,a=t||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}($n.API),function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,i=0,s=function(t){var e=t.length,n=[],r=String.fromCharCode;for(i=0;i<e;i+=1)n.push(r(255&t.charCodeAt(i)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){n(200===r.status?s(this.responseText):void 0)}),r.send(null),e&&200===r.status)return s(r.responseText)}(t,e,n)}catch(t){}return r}(t,e,n)},t.loadImageFile=t.loadFile}($n.API),function(t){function e(){return(gn.html2canvas?Promise.resolve(gn.html2canvas):n.e(977).then(n.t.bind(n,977,23))).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function r(){return(gn.DOMPurify?Promise.resolve(gn.DOMPurify):n.e(358).then(n.t.bind(n,3358,23))).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var i=function(t){var e=Ie(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},s=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},o=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(t,e){return t.__proto__=e||o.prototype,t},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(i(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(r).then(function(e){return this.set({src:s("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},o.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var o=n[s],a=o.src.find(function(t){return"truetype"===t.format});a&&e.addFont(a.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,e.context2d.save(!0),t(this.prop.container,i)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},o.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},o.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},o.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(t){if("object"!==i(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in o.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},o.prototype.get=function(t,e){return this.then(function(){var n=t in o.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},o.prototype.setMargin=function(t){return this.then(function(){switch(i(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},o.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||$n.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},o.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},o.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),i=n.call(r,t,e);return o.convert(i,this.__proto__)},o.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},o.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},o.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return o.convert(e,this)},o.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},o.prototype.error=function(t){return this.then(function(){throw new Error(t)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$n.getPageSize=function(t,e,n){if("object"===Ie(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+e}var a,l=0,c=0;if(o.hasOwnProperty(s))l=o[s][1]/i,c=o[s][0]/i;else try{l=n[1],c=n[0]}catch(Or){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>l&&(a=c,c=l,l=a);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(a=c,c=l,l=a)}return{width:c,height:l,unit:e,k:i,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(Vr):null;var n=new o(e);return e.worker?n:n.from(t).doCallback()}}($n.API),$n.API.addJS=function(t){return Xr=t,this.internal.events.subscribe("postPutResources",function(){Qr=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qr+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Jr=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xr+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Qr&&void 0!==Jr&&this.internal.out("/Names <</JavaScript "+Qr+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],o=n.exec(s);null!=o&&t.internal.newObjectDeferredBegin(o[1],!1),t.internal.write(s)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,l=[];for(i=0;i<a;i++){var c=t.internal.newObject();l.push(c);var u=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<l.length;i++)t.internal.write("(page_"+(i+1)+")"+l[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var o=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<e.children.length;a++)this.renderItems(e.children[a])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}($n.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,i,s,o){var a,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=s||t)?new Uint8Array(t):t,(a=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),i=t.length,s={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(-1!==e.indexOf(t.charCodeAt((o+=r)+1))){n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),s={width:256*t.charCodeAt(o+7)+t.charCodeAt(o+8),height:n,numcomponents:t.charCodeAt(o+9)};break}r=256*t.charCodeAt(o+2)+t.charCodeAt(o+3)}return s}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}($n.API);var ei,ni,ri,ii,si,oi=function(){var t,e,n;function r(t){var e,n,r,i,s,o,a,l,c,u,h,d,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(e=this.readUInt32(),l=(function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),r=this.readUInt16()||100,s.delay=1e3*i/r,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,e-=4),t=(null!=s?s.data:void 0)||this.imgData,h=0;0<=e?h<e:h>e;0<=e?++h:--h)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((c=n-this.transparency.indexed.length)>0)for(d=0;0<=c?d<c:d>c;0<=c?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":o=(u=this.read(e)).indexOf(0),a=String.fromCharCode.apply(String,u.slice(0,o)),this.text[a]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e,n,r=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*r),s=0,o=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function a(e,n,a,l){var c,u,h,d,f,p,g,m,y,_,v,b,w,S,C,k,x,A,E,I,T=Math.ceil((o.width-e)/a),N=Math.ceil((o.height-n)/l),P=o.width==T&&o.height==N;for(w=r*T,v=P?i:new Uint8Array(w*N),p=t.length,b=0,u=0;b<N&&s<p;){switch(t[s++]){case 0:for(d=k=0;k<w;d=k+=1)v[u++]=t[s++];break;case 1:for(d=x=0;x<w;d=x+=1)c=t[s++],f=d<r?0:v[u-r],v[u++]=(c+f)%256;break;case 2:for(d=A=0;A<w;d=A+=1)c=t[s++],h=(d-d%r)/r,v[u++]=((S=b&&v[(b-1)*w+h*r+d%r])+c)%256;break;case 3:for(d=E=0;E<w;d=E+=1)c=t[s++],h=(d-d%r)/r,f=d<r?0:v[u-r],S=b&&v[(b-1)*w+h*r+d%r],v[u++]=(c+Math.floor((f+S)/2))%256;break;case 4:for(d=I=0;I<w;d=I+=1)c=t[s++],h=(d-d%r)/r,0===b?S=C=0:(S=v[(b-1)*w+h*r+d%r],C=h&&v[(b-1)*w+(h-1)*r+d%r]),g=(f=d<r?0:v[u-r])+S-C,m=Math.abs(g-f),y=Math.abs(g-S),_=Math.abs(g-C),v[u++]=(c+(m<=y&&m<=_?f:y<=_?S:C))%256;break;default:throw new Error("Invalid filter algorithm: "+t[s-1])}if(!P){var L=((n+b*l)*o.width+e)*r,R=b*w;for(d=0;d<T;d+=1){for(var O=0;O<r;O+=1)i[L++]=v[R++];L+=(a-1)*r}}b++}}return t=function(t,e,n){var r=t.length,i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Te(3*r));var o=function(t){var n=e.length;if(t>n){var r=new Te(Math.max(2*n,t));r.set(e),e=r}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,h=n.d,d=n.m,f=n.n,p=8*r;do{if(!u){n.f=a=Xe(t,l,1);var g=Xe(t,l+1,3);if(l+=3,!g){var m=t[(E=en(l)+4)-4]|t[E-3]<<8,y=E+m;if(y>r){if(s)throw"unexpected EOF";break}i&&o(c+m),e.set(t.subarray(E,y),c),n.b=c+=m,n.p=l=8*y;continue}if(1==g)u=Ye,h=Qe,d=9,f=5;else{if(2!=g)throw"invalid block type";var _=Xe(t,l,31)+257,v=Xe(t,l+10,15)+4,b=_+Xe(t,l+5,31)+1;l+=14;for(var w=new Te(b),S=new Te(19),C=0;C<v;++C)S[Oe[C]]=Xe(t,l+3*C,7);l+=3*v;var k=Je(S),x=(1<<k)-1;if(!s&&l+b*(k+7)>p)break;var A=We(S,k,1);for(C=0;C<b;){var E,I=A[Xe(t,l,x)];if(l+=15&I,(E=I>>>4)<16)w[C++]=E;else{var T=0,N=0;for(16==E?(N=3+Xe(t,l,3),l+=2,T=w[C-1]):17==E?(N=3+Xe(t,l,7),l+=3):18==E&&(N=11+Xe(t,l,127),l+=7);N--;)w[C++]=T}}var P=w.subarray(0,_),L=w.subarray(_);d=Je(P),f=Je(L),u=We(P,d,1),h=We(L,f,1)}if(l>p)throw"unexpected EOF"}i&&o(c+131072);for(var R=(1<<d)-1,O=(1<<f)-1,D=d+f+18;s||l+D<p;){var F=(T=u[tn(t,l)&R])>>>4;if((l+=15&T)>p)throw"unexpected EOF";if(!T)throw"invalid length/literal";if(F<256)e[c++]=F;else{if(256==F){u=null;break}var M=F-254;F>264&&(M=Xe(t,l,(1<<(B=Le[C=F-257]))-1)+Me[C],l+=B);var j=h[tn(t,l)&O],q=j>>>4;if(!j)throw"invalid distance";if(l+=15&j,L=Be[q],q>3){var B=Re[q];L+=tn(t,l)&(1<<B)-1,l+=B}if(l>p)throw"unexpected EOF";i&&o(c+131072);for(var U=c+M;c<U;c+=4)e[c]=e[c-L],e[c+1]=e[c+1-L],e[c+2]=e[c+2-L],e[c+3]=e[c+3-L];c=U}}n.l=u,n.p=l,n.b=c,u&&(a=1,n.m=d,n.d=h,n.n=f)}while(!a);return c==e.length?e:nn(e,0,c)}((function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"}(e=t),e.subarray(2,-4)),n),1==o.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),i},r.prototype.decodePalette=function(){var t,e,n,r,i,s,o,a,l;for(n=this.palette,s=this.transparency.indexed||[],i=new Uint8Array((s.length||0)+n.length),r=0,t=0,e=o=0,a=n.length;o<a;e=o+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=s[t++])?l:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,s,o,a,l,c,u,h,d;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=t.data||t).length,o=u||e,s=a=0,1===r)for(;s<c;)l=u?4*e[s/4]:a,h=o[l++],i[s++]=h,i[s++]=h,i[s++]=h,i[s++]=n?o[l++]:255,a=l;else for(;s<c;)l=u?4*e[s/4]:a,i[s++]=o[l++],i[s++]=o[l++],i[s++]=o[l++],i[s++]=n?o[l++]:255,a=l},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var i=function(){if("[object Window]"===Object.prototype.toString.call(gn)){try{e=gn.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return i(),t=function(t){var r;if(!0===i())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,i,s,o,a,l,c;if(this.animation){for(c=[],r=o=0,a=(l=this.animation.frames).length;o<a;r=++o)i=e.createImageData((n=l[r]).width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,s),n.imageData=i,c.push(n.image=t(i));return c}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,s,o,a=this;return n=0,i=(o=this.animation).numFrames,r=o.frames,s=o.numPlays,(e=function(){var o,l;if(o=n++%i,l=r[o],a.renderFrame(t,o),i>1&&n/i<s)return a.animation._timeout=setTimeout(e,l.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();function ai(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=1<<1+(7&i);e++,e++;var o=null,a=null;i>>7&&(o=e,a=s,e+=3*s);var l=!0,c=[],u=0,h=null,d=0,f=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,f=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var p=t[e++];u=t[e++]|t[e++]<<8,h=t[e++],0==(1&p)&&(h=null),d=p>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,v=t[e++],b=v>>6&1,w=1<<1+(7&v),S=o,C=a,k=!1;v>>7&&(k=!0,S=e,C=w,e+=3*w);var x=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}c.push({x:g,y:m,width:y,height:_,has_local_palette:k,palette_offset:S,palette_size:C,data_offset:x,data_length:e-x,transparent_index:h,interlaced:!!b,delay:u,disposal:d});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,o=new Uint8Array(s);li(t,i.data_offset,o,s);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,y=0,_=o.length;y<_;++y){var v=o[y];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),v===l)p+=4;else{var b=t[a+3*v],w=t[a+3*v+1];r[p++]=t[a+3*v+2],r[p++]=w,r[p++]=b,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,o=new Uint8Array(s);li(t,i.data_offset,o,s);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,y=0,_=o.length;y<_;++y){var v=o[y];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),v===l)p+=4;else{var b=t[a+3*v+1],w=t[a+3*v+2];r[p++]=t[a+3*v],r[p++]=b,r[p++]=w,r[p++]=255}--h}}}function li(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)h|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var y=m<a?m:g,_=0,v=y;v>s;)v=p[v]>>8,++_;var b=v;if(d+_+(y!==m?1:0)>r)return void yn.log("Warning, gif stream longer than expected.");n[d++]=b;var w=d+=_;for(y!==m&&(n[d++]=b),v=y;_--;)n[--w]=255&(v=p[v]),v>>=8;null!==g&&a<4096&&(p[a++]=g<<8|b,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else a=o+1,c=(1<<(l=i+1))-1,g=null}return d!==r&&yn.log("Warning, gif stream shorter than expected."),n}function ci(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,y=7,_=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),S=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(t,e){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var o=1;o<=t[s];o++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=s,r++,n++;n*=2}return i}function R(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<y),n--,--y<0&&(255==m?(O(255),O(0)):O(m),y=7,m=0)}function O(t){g.push(t)}function D(t){O(t>>8&255),O(255&t)}function F(t,e,n,r,i){for(var s,o=i[0],a=i[240],l=function(t,e){var n,r,i,s,o,a,l,c,u,h,d=0;for(u=0;u<8;++u){var p=(n=t[d])+(c=t[d+7]),g=n-c,m=(r=t[d+1])+(l=t[d+6]),y=r-l,_=(i=t[d+2])+(a=t[d+5]),v=i-a,b=(s=t[d+3])+(o=t[d+4]),w=s-o,S=p+b,C=p-b,k=m+_,x=m-_;t[d]=S+k,t[d+4]=S-k;var A=.707106781*(x+C);t[d+2]=C+A,t[d+6]=C-A;var E=.382683433*((S=w+v)-(x=y+g)),I=.5411961*S+E,T=1.306562965*x+E,N=.707106781*(k=v+y),P=g+N,L=g-N;t[d+5]=L+I,t[d+3]=L-I,t[d+1]=P+T,t[d+7]=P-T,d+=8}for(d=0,u=0;u<8;++u){var R=(n=t[d])+(c=t[d+56]),O=n-c,D=(r=t[d+8])+(l=t[d+48]),F=r-l,M=(i=t[d+16])+(a=t[d+40]),j=i-a,q=(s=t[d+24])+(o=t[d+32]),B=s-o,U=R+q,z=R-q,V=D+M,H=D-M;t[d]=U+V,t[d+32]=U-V;var W=.707106781*(H+z);t[d+16]=z+W,t[d+48]=z-W;var G=.382683433*((U=B+j)-(H=F+O)),Z=.5411961*U+G,$=1.306562965*H+G,Y=.707106781*(V=j+F),K=O+Y,Q=O-Y;t[d+40]=Q+Z,t[d+24]=Q-Z,t[d+8]=K+$,t[d+56]=K-$,d++}for(u=0;u<64;++u)f[u]=(h=t[u]*e[u])>0?h+.5|0:h-.5|0;return f}(t,e),c=0;c<64;++c)p[C[c]]=l[c];var u=p[0]-n;n=p[0],0==u?R(r[0]):(R(r[d[s=32767+u]]),R(h[s]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return R(o),n;for(var m,y=1;y<=g;){for(var _=y;0==p[y]&&y<=g;)++y;var v=y-_;if(v>=16){m=v>>4;for(var b=1;b<=m;++b)R(a);v&=15}R(i[(v<<4)+d[s=32767+p[y]]]),R(h[s]),y++}return 63!=g&&R(o),n}function M(t){t=Math.min(Math.max(t,1),100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),a[C[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var h=o((i[s]*t+50)/100);h=Math.min(Math.max(h,1),255),l[C[s]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[f]=1/(a[C[f]]*d[p]*d[g]*8),u[f]=1/(l[C[f]]*d[p]*d[g]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(t,s){s&&M(s),g=new Array,m=0,y=7,D(65496),D(65504),D(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),D(1),D(1),O(0),O(0),function(){D(65499),D(132),O(0);for(var t=0;t<64;t++)O(a[t]);O(1);for(var e=0;e<64;e++)O(l[e])}(),function(t,e){D(65472),D(17),O(8),D(e),D(t),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(t.width,t.height),function(){D(65476),D(418),O(0);for(var t=0;t<16;t++)O(k[t+1]);for(var e=0;e<=11;e++)O(x[e]);O(16);for(var n=0;n<16;n++)O(A[n+1]);for(var r=0;r<=161;r++)O(E[r]);O(1);for(var i=0;i<16;i++)O(I[i+1]);for(var s=0;s<=11;s++)O(T[s]);O(17);for(var o=0;o<16;o++)O(N[o+1]);for(var a=0;a<=161;a++)O(P[a])}(),D(65498),D(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var o=0,h=0,d=0;m=0,y=7,this.encode.displayName="_encode_";for(var f,p,w,C,L,j,q,B,U,z=t.data,V=t.height,H=4*t.width,W=0;W<V;){for(f=0;f<H;){for(L=H*W+f,q=-1,B=0,U=0;U<64;U++)j=L+(B=U>>3)*H+(q=4*(7&U)),W+B>=V&&(j-=H*(W+1+B-V)),f+q>=H&&(j-=f+q-H+4),p=z[j++],w=z[j++],C=z[j++],_[U]=(S[p]+S[w+256>>0]+S[C+512>>0]>>16)-128,v[U]=(S[p+768>>0]+S[w+1024>>0]+S[C+1280>>0]>>16)-128,b[U]=(S[p+1280>>0]+S[w+1536>>0]+S[C+1792>>0]>>16)-128;o=F(_,c,o,e,r),h=F(v,u,h,n,i),d=F(b,u,d,n,i),f+=32}W+=8}if(y>=0){var G=[];G[1]=y+1,G[0]=(1<<y+1)-1,R(G)}return D(65497),new Uint8Array(g)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=L(k,x),n=L(I,T),r=L(A,E),i=L(N,P),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)S[t]=19595*t,S[t+256>>0]=38470*t,S[t+512>>0]=7471*t+32768,S[t+768>>0]=-11059*t,S[t+1024>>0]=-21709*t,S[t+1280>>0]=32768*t+8421375,S[t+1536>>0]=-27439*t,S[t+1792>>0]=-5329*t}(),M(t)}function ui(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hi(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,i){for(var s=0;s<i;s++)t[e+s]=n[r+s]}function i(t,e,n,r){for(var i=0;i<r;i++)t[e+i]=n}function s(t){return new Int32Array(t)}function o(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function a(t,e){var n=[];return function t(n,r,i){for(var s=i[r],o=0;o<s&&(n.push(i.length>r+1?[]:new e),!(i.length<r+1));o++)t(n[o],r+1,i)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,i,s){e(!(i%r));do{t[n+(i-=r)]=s}while(0<i)}function u(t,n,r,i,o){if(e(2328>=o),512>=o)var a=s(512);else if(null==(a=s(o)))return 0;return function(t,n,r,i,o,a){var u,d,f=n,p=1<<r,g=s(16),m=s(16);for(e(0!=o),e(null!=i),e(null!=t),e(0<r),d=0;d<o;++d){if(15<i[d])return 0;++g[i[d]]}if(g[0]==o)return 0;for(m[1]=0,u=1;15>u;++u){if(g[u]>1<<u)return 0;m[u+1]=m[u]+g[u]}for(d=0;d<o;++d)u=i[d],0<i[d]&&(a[m[u]++]=d);if(1==m[15])return(i=new h).g=0,i.value=a[0],c(t,f,1,p,i),p;var y,_=-1,v=p-1,b=0,w=1,S=1,C=1<<r;for(d=0,u=1,o=2;u<=r;++u,o<<=1){if(w+=S<<=1,0>(S-=g[u]))return 0;for(;0<g[u];--g[u])(i=new h).g=u,i.value=a[d++],c(t,f+b,o,C,i),b=l(b,u)}for(u=r+1,o=2;15>=u;++u,o<<=1){if(w+=S<<=1,0>(S-=g[u]))return 0;for(;0<g[u];--g[u]){if(i=new h,(b&v)!=_){for(f+=C,y=1<<(_=u)-r;15>_&&!(0>=(y-=g[_]));)++_,y<<=1;p+=C=1<<(y=_-r),t[n+(_=b&v)].g=y+r,t[n+_].value=f-n-_}i.g=u-r,i.value=a[d++],c(t,f+(b>>r),o,C,i),b=l(b,u)}}return w!=2*m[15]-1?0:p}(t,n,r,i,o,a)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=o(5,h),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qn,d)}function p(t,n,r,i){e(null!=t),e(null!=n),e(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+i,t.Zc=4<=i?r+i-4+1:r,A(t)}function g(t,e){for(var n=0;0<e--;)n|=I(t,128)<<e;return n}function m(t,e){var n=g(t,e);return E(t)?-n:n}function y(t,n,r,i){var s,o=0;for(e(null!=t),e(null!=n),e(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),s=0;s<i;++s)o+=n[r+s]<<8*s;t.Ra=o,t.bb=i,t.oa=n,t.pa=r}function _(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<zn-8>>>0,++t.bb,t.u-=8;C(t)&&(t.h=1,t.u=0)}function v(t,n){if(e(0<=n),!t.h&&n<=Un){var r=S(t)&Bn[n];return t.u+=n,_(t),r}return t.h=1,t.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(t){return t.Ra>>>(t.u&zn-1)>>>0}function C(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>zn}function k(t,e){t.u=e,t.h=C(t)}function x(t){t.u>=Vn&&(e(t.u>=Vn),_(t))}function A(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function E(t){return g(t,1)}function I(t,e){var n=t.Ca;0>t.b&&A(t);var r=t.b,i=n*e>>>8,s=(t.I>>>r>i)+0;for(s?(n-=i,t.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return t.b-=r=7^i+Hn[r],t.Ca=(n<<r)-1,s}function T(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255}function N(t,e){return t[e+0]<<0|t[e+1]<<8}function P(t,e){return N(t,e)|t[e+2]<<16}function L(t,e){return N(t,e)|N(t,e+2)<<16}function R(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=s(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function O(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function F(t,n,r,i){e(null!=r),e(null!=i);var s=r[0],o=i[0];return 0==s&&(s=(t*o+n/2)/n),0==o&&(o=(n*s+t/2)/t),0>=s||0>=o?0:(r[0]=s,i[0]=o,1)}function M(t,e){return t+(1<<e)-1>>>e}function j(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function q(e,n){t[n]=function(n,r,i,s,o,a,l){var c;for(c=0;c<o;++c){var u=t[e](a[l+c-1],i,s+c);a[l+c]=j(n[r+c],u)}}}function B(){this.ud=this.hd=this.jd=0}function U(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function z(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function V(t,e){return z(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function W(t,e,n,r,i,s,o){for(r=s[o-1],n=0;n<i;++n)s[o+n]=r=j(t[e+n],r)}function G(t,e,n,r,i){var s;for(s=0;s<n;++s){var o=t[e+s],a=o>>8&255,l=16711935&(l=(l=16711935&o)+((a<<16)+a));r[i+s]=(4278255360&o)+l>>>0}}function Z(t,e){e.jd=t>>0&255,e.hd=t>>8&255,e.ud=t>>16&255}function $(t,e,n,r,i,s){var o;for(o=0;o<r;++o){var a=e[n+o],l=a>>>8,c=a,u=255&(u=(u=a>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(u<<24>>24)>>>5)),i[s+o]=(4278255360&a)+(u<<16)+c}}function Y(e,n,r,i,s){t[n]=function(t,e,n,r,o,a,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)o[a++]=s(n[i(t[e++])])},t[e]=function(e,n,o,a,l,c,u){var h=8>>e.b,d=e.Ea,f=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<o;++n){var g,m=0;for(g=0;g<d;++g)g&e||(m=i(a[l++])),c[u++]=s(f[m&p]),m>>=h}else t["VP8LMapColor"+r](a,l,f,p,c,u,n,o,d)}}function K(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=s>>0&255}}function Q(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=s>>0&255,r[i++]=s>>24&255}}function J(t,e,n,r,i){for(n=e+n;e<n;){var s=(o=t[e++])>>16&240|o>>12&15,o=o>>0&240|o>>28&15;r[i++]=s,r[i++]=o}}function X(t,e,n,r,i){for(n=e+n;e<n;){var s=(o=t[e++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=s,r[i++]=o}}function tt(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>0&255,r[i++]=s>>8&255,r[i++]=s>>16&255}}function et(t,e,n,i,s,o){if(0==o)for(n=e+n;e<n;)T(i,((o=t[e++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),s+=32;else r(i,s,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==Vr||t==Hr||t==Wr||t==Gr}function it(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new st,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ut(t,e){var n=t.T,i=e.ba.f.RGBA,s=i.eb,o=i.fb+t.ka*i.A,a=yi[e.ba.S],l=t.y,c=t.O,u=t.f,h=t.N,d=t.ea,f=t.W,p=e.cc,g=e.dc,m=e.Mc,y=e.Nc,_=t.ka,v=t.ka+t.T,b=t.U,w=b+1>>1;for(0==_?a(l,c,null,null,u,h,d,f,u,h,d,f,s,o,null,null,b):(a(e.ec,e.fc,l,c,p,g,m,y,u,h,d,f,s,o-i.A,s,o,b),++n);_+2<v;_+=2)a(l,(c+=2*t.fa)-t.fa,l,c,p=u,g=h,m=d,y=f,u,h+=t.Rc,d,f+=t.Rc,s,(o+=2*i.A)-i.A,s,o,b);return c+=t.fa,t.j+v<t.o?(r(e.ec,e.fc,l,c,b),r(e.cc,e.dc,u,h,w),r(e.Mc,e.Nc,d,f,w),n--):1&v||a(l,c,null,null,u,h,d,f,u,h,d,f,s,o+i.A,null,null,b),n}function ht(t,n,r){var i=t.F,s=[t.J];if(null!=i){var o=t.U,a=n.ba.S,l=a==Br||a==Wr;n=n.ba.f.RGBA;var c=[0],u=t.ka;c[0]=t.T,t.Kb&&(0==u?--c[0]:(--u,s[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-u));var h=n.eb;t=xr(i,s[0],t.width,o,c,h,(u=n.fb+u*n.A)+(l?0:3),n.A),e(r==c),t&&rt(a)&&Cr(h,u,l,o,c,n.A)}return 0}function dt(t){var e=t.ma,n=e.ba.S,r=11>n,i=n==Mr||n==qr||n==Br||n==Ur||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Fn(e.Oa,t,i?11:12))return 0;if(i&&rt(n)&&vn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(e.memory=s(t.U+2*(n=t.U+1>>1)),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ut,vn()}}else alert("todo:EmitYUV");i&&(e.Jb=ht,r&&yn())}if(r&&!Pi){for(t=0;256>t;++t)Li[t]=89858*(t-128)+Ai>>xi,Di[t]=-22014*(t-128)+Ai,Oi[t]=-45773*(t-128),Ri[t]=113618*(t-128)+Ai>>xi;for(t=Ei;t<Ii;++t)Fi[t-Ei]=Wt(e=76283*(t-16)+Ai>>xi,255),Mi[t-Ei]=Wt(e+8>>4,15);Pi=1}return 1}function ft(t){var n=t.ma,r=t.U,i=t.T;return e(!(1&t.ka)),0>=r||0>=i?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function pt(t){t.ma.memory=null}function gt(t,e,n,r){return 47!=v(t,8)?0:(e[0]=v(t,14)+1,n[0]=v(t,14)+1,r[0]=v(t,1),0!=v(t,3)?0:!t.h)}function mt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+v(e,n)+1}function yt(t,e){return 120<e?e-120:1<=(n=((n=Jr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function _t(t,e,n){var r=S(n),i=t[e+=255&r].g-8;return 0<i&&(k(n,n.u+8),r=S(n),e+=t[e].value,e+=r&(1<<i)-1),k(n,n.u+t[e].g),t[e].value}function vt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function bt(t,n,r){var i=t.xc;return e((n=0==i?0:t.vc[t.md*(r>>i)+(n>>i)])<t.Wb),t.Ya[n]}function wt(t,n,i,s){var o=t.ab,a=t.c*n,l=t.C;n=l+n;var c=i,u=s;for(s=t.Ta,i=t.Ua;0<o--;){var h=t.gc[o],d=l,f=n,p=c,g=u,m=(u=s,c=i,h.Ea);switch(e(d<f),e(f<=h.nc),h.hc){case 2:Zn(p,g,(f-d)*m,u,c);break;case 0:var y=d,_=f,v=u,b=c,w=(A=h).Ea;0==y&&(Wn(p,g,null,null,1,v,b),W(p,g+1,0,0,w-1,v,b+1),g+=w,b+=w,++y);for(var S=1<<A.b,C=S-1,k=M(w,A.b),x=A.K,A=A.w+(y>>A.b)*k;y<_;){var E=x,I=A,T=1;for(Gn(p,g,v,b-w,1,v,b);T<w;){var N=(T&~C)+S;N>w&&(N=w),(0,Jn[E[I++]>>8&15])(p,g+ +T,v,b+T-w,N-T,v,b+T),T=N}g+=w,b+=w,++y&C||(A+=k)}f!=h.nc&&r(u,c-m,u,c+(f-d-1)*m,m);break;case 1:for(m=p,_=g,w=(p=h.Ea)-(b=p&~(v=(g=1<<h.b)-1)),y=M(p,h.b),S=h.K,h=h.w+(d>>h.b)*y;d<f;){for(C=S,k=h,x=new B,A=_+b,E=_+p;_<A;)Z(C[k++],x),Xn(x,m,_,g,u,c),_+=g,c+=g;_<E&&(Z(C[k++],x),Xn(x,m,_,w,u,c),_+=w,c+=w),++d&v||(h+=y)}break;case 3:if(p==u&&g==c&&0<h.b){for(_=u,p=m=c+(f-d)*m-(b=(f-d)*M(h.Ea,h.b)),g=u,v=c,y=[],b=(w=b)-1;0<=b;--b)y[b]=g[v+b];for(b=w-1;0<=b;--b)_[p+b]=y[b];$n(h,d,f,u,m,u,c)}else $n(h,d,f,p,g,u,c)}c=s,u=i}u!=i&&r(s,i,c,u,a)}function St(t,n){var r=t.V,i=t.Ba+t.c*t.C,s=n-t.C;if(e(n<=t.l.o),e(16>=s),0<s){var o=t.l,a=t.Ta,l=t.Ua,c=o.width;if(wt(t,s,r,i),s=l=[l],e((r=t.C)<(i=n)),e(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var u=o.j-r;r=o.j,s[0]+=u*c}if(r>=i?r=0:(s[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(l=l[0],11>(r=t.ca).S){var h=r.f.RGBA,d=(i=r.S,s=o.U,o=o.T,u=h.eb,h.A),f=o;for(h=h.fb+t.Ma*h.A;0<f--;){var p=a,g=l,m=s,y=u,_=h;switch(i){case Fr:tr(p,g,m,y,_);break;case Mr:er(p,g,m,y,_);break;case Vr:er(p,g,m,y,_),Cr(y,_,0,m,1,0);break;case jr:ir(p,g,m,y,_);break;case qr:et(p,g,m,y,_,1);break;case Hr:et(p,g,m,y,_,1),Cr(y,_,0,m,1,0);break;case Br:et(p,g,m,y,_,0);break;case Wr:et(p,g,m,y,_,0),Cr(y,_,1,m,1,0);break;case Ur:nr(p,g,m,y,_);break;case Gr:nr(p,g,m,y,_),kr(y,_,m,1,0);break;case zr:rr(p,g,m,y,_);break;default:e(0)}l+=c,h+=d}t.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function Ct(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function kt(t,n,r,i,s,o){if(0!=t.Z){var a=t.qd,l=t.rd;for(e(null!=mi[t.Z]);n<r;++n)mi[t.Z](a,l,i,s,i,s,o),a=i,l=s,s+=o;t.qd=a,t.rd=l}}function xt(t,n){var r=t.l.ma,i=0==r.Z||1==r.Z?t.l.j:t.C;if(i=t.C<i?i:t.C,e(n<=t.l.o),n>i){var s=t.l.width,o=r.ca,a=r.tb+s*i,l=t.V,c=t.Ba+t.c*i,u=t.gc;e(1==t.ab),e(3==u[0].hc),Kn(u[0],i,n,l,c,o,a),kt(r,i,n,o,a,s)}t.C=t.Ma=n}function At(t,n,r,i,s,o,a){var l=t.$/i,c=t.$%i,u=t.m,h=t.s,d=r+t.$,f=d;s=r+i*s;var p=r+i*o,g=280+h.ua,m=t.Pb?l:16777216,y=0<h.ua?h.Wa:null,_=h.wc,v=d<p?bt(h,c,l):null;e(t.C<o),e(p<=s);var b=!1;t:for(;;){for(;b||d<p;){var w=0;if(l>=m){var A=d-r;e((m=t).Pb),m.wd=m.m,m.xd=A,0<m.s.ua&&O(m.s.Wa,m.s.vb),m=l+ti}if(c&_||(v=bt(h,c,l)),e(null!=v),v.Qb&&(n[d]=v.qb,b=!0),!b)if(x(u),v.jc){A=n;var E=d,I=v.pd[S(w=u)&qn-1];e(v.jc),256>I.g?(k(w,w.u+I.g),A[E]=I.value,w=0):(k(w,w.u+I.g-256),e(256<=I.value),w=I.value),0==w&&(b=!0)}else w=_t(v.G[0],v.H[0],u);if(u.h)break;if(b||256>w){if(!b)if(v.nd)n[d]=(v.qb|w<<8)>>>0;else{if(x(u),b=_t(v.G[1],v.H[1],u),x(u),A=_t(v.G[2],v.H[2],u),E=_t(v.G[3],v.H[3],u),u.h)break;n[d]=(E<<24|b<<16|w<<8|A)>>>0}if(b=!1,++d,++c>=i&&(c=0,++l,null!=a&&l<=o&&!(l%16)&&a(t,l),null!=y))for(;f<d;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else if(280>w){if(w=mt(w-256,u),A=_t(v.G[4],v.H[4],u),x(u),A=yt(i,A=mt(A,u)),u.h)break;if(d-r<A||s-d<w)break t;for(E=0;E<w;++E)n[d+E]=n[d+E-A];for(d+=w,c+=w;c>=i;)c-=i,++l,null!=a&&l<=o&&!(l%16)&&a(t,l);if(e(d<=s),c&_&&(v=bt(h,c,l)),null!=y)for(;f<d;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else{if(!(w<g))break t;for(b=w-280,e(null!=y);f<d;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w;w=d,e(!(b>>>(A=y).Xa)),n[w]=A.X[b],b=!0}b||e(u.h==C(u))}if(t.Pb&&u.h&&d<s)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&O(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=a&&a(t,l>o?o:l),t.a=0,t.$=d-r}return 1}return t.a=3,0}function Et(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function It(){var e=new an;return null==e?null:(e.a=0,e.xb=gi,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Zn=G,Xn=$,tr=K,er=Q,nr=J,rr=X,ir=tt,t.VP8LMapColor32b=Yn,t.VP8LMapColor8b=Qn,e)}function Tt(t,n,r,a,l){var c=1,d=[t],p=[n],g=a.m,m=a.s,y=null,_=0;t:for(;;){if(r)for(;c&&v(g,1);){var b=d,w=p,C=a,A=1,E=C.m,I=C.gc[C.ab],T=v(E,2);if(C.Oc&1<<T)c=0;else{switch(C.Oc|=1<<T,I.hc=T,I.Ea=b[0],I.nc=w[0],I.K=[null],++C.ab,e(4>=C.ab),T){case 0:case 1:I.b=v(E,3)+2,A=Tt(M(I.Ea,I.b),M(I.nc,I.b),0,C,I.K),I.K=I.K[0];break;case 3:var N,P=v(E,8)+1,L=16<P?0:4<P?1:2<P?2:3;if(b[0]=M(I.Ea,L),I.b=L,N=A=Tt(P,1,0,C,I.K)){var O,D=P,F=I,q=1<<(8>>F.b),B=s(q);if(null==B)N=0;else{var U=F.K[0],z=F.w;for(B[0]=F.K[0][0],O=1;O<1*D;++O)B[O]=j(U[z+O],B[O-1]);for(;O<4*q;++O)B[O]=0;F.K[0]=null,F.K[0]=B,N=1}}A=N;break;case 2:break;default:e(0)}c=A}}if(d=d[0],p=p[0],c&&v(g,1)&&!(c=1<=(_=v(g,4))&&11>=_)){a.a=3;break t}var V;if(V=c)e:{var H,W,G,Z=a,$=d,Y=p,K=_,Q=r,J=Z.m,X=Z.s,tt=[null],et=1,nt=0,rt=Xr[K];n:for(;;){if(Q&&v(J,1)){var it=v(J,3)+2,st=M($,it),ot=M(Y,it),at=st*ot;if(!Tt(st,ot,0,Z,tt))break n;for(tt=tt[0],X.xc=it,H=0;H<at;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if(J.h)break n;for(W=0;5>W;++W){var ct=Yr[W];!W&&0<K&&(ct+=1<<K),nt<ct&&(nt=ct)}var ut=o(et*rt,h),ht=et,dt=o(ht,f);if(null==dt)var ft=null;else e(65536>=ht),ft=dt;var pt=s(nt);if(null==ft||null==pt||null==ut){Z.a=1;break n}var gt=ut;for(H=G=0;H<et;++H){var mt=ft[H],yt=mt.G,_t=mt.H,bt=0,wt=1,St=0;for(W=0;5>W;++W){ct=Yr[W],yt[W]=gt,_t[W]=G,!W&&0<K&&(ct+=1<<K);r:{var Ct,kt=ct,xt=Z,It=pt,Nt=gt,Pt=G,Lt=0,Rt=xt.m,Ot=v(Rt,1);if(i(It,0,0,kt),Ot){var Dt=v(Rt,1)+1,Ft=v(Rt,1),Mt=v(Rt,0==Ft?1:8);It[Mt]=1,2==Dt&&(It[Mt=v(Rt,8)]=1);var jt=1}else{var qt=s(19),Bt=v(Rt,4)+4;if(19<Bt){xt.a=3;var Ut=0;break r}for(Ct=0;Ct<Bt;++Ct)qt[Qr[Ct]]=v(Rt,3);var zt=void 0,Vt=void 0,Ht=xt,Wt=qt,Gt=kt,Zt=It,$t=0,Yt=Ht.m,Kt=8,Qt=o(128,h);i:for(;u(Qt,0,7,Wt,19);){if(v(Yt,1)){var Jt=2+2*v(Yt,3);if((zt=2+v(Yt,Jt))>Gt)break i}else zt=Gt;for(Vt=0;Vt<Gt&&zt--;){x(Yt);var Xt=Qt[0+(127&S(Yt))];k(Yt,Yt.u+Xt.g);var te=Xt.value;if(16>te)Zt[Vt++]=te,0!=te&&(Kt=te);else{var ee=16==te,ne=te-16,re=$r[ne],ie=v(Yt,Zr[ne])+re;if(Vt+ie>Gt)break i;for(var se=ee?Kt:0;0<ie--;)Zt[Vt++]=se}}$t=1;break i}$t||(Ht.a=3),jt=$t}(jt=jt&&!Rt.h)&&(Lt=u(Nt,Pt,8,It,kt)),jt&&0!=Lt?Ut=Lt:(xt.a=3,Ut=0)}if(0==Ut)break n;if(wt&&1==Kr[W]&&(wt=0==gt[G].g),bt+=gt[G].g,G+=Ut,3>=W){var oe,ae=pt[0];for(oe=1;oe<ct;++oe)pt[oe]>ae&&(ae=pt[oe]);St+=ae}}if(mt.nd=wt,mt.Qb=0,wt&&(mt.qb=(yt[3][_t[3]+0].value<<24|yt[1][_t[1]+0].value<<16|yt[2][_t[2]+0].value)>>>0,0==bt&&256>yt[0][_t[0]+0].value&&(mt.Qb=1,mt.qb+=yt[0][_t[0]+0].value<<8)),mt.jc=!mt.Qb&&6>St,mt.jc){var le,ce=mt;for(le=0;le<qn;++le){var ue=le,he=ce.pd[ue],de=ce.G[0][ce.H[0]+ue];256<=de.value?(he.g=de.g+256,he.value=de.value):(he.g=0,he.value=0,ue>>=vt(de,8,he),ue>>=vt(ce.G[1][ce.H[1]+ue],16,he),ue>>=vt(ce.G[2][ce.H[2]+ue],0,he),vt(ce.G[3][ce.H[3]+ue],24,he))}}}X.vc=tt,X.Wb=et,X.Ya=ft,X.yc=ut,V=1;break e}V=0}if(!(c=V)){a.a=3;break t}if(0<_){if(m.ua=1<<_,!R(m.Wa,_)){a.a=1,c=0;break t}}else m.ua=0;var fe=a,pe=d,ge=p,me=fe.s,ye=me.xc;if(fe.c=pe,fe.i=ge,me.md=M(pe,ye),me.wc=0==ye?-1:(1<<ye)-1,r){a.xb=pi;break t}if(null==(y=s(d*p))){a.a=1,c=0;break t}c=(c=At(a,y,0,d,p,p,null))&&!g.h;break t}return c?(null!=l?l[0]=y:(e(null==y),e(r)),a.$=0,r||Et(m)):Et(m),c}function Nt(t,n){var r=t.c*t.i,i=r+n+16*n;return e(t.c<=n),t.V=s(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Pt(t,n){var r=t.C,i=n-r,s=t.V,o=t.Ba+t.c*r;for(e(n<=t.l.o);0<i;){var a=16<i?16:i,l=t.l.ma,c=t.l.width,u=c*a,h=l.ca,d=l.tb+c*r,f=t.Ta,p=t.Ua;wt(t,a,s,o),Ar(f,p,h,d,u),kt(l,r,r+a,h,d,c),i-=a,s+=a*t.c,r+=a}e(r==n),t.C=t.Ma=n}function Lt(){this.ub=this.yd=this.td=this.Rb=0}function Rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dt(){this.Yb=function(){var t=[];return function t(e,n,r){for(var i=r[n],s=0;s<i&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));s++)t(e[s],n+1,r)}(t,0,[3,11]),t}()}function Ft(){this.jb=s(3),this.Wc=a([4,8],Dt),this.Xc=a([4,17],Dt)}function Mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function qt(){this.Na=this.la=0}function Bt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new Gt}function Vt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Lt,this.Kc=new Rt,this.ed=new Mt,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,Bt),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vt),this.Hd=0,this.rb=Array(new qt),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=a([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wt(t,e){return 0>t?0:t>e?e:t}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ri||(ri=Qt)),t}function $t(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Yt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Kt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return $t(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,o=n.ha;if(4>o)return $t(t,7,"Truncated header.");var a=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=t.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return $t(t,3,"Incorrect keyframe parameters.");if(!l.yd)return $t(t,4,"Frame not displayable.");s+=3,o-=3;var c=t.Kc;if(l.Rb){if(7>o)return $t(t,7,"cannot parse picture header");if(!Yt(r,s,o))return $t(t,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,o-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=t.Pa).jb,0,255,a.jb.length),e(null!=(a=t.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(l.ub>o)return $t(t,7,"bad partition length");p(a=t.m,r,s,l.ub),s+=l.ub,o-=l.ub,l.Rb&&(c.Ld=E(a),c.Kd=E(a)),c=t.Qa;var u,h=t.Pa;if(e(null!=a),e(null!=c),c.Cb=E(a),c.Cb){if(c.Bb=E(a),E(a)){for(c.Fb=E(a),u=0;4>u;++u)c.Zb[u]=E(a)?m(a,7):0;for(u=0;4>u;++u)c.Lb[u]=E(a)?m(a,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=E(a)?g(a,8):255}else c.Bb=0;if(a.Ka)return $t(t,3,"cannot parse segment header");if((c=t.ed).zd=E(a),c.Tb=g(a,6),c.wb=g(a,3),c.Pc=E(a),c.Pc&&E(a)){for(h=0;4>h;++h)E(a)&&(c.vd[h]=m(a,6));for(h=0;4>h;++h)E(a)&&(c.od[h]=m(a,6))}if(t.L=0==c.Tb?0:c.zd?1:2,a.Ka)return $t(t,3,"cannot parse filter header");var d=o;if(o=u=s,s=u+d,c=d,t.Xb=(1<<g(t.m,2))-1,d<3*(h=t.Xb))r=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=r[o+0]|r[o+1]<<8|r[o+2]<<16;f>c&&(f=c),p(t.Jc[+d],r,u,f),u+=f,c-=f,o+=3}p(t.Jc[+h],r,u,c),r=u<s?0:5}if(0!=r)return $t(t,r,"cannot parse partitions");for(r=g(u=t.m,7),o=E(u)?m(u,4):0,s=E(u)?m(u,4):0,c=E(u)?m(u,4):0,h=E(u)?m(u,4):0,u=E(u)?m(u,4):0,d=t.Qa,f=0;4>f;++f){if(d.Cb){var y=d.Zb[f];d.Fb||(y+=r)}else{if(0<f){t.pb[f]=t.pb[0];continue}y=r}var _=t.pb[f];_.Sc[0]=ei[Wt(y+o,127)],_.Sc[1]=ni[Wt(y+0,127)],_.Eb[0]=2*ei[Wt(y+s,127)],_.Eb[1]=101581*ni[Wt(y+c,127)]>>16,8>_.Eb[1]&&(_.Eb[1]=8),_.Qc[0]=ei[Wt(y+h,117)],_.Qc[1]=ni[Wt(y+u,127)],_.lc=y+u}if(!l.Rb)return $t(t,4,"Not a key frame.");for(E(a),l=t.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(s=0;3>s;++s)for(c=0;11>c;++c)h=I(a,ci[r][o][s][c])?g(a,8):ai[r][o][s][c],l.Wc[r][o].Yb[s][c]=h;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ui[o]]}return t.kc=E(a),t.kc&&(t.Bd=g(a,8)),t.cb=1}function Qt(t,e,n,r,i,s,o){var a=e[i].Yb[n];for(n=0;16>i;++i){if(!I(t,a[n+0]))return i;for(;!I(t,a[n+1]);)if(a=e[++i].Yb[0],n=0,16==i)return 16;var l=e[i+1].Yb;if(I(t,a[n+2])){var c=t,u=0;if(I(c,(d=a)[(h=n)+3]))if(I(c,d[h+6])){for(a=0,h=2*(u=I(c,d[h+8]))+(d=I(c,d[h+9+u])),u=0,d=ii[h];d[a];++a)u+=u+I(c,d[a]);u+=3+(8<<h)}else I(c,d[h+7])?(u=7+2*I(c,165),u+=I(c,145)):u=5+I(c,159);else u=I(c,d[h+4])?3+I(c,d[h+5]):2;a=l[2]}else u=1,a=l[1];l=o+si[i],0>(c=t).b&&A(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,s[l]=((u^f)-f)*r[(0<i)+0]}return 16}function Jt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,i(t.zc,0,0,t.zc.length),t.ja=0}function Xt(t,n){if(null==t)return 0;if(null==n)return $t(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Kt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var a=qi[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-a>>4,t.zb=n.j-a>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+a>>4,t.Hb=n.va+15+a>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(a=0;4>a;++a){var c;if(t.Qa.Cb){var u=t.Qa.Lb[a];t.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=t.gd[a][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}a=0}else $t(t,6,"Frame setup failed"),a=t.a;if(a=0==a){if(a){t.$c=0,0<t.Aa||(t.Ic=Ui);t:{l=4*(f=t.za);var p=32*f,g=f+1,m=0<t.L?f*(0<t.Aa?2:1):0,y=(2==t.Aa?2:1)*f;if((h=l+832+(c=3*(16*(a=t.Ic)+qi[t.L])/2*p)+(u=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)a=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=s(h),t.Fc=0,null==t.Ec){a=$t(t,1,"no memory during frame initialization.");break t}t.Vb=h}d=t.Fc,t.Ac=h=t.Ec,t.Bc=d,d+=l,t.Gd=o(p,Vt),t.Hd=0,t.rb=o(g+1,qt),t.sb=1,t.wa=m?o(m,jt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=f),e(!0),t.oc=h,t.pc=d,d+=832,t.ya=o(y,Ut),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=f),t.R=16*f,t.B=8*f,f=(p=qi[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=d+f,t.qa=t.sa,t.ra=t.ta+16*a*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*a*t.B+p,t.$c=0,d+=c,t.mb=u?h:null,t.nb=u?d:null,e(d+u<=t.Fc+t.Vb),Jt(t),i(t.Ac,t.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Pr){for(a=-255;255>=a;++a)Er[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Ir[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Tr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Nr[255+a]=0>a?0:255<a?255:a;Pr=1}sr=ce,or=se,lr=oe,cr=ae,ur=le,ar=ie,hr=$e,dr=Ye,fr=Je,pr=Xe,gr=Ke,mr=Qe,yr=tn,_r=en,vr=ze,br=Ve,wr=He,Sr=We,di[0]=ke,di[1]=he,di[2]=Se,di[3]=Ce,di[4]=xe,di[5]=Ee,di[6]=Ae,di[7]=Ie,di[8]=Ne,di[9]=Te,hi[0]=ye,hi[1]=fe,hi[2]=pe,hi[3]=ge,hi[4]=_e,hi[5]=ve,hi[6]=be,fi[0]=Oe,fi[1]=de,fi[2]=Pe,fi[3]=Le,fi[4]=Fe,fi[5]=De,fi[6]=Me,a=1}else a=0}a&&(a=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var o,a=t.Jc[t.M&t.Xb],l=t.m,c=t;for(o=0;o<c.za;++o){var u=l,h=c,d=h.Ac,f=h.Bc+4*o,p=h.zc,g=h.ya[h.aa+o];if(g.$b=h.Qa.Bb?I(u,h.Pa.jb[0])?2+I(u,h.Pa.jb[2]):I(u,h.Pa.jb[1]):0,h.kc&&(g.Ad=I(u,h.Bd)),g.Za=!I(u,145)+0,g.Za){var m=g.Ob,y=0;for(h=0;4>h;++h){var _,v=p[0+h];for(_=0;4>_;++_){for(var b=oi[I(u,(v=li[d[f+_]][v])[0])];0<b;)b=oi[2*b+I(u,v[b])];d[f+_]=v=-b}r(m,y,d,f,4),y+=4,p[0+h]=v}}else v=I(u,156)?I(u,128)?1:3:I(u,163)?2:0,g.Ob[0]=v,i(d,f,v,4),i(p,0,v,4);g.Dd=I(u,142)?I(u,114)?I(u,183)?1:3:2:0}if(c.m.Ka)return $t(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=a,u=(l=t).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],f=l.kc?o.Ad:0)u.la=d.la=0,o.Za||(u.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var w,S;if(u=d,d=c,f=l.Pa.Xc,g=l.pb[(p=l.ya[l.aa+l.ja]).$b],y=l.rb[l.sb-1],v=_=0,i(h=p.ad,m=0,0,384),p.Za)var C=0,k=f[3];else{b=s(16);var x=u.Na+y.Na;if(x=ri(d,f[1],x,g.Eb,0,b,0),u.Na=y.Na=(0<x)+0,1<x)sr(b,0,h,m);else{var A=b[0]+3>>3;for(b=0;256>b;b+=16)h[m+b]=A}C=1,k=f[0]}var E=15&u.la,T=15&y.la;for(b=0;4>b;++b){var N=1&T;for(A=S=0;4>A;++A)E=E>>1|(N=(x=ri(d,k,x=N+(1&E),g.Sc,C,h,m))>C)<<7,S=S<<2|(3<x?3:1<x?2:0!=h[m+0]),m+=16;E>>=4,T=T>>1|N<<7,_=(_<<8|S)>>>0}for(k=E,C=T>>4,w=0;4>w;w+=2){for(S=0,E=u.la>>4+w,T=y.la>>4+w,b=0;2>b;++b){for(N=1&T,A=0;2>A;++A)E=E>>1|(N=0<(x=ri(d,f[2],x=N+(1&E),g.Qc,0,h,m)))<<3,S=S<<2|(3<x?3:1<x?2:0!=h[m+0]),m+=16;E>>=2,T=T>>1|N<<5}v|=S<<4*w,k|=E<<4<<w,C|=(240&T)<<w}u.la=k,y.la=C,p.Hc=_,p.Gc=v,p.ia=43690&v?0:g.ia,f=!(_|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return $t(t,7,"Premature end-of-file encountered.")}if(Jt(t),l=n,c=1,o=(a=t).D,u=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)t:{if(o.M=a.M,o.uc=u,On(a,o),c=1,o=(S=a.D).Nb,u=(v=qi[a.L])*a.R,f=a.sa,p=a.ta-u+(b=16*o*a.R),g=a.qa,h=a.ra-(d=v/2*a.B)+(A=8*o*a.B),m=a.Ha,y=a.Ia-d+A,T=0==(E=S.M),_=E>=a.Va-1,2==a.Aa&&On(a,S),S.uc)for(N=(x=a).D.M,e(x.D.uc),S=x.yb;S<x.Hb;++S){k=N;var P=(L=(U=x).D).Nb,L=L.wa[L.Y+(C=S)],R=U.sa,O=U.ta+16*P*(w=U.R)+16*C,D=L.dd,F=L.tc;if(0!=F)if(e(3<=F),1==U.L)0<C&&br(R,O,w,F+4),L.La&&Sr(R,O,w,F),0<k&&vr(R,O,w,F+4),L.La&&wr(R,O,w,F);else{var M=U.B,j=U.qa,q=U.ra+8*P*M+8*C,B=U.Ha,U=U.Ia+8*P*M+8*C;P=L.ld,0<C&&(dr(R,O,w,F+4,D,P),pr(j,q,B,U,M,F+4,D,P)),L.La&&(mr(R,O,w,F,D,P),_r(j,q,B,U,M,F,D,P)),0<k&&(hr(R,O,w,F+4,D,P),fr(j,q,B,U,M,F+4,D,P)),L.La&&(gr(R,O,w,F,D,P),yr(j,q,B,U,M,F,D,P))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*E,E=16*(E+1),T?(l.y=a.sa,l.O=a.ta+b,l.f=a.qa,l.N=a.ra+A,l.ea=a.Ha,l.W=a.Ia+A):(S-=v,l.y=f,l.O=p,l.f=g,l.N=h,l.ea=m,l.W=y),_||(E-=v),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&S<E&&(l.J=dn(a,l,S,E-S),l.F=a.mb,null==l.F&&0==l.F.length)){c=$t(a,3,"Could not decode alpha data.");break t}S<l.j&&(v=l.j-S,S=l.j,e(!(1&v)),l.O+=a.R*v,l.N+=a.B*(v>>1),l.W+=a.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),S<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=E-S,c=l.put(l))}o+1!=a.Ic||_||(r(a.sa,a.ta-u,f,p+16*a.R,u),r(a.qa,a.ra-d,g,h+8*a.B,d),r(a.Ha,a.Ia-d,m,y+8*a.B,d))}if(!c)return $t(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),a&=1}return a?(t.cb=0,a):0}function te(t,e,n,r,i){t[e+n+32*r]=-256&(i=t[e+n+32*r]+(i>>3))?0>i?0:255:i}function ee(t,e,n,r,i,s){te(t,e,0,n,r+i),te(t,e,1,n,r+s),te(t,e,2,n,r-s),te(t,e,3,n,r-i)}function ne(t){return(20091*t>>16)+t}function re(t,e,n,r){var i,o=0,a=s(16);for(i=0;4>i;++i){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],u=(35468*t[e+4]>>16)-ne(t[e+12]),h=ne(t[e+4])+(35468*t[e+12]>>16);a[o+0]=l+h,a[o+1]=c+u,a[o+2]=c-u,a[o+3]=l-h,o+=4,e++}for(i=o=0;4>i;++i)l=(t=a[o+0]+4)+a[o+8],c=t-a[o+8],u=(35468*a[o+4]>>16)-ne(a[o+12]),te(n,r,0,0,l+(h=ne(a[o+4])+(35468*a[o+12]>>16))),te(n,r,1,0,c+u),te(n,r,2,0,c-u),te(n,r,3,0,l-h),o++,r+=32}function ie(t,e,n,r){var i=t[e+0]+4,s=35468*t[e+4]>>16,o=ne(t[e+4]),a=35468*t[e+1]>>16;ee(n,r,0,i+o,t=ne(t[e+1]),a),ee(n,r,1,i+s,t,a),ee(n,r,2,i-s,t,a),ee(n,r,3,i-o,t,a)}function se(t,e,n,r,i){re(t,e,n,r),i&&re(t,e+16,n,r+4)}function oe(t,e,n,r){or(t,e+0,n,r,1),or(t,e+32,n,r+128,1)}function ae(t,e,n,r){var i;for(t=t[e+0]+4,i=0;4>i;++i)for(e=0;4>e;++e)te(n,r,e,i,t)}function le(t,e,n,r){t[e+0]&&cr(t,e+0,n,r),t[e+16]&&cr(t,e+16,n,r+4),t[e+32]&&cr(t,e+32,n,r+128),t[e+48]&&cr(t,e+48,n,r+128+4)}function ce(t,e,n,r){var i,o=s(16);for(i=0;4>i;++i){var a=t[e+0+i]+t[e+12+i],l=t[e+4+i]+t[e+8+i],c=t[e+4+i]-t[e+8+i],u=t[e+0+i]-t[e+12+i];o[0+i]=a+l,o[8+i]=a-l,o[4+i]=u+c,o[12+i]=u-c}for(i=0;4>i;++i)a=(t=o[0+4*i]+3)+o[3+4*i],c=o[1+4*i]-o[2+4*i],u=t-o[3+4*i],n[r+0]=a+(l=o[1+4*i]+o[2+4*i])>>3,n[r+16]=u+c>>3,n[r+32]=a-l>>3,n[r+48]=u-c>>3,r+=64}function ue(t,e,n){var r,i=e-32,s=Or,o=255-t[i-1];for(r=0;r<n;++r){var a,l=s,c=o+t[e-1];for(a=0;a<n;++a)t[e+a]=l[c+t[i+a]];e+=32}}function he(t,e){ue(t,e,4)}function de(t,e){ue(t,e,8)}function fe(t,e){ue(t,e,16)}function pe(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function ge(t,e){var n;for(n=16;0<n;--n)i(t,e,t[e-1],16),e+=32}function me(t,e,n){var r;for(r=0;16>r;++r)i(e,n+32*r,t,16)}function ye(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];me(r>>5,t,e)}function _e(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];me(r>>4,t,e)}function ve(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];me(r>>4,t,e)}function be(t,e){me(128,t,e)}function we(t,e,n){return t+2*e+n+2>>2}function Se(t,e){var n,i=e-32;for(i=new Uint8Array([we(t[i-1],t[i+0],t[i+1]),we(t[i+0],t[i+1],t[i+2]),we(t[i+1],t[i+2],t[i+3]),we(t[i+2],t[i+3],t[i+4])]),n=0;4>n;++n)r(t,e+32*n,i,0,i.length)}function Ce(t,e){var n=t[e-1],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];T(t,e+0,16843009*we(t[e-1-32],n,r)),T(t,e+32,16843009*we(n,r,i)),T(t,e+64,16843009*we(r,i,s)),T(t,e+96,16843009*we(i,s,s))}function ke(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)i(t,e+32*n,r,4)}function xe(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],o=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=we(r,i,t[e-1+96]),t[e+1+96]=t[e+0+64]=we(n,r,i),t[e+2+96]=t[e+1+64]=t[e+0+32]=we(s,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=we(o,s,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=we(a,o,s),t[e+3+32]=t[e+2+0]=we(l,a,o),t[e+3+0]=we(c,l,a)}function Ae(t,e){var n=t[e+1-32],r=t[e+2-32],i=t[e+3-32],s=t[e+4-32],o=t[e+5-32],a=t[e+6-32],l=t[e+7-32];t[e+0+0]=we(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=we(n,r,i),t[e+2+0]=t[e+1+32]=t[e+0+64]=we(r,i,s),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=we(i,s,o),t[e+3+32]=t[e+2+64]=t[e+1+96]=we(s,o,a),t[e+3+64]=t[e+2+96]=we(o,a,l),t[e+3+96]=we(a,l,l)}function Ee(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],o=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=s+o+1>>1,t[e+1+0]=t[e+2+64]=o+a+1>>1,t[e+2+0]=t[e+3+64]=a+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=we(i,r,n),t[e+0+64]=we(r,n,s),t[e+0+32]=t[e+1+96]=we(n,s,o),t[e+1+32]=t[e+2+96]=we(s,o,a),t[e+2+32]=t[e+3+96]=we(o,a,l),t[e+3+32]=we(a,l,c)}function Ie(t,e){var n=t[e+0-32],r=t[e+1-32],i=t[e+2-32],s=t[e+3-32],o=t[e+4-32],a=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+i+1>>1,t[e+2+0]=t[e+1+64]=i+s+1>>1,t[e+3+0]=t[e+2+64]=s+o+1>>1,t[e+0+32]=we(n,r,i),t[e+1+32]=t[e+0+96]=we(r,i,s),t[e+2+32]=t[e+1+96]=we(i,s,o),t[e+3+32]=t[e+2+96]=we(s,o,a),t[e+3+64]=we(o,a,l),t[e+3+96]=we(a,l,c)}function Te(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+i+1>>1,t[e+2+32]=t[e+0+64]=i+s+1>>1,t[e+1+0]=we(n,r,i),t[e+3+0]=t[e+1+32]=we(r,i,s),t[e+3+32]=t[e+1+64]=we(i,s,s),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=s}function Ne(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96],o=t[e-1-32],a=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+o+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=i+r+1>>1,t[e+0+96]=s+i+1>>1,t[e+3+0]=we(a,l,c),t[e+2+0]=we(o,a,l),t[e+1+0]=t[e+3+32]=we(n,o,a),t[e+1+32]=t[e+3+64]=we(r,n,o),t[e+1+64]=t[e+3+96]=we(i,r,n),t[e+1+96]=we(s,i,r)}function Pe(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Le(t,e){var n;for(n=0;8>n;++n)i(t,e,t[e-1],8),e+=32}function Re(t,e,n){var r;for(r=0;8>r;++r)i(e,n+32*r,t,8)}function Oe(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Re(r>>4,t,e)}function De(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Re(r>>3,t,e)}function Fe(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Re(r>>3,t,e)}function Me(t,e){Re(128,t,e)}function je(t,e,n){var r=t[e-n],i=t[e+0],s=3*(i-r)+Lr[1020+t[e-2*n]-t[e+n]],o=Rr[112+(s+4>>3)];t[e-n]=Or[255+r+Rr[112+(s+3>>3)]],t[e+0]=Or[255+i-o]}function qe(t,e,n,r){return Dr[255+t[e-2*n]-t[e-n]]>r||Dr[255+t[e+n]-t[e+0]]>r}function Be(t,e,n,r){return 4*Dr[255+t[e-n]-t[e+0]]+Dr[255+t[e-2*n]-t[e+n]]<=r}function Ue(t,e,n,r,i){var s=t[e-3*n],o=t[e-2*n],a=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n];return 4*Dr[255+a-l]+Dr[255+o-c]>r?0:Dr[255+t[e-4*n]-s]<=i&&Dr[255+s-o]<=i&&Dr[255+o-a]<=i&&Dr[255+t[e+3*n]-u]<=i&&Dr[255+u-c]<=i&&Dr[255+c-l]<=i}function ze(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r,n,i)&&je(t,e+r,n)}function Ve(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r*n,1,i)&&je(t,e+r*n,1)}function He(t,e,n,r){var i;for(i=3;0<i;--i)ze(t,e+=4*n,n,r)}function We(t,e,n,r){var i;for(i=3;0<i;--i)Ve(t,e+=4,n,r)}function Ge(t,e,n,r,i,s,o,a){for(s=2*s+1;0<i--;){if(Ue(t,e,n,s,o))if(qe(t,e,n,a))je(t,e,n);else{var l=t,c=e,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],g=l[c+2*u],m=27*(_=Lr[1020+3*(f-d)+Lr[1020+h-p]])+63>>7,y=18*_+63>>7,_=9*_+63>>7;l[c-3*u]=Or[255+l[c-3*u]+_],l[c-2*u]=Or[255+h+y],l[c-u]=Or[255+d+m],l[c+0]=Or[255+f-m],l[c+u]=Or[255+p-y],l[c+2*u]=Or[255+g-_]}e+=r}}function Ze(t,e,n,r,i,s,o,a){for(s=2*s+1;0<i--;){if(Ue(t,e,n,s,o))if(qe(t,e,n,a))je(t,e,n);else{var l=t,c=e,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Rr[112+(4+(g=3*(d-h))>>3)],g=Rr[112+(g+3>>3)],m=p+1>>1;l[c-2*u]=Or[255+l[c-2*u]+m],l[c-u]=Or[255+h+g],l[c+0]=Or[255+d-p],l[c+u]=Or[255+f-m]}e+=r}}function $e(t,e,n,r,i,s){Ge(t,e,n,1,16,r,i,s)}function Ye(t,e,n,r,i,s){Ge(t,e,1,n,16,r,i,s)}function Ke(t,e,n,r,i,s){var o;for(o=3;0<o;--o)Ze(t,e+=4*n,n,1,16,r,i,s)}function Qe(t,e,n,r,i,s){var o;for(o=3;0<o;--o)Ze(t,e+=4,1,n,16,r,i,s)}function Je(t,e,n,r,i,s,o,a){Ge(t,e,i,1,8,s,o,a),Ge(n,r,i,1,8,s,o,a)}function Xe(t,e,n,r,i,s,o,a){Ge(t,e,1,i,8,s,o,a),Ge(n,r,1,i,8,s,o,a)}function tn(t,e,n,r,i,s,o,a){Ze(t,e+4*i,i,1,8,s,o,a),Ze(n,r+4*i,i,1,8,s,o,a)}function en(t,e,n,r,i,s,o,a){Ze(t,e+4,1,i,8,s,o,a),Ze(n,r+4,1,i,8,s,o,a)}function nn(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function an(){this.xb=this.a=0,this.l=new Gt,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(t,e,n,r,i,s,o){for(t=null==t?0:t[e+0],e=0;e<o;++e)i[s+e]=t+n[r+e]&255,t=i[s+e]}function un(t,e,n,r,i,s,o){var a;if(null==t)cn(null,null,n,r,i,s,o);else for(a=0;a<o;++a)i[s+a]=t[e+a]+n[r+a]&255}function hn(t,e,n,r,i,s,o){if(null==t)cn(null,null,n,r,i,s,o);else{var a,l=t[e+0],c=l,u=l;for(a=0;a<o;++a)c=u+(l=t[e+a])-c,u=n[r+a]+(-256&c?0>c?0:255:c)&255,c=l,i[s+a]=u}}function dn(t,n,i,o){var a=n.width,l=n.o;if(e(null!=t&&null!=n),0>i||0>=o||i+o>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new ln,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=s(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){var u=t.Fa,h=t.P,d=t.qc,f=t.mb,p=t.nb,g=h+1,m=d-1,_=(c=t.ga).l;if(e(null!=u&&null!=f&&null!=n),mi[0]=null,mi[1]=cn,mi[2]=un,mi[3]=hn,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=u[h+0]>>0&3,c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(_.put=ft,_.ac=dt,_.bc=pt,_.ma=c,_.width=n.width,_.height=n.height,_.Da=n.Da,_.v=n.v,_.va=n.va,_.j=n.j,_.o=n.o,c.$a)t:{e(1==c.$a),n=It();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,y(n.m,u,g,m),!Tt(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&Ct(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Nt(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:o=l-i}e(null!=t.ga),e(i+o<=l);t:{if(n=(u=t.ga).c,l=u.l.o,0==u.$a){if(g=t.rc,m=t.Vc,_=t.Fa,d=t.mb,f=t.nb+i*n,e((h=t.P+1+i*n)<=t.P+t.qc),0!=u.Z)for(e(null!=mi[u.Z]),c=0;c<o;++c)mi[u.Z](g,m,_,h,d,f,n),g=d,m=f,f+=n,h+=n;else for(c=0;c<o;++c)r(d,f,_,h,n),g=d,m=f,f+=n,h+=n;t.rc=g,t.Vc=m}else{if(e(null!=u.mc),n=i+o,e(null!=(c=u.mc)),e(n<=c.i),c.C>=n)n=1;else if(u.ic||yn(),u.ic){u=c.V,g=c.Ba;var v=c.i,b=(_=1,h=c.$/(m=c.c),d=c.$%m,f=c.m,p=c.s,c.$),w=m*v,S=m*n,k=p.wc,A=b<S?bt(p,d,h):null;e(b<=w),e(n<=v),e(Ct(p));e:for(;;){for(;!f.h&&b<S;){if(d&k||(A=bt(p,d,h)),e(null!=A),x(f),256>(v=_t(A.G[0],A.H[0],f)))u[g+b]=v,++b,++d>=m&&(d=0,++h<=n&&!(h%16)&&xt(c,h));else{if(!(280>v)){_=0;break e}v=mt(v-256,f);var E,I=_t(A.G[4],A.H[4],f);if(x(f),!(b>=(I=yt(m,I=mt(I,f)))&&w-b>=v)){_=0;break e}for(E=0;E<v;++E)u[g+b+E]=u[g+b+E-I];for(b+=v,d+=v;d>=m;)d-=m,++h<=n&&!(h%16)&&xt(c,h);b<S&&d&k&&(A=bt(p,d,h))}e(f.h==C(f))}xt(c,h>n?n:h);break e}!_||f.h&&b<w?(_=0,c.a=f.h?5:3):c.$=b,n=_}else n=At(c,c.V,c.Ba,c.c,c.i,n,Pt);if(!n){o=0;break t}}i+o>=l&&(t.Cc=1),o=1}if(!o)return null;if(t.Cc&&(null!=(o=t.ga)&&(o.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+i*a}function fn(t,e,n,r,i,s){for(;0<i--;){var o,a=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(o=0;o<r;++o){var h=c[u+4*o];255!=h&&(a[l+4*o+0]=a[l+4*o+0]*(h*=32897)>>23,a[l+4*o+1]=a[l+4*o+1]*h>>23,a[l+4*o+2]=a[l+4*o+2]*h>>23)}e+=s}}function pn(t,e,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var o=t[e+2*s+0],a=15&(c=t[e+2*s+1]),l=4369*a,c=(240&c|c>>4)*l>>16;t[e+2*s+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,t[e+2*s+1]=240&c|a}e+=i}}function gn(t,e,n,r,i,s,o,a){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var h=t[e+l];s[o+4*l]=h,u&=h}e+=n,o+=a}return 255!=u}function mn(t,e,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=t[e+s]>>8}function yn(){Cr=fn,kr=pn,xr=gn,Ar=mn}function _n(n,r,i){t[n]=function(t,n,s,o,a,l,c,u,h,d,f,p,g,m,y,_,v){var b,w=v-1>>1,S=a[l+0]|c[u+0]<<16,C=h[d+0]|f[p+0]<<16;e(null!=t);var k=3*S+C+131074>>2;for(r(t[n+0],255&k,k>>16,g,m),null!=s&&r(s[o+0],255&(k=3*C+S+131074>>2),k>>16,y,_),b=1;b<=w;++b){var x=a[l+b]|c[u+b]<<16,A=h[d+b]|f[p+b]<<16,E=S+x+C+A+524296,I=E+2*(x+C)>>3;k=I+S>>1,S=(E=E+2*(S+A)>>3)+x>>1,r(t[n+2*b-1],255&k,k>>16,g,m+(2*b-1)*i),r(t[n+2*b-0],255&S,S>>16,g,m+(2*b-0)*i),null!=s&&(S=I+A>>1,r(s[o+2*b-1],255&(k=E+C>>1),k>>16,y,_+(2*b-1)*i),r(s[o+2*b+0],255&S,S>>16,y,_+(2*b+0)*i)),S=x,C=A}1&v||(r(t[n+v-1],255&(k=3*S+C+131074>>2),k>>16,g,m+(v-1)*i),null!=s&&r(s[o+v-1],255&(k=3*C+S+131074>>2),k>>16,y,_+(v-1)*i))}}function vn(){yi[Fr]=_i,yi[Mr]=bi,yi[jr]=vi,yi[qr]=wi,yi[Br]=Si,yi[Ur]=Ci,yi[zr]=ki,yi[Vr]=bi,yi[Hr]=wi,yi[Wr]=Si,yi[Gr]=Ci}function bn(t){return t&~Ni?0>t?0:255:t>>Ti}function wn(t,e){return bn((19077*t>>8)+(26149*e>>8)-14234)}function Sn(t,e,n){return bn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function Cn(t,e){return bn((19077*t>>8)+(33050*e>>8)-17685)}function kn(t,e,n,r,i){r[i+0]=wn(t,n),r[i+1]=Sn(t,e,n),r[i+2]=Cn(t,e)}function xn(t,e,n,r,i){r[i+0]=Cn(t,e),r[i+1]=Sn(t,e,n),r[i+2]=wn(t,n)}function An(t,e,n,r,i){var s=Sn(t,e,n);e=s<<3&224|Cn(t,e)>>3,r[i+0]=248&wn(t,n)|s>>5,r[i+1]=e}function En(t,e,n,r,i){var s=240&Cn(t,e)|15;r[i+0]=240&wn(t,n)|Sn(t,e,n)>>4,r[i+1]=s}function In(t,e,n,r,i){r[i+0]=255,kn(t,e,n,r,i+1)}function Tn(t,e,n,r,i){xn(t,e,n,r,i),r[i+3]=255}function Nn(t,e,n,r,i){kn(t,e,n,r,i),r[i+3]=255}function Wt(t,e){return 0>t?0:t>e?e:t}function Pn(e,n,r){t[e]=function(t,e,i,s,o,a,l,c,u){for(var h=c+(-2&u)*r;c!=h;)n(t[e+0],i[s+0],o[a+0],l,c),n(t[e+1],i[s+0],o[a+0],l,c+r),e+=2,++s,++a,c+=2*r;1&u&&n(t[e+0],i[s+0],o[a+0],l,c)}}function Ln(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Rn(t,e,n,r,i){switch(t>>>30){case 3:or(e,n,r,i,0);break;case 2:ar(e,n,r,i);break;case 1:cr(e,n,r,i)}}function On(t,e){var n,s,o=e.M,a=e.Nb,l=t.oc,c=t.pc+40,u=t.oc,h=t.pc+584,d=t.oc,f=t.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<o?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(i(l,c-32-1,127,21),i(u,h-32-1,127,9),i(d,f-32-1,127,9)),s=0;s<t.za;++s){var p=e.ya[e.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,h+32*n-4,u,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var g=t.Gd,m=t.Hd+s,y=p.ad,_=p.Hc;if(0<o&&(r(l,c-32,g[m].y,0,16),r(u,h-32,g[m].f,0,8),r(d,f-32,g[m].ea,0,8)),p.Za){var v=l,b=c-32+16;for(0<o&&(s>=t.za-1?i(v,b,g[m].y[15],4):r(v,b,g[m+1].y,0,4)),n=0;4>n;n++)v[b+128+n]=v[b+256+n]=v[b+384+n]=v[b+0+n];for(n=0;16>n;++n,_<<=2)di[p.Ob[n]](v=l,b=c+ji[n]),Rn(_,y,16*+n,v,b)}else if(v=Ln(s,o,p.Ob[0]),hi[v](l,c),0!=_)for(n=0;16>n;++n,_<<=2)Rn(_,y,16*+n,l,c+ji[n]);for(n=p.Gc,v=Ln(s,o,p.Dd),fi[v](u,h),fi[v](d,f),_=y,v=u,b=h,255&(p=n>>0)&&(170&p?lr(_,256,v,b):ur(_,256,v,b)),p=d,_=f,255&(n>>=8)&&(170&n?lr(y,320,p,_):ur(y,320,p,_)),o<t.Ub-1&&(r(g[m].y,0,l,c+480,16),r(g[m].f,0,u,h+224,8),r(g[m].ea,0,d,f+224,8)),g=t.sa,m=t.ta+16*s+16*a*t.R,y=t.qa,p=t.ra+8*s+(n=8*a*t.B),_=t.Ha,v=t.Ia+8*s+n,n=0;16>n;++n)r(g,m+n*t.R,l,c+32*n,16);for(n=0;8>n;++n)r(y,p+n*t.B,u,h+32*n,8),r(_,v+n*t.B,d,f+32*n,8)}}function Dn(t,r,i,s,o,a,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,g=null!=u?u:new rn;if(null==t||12>i)return 7;g.data=t,g.w=r,g.ha=i,r=[r],i=[i],g.gb=[g.gb];t:{var m=r,_=i,v=g.gb;if(e(null!=t),e(null!=_),e(null!=v),v[0]=0,12<=_[0]&&!n(t,m[0],"RIFF")){if(n(t,m[0]+8,"WEBP")){v=3;break t}var b=L(t,m[0]+4);if(12>b||4294967286<b){v=3;break t}if(p&&b>_[0]-8){v=7;break t}v[0]=b,m[0]+=12,_[0]-=12}v=0}if(0!=v)return v;for(b=0<g.gb[0],i=i[0];;){t:{var S=t;_=r,v=i;var C=h,k=d,x=m=[0];if((I=f=[f])[0]=0,8>v[0])v=7;else{if(!n(S,_[0],"VP8X")){if(10!=L(S,_[0]+4)){v=3;break t}if(18>v[0]){v=7;break t}var A=L(S,_[0]+8),E=1+P(S,_[0]+12);if(2147483648<=E*(S=1+P(S,_[0]+15))){v=3;break t}null!=x&&(x[0]=A),null!=C&&(C[0]=E),null!=k&&(k[0]=S),_[0]+=18,v[0]-=18,I[0]=1}v=0}}if(f=f[0],0!=v)return v;if(_=!!(2&(m=m[0])),!b&&f)return 3;if(null!=a&&(a[0]=!!(16&m)),null!=l&&(l[0]=_),null!=c&&(c[0]=0),l=h[0],m=d[0],f&&_&&null==u){v=0;break}if(4>i){v=7;break}if(b&&f||!b&&!f&&!n(t,r[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{v=r,b=i;var I=g.gb;C=g.na,k=g.P,x=g.Sa,E=22,e(null!=(A=t)),e(null!=b),S=v[0];var T=b[0];for(e(null!=C),e(null!=x),C[0]=null,k[0]=null,x[0]=0;;){if(v[0]=S,b[0]=T,8>T){v=7;break t}var N=L(A,S+4);if(4294967286<N){v=3;break t}var R=8+N+1&-2;if(E+=R,0<I&&E>I){v=3;break t}if(!n(A,S,"VP8 ")||!n(A,S,"VP8L")){v=0;break t}if(T[0]<R){v=7;break t}n(A,S,"ALPH")||(C[0]=A,k[0]=S+8,x[0]=N),S+=R,T-=R}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];t:if(I=t,v=r,b=i,C=g.gb[0],k=g.Ja,x=g.xa,A=v[0],S=!n(I,A,"VP8 "),E=!n(I,A,"VP8L"),e(null!=I),e(null!=b),e(null!=k),e(null!=x),8>b[0])v=7;else{if(S||E){if(I=L(I,A+4),12<=C&&I>C-12){v=3;break t}if(p&&I>b[0]-8){v=7;break t}k[0]=I,v[0]+=8,b[0]-=8,x[0]=E}else x[0]=5<=b[0]&&47==I[A+0]&&!(I[A+4]>>5),k[0]=b[0];v=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==c||_||(c[0]=g.xa?2:1),l=[l],m=[m],g.xa){if(5>i){v=7;break}c=l,p=m,_=a,null==t||5>i?t=0:5<=i&&47==t[r+0]&&!(t[r+4]>>5)?(b=[0],I=[0],C=[0],y(k=new w,t,r,i),gt(k,b,I,C)?(null!=c&&(c[0]=b[0]),null!=p&&(p[0]=I[0]),null!=_&&(_[0]=C[0]),t=1):t=0):t=0}else{if(10>i){v=7;break}c=m,null==t||10>i||!Yt(t,r+3,i-3)?t=0:(p=t[r+0]|t[r+1]<<8|t[r+2]<<16,_=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!_||!t?t=0:(l&&(l[0]=_),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],m=m[0],f&&(h[0]!=l||d[0]!=m))return 3;null!=u&&(u[0]=g,u.offset=r-u.w,e(4294967286>r-u.w),e(u.offset==u.ha-i));break}return 0==v||7==v&&f&&null==u?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=l),null!=o&&(o[0]=m),0):v}function Fn(t,e,n){var r=e.width,i=e.height,s=0,o=0,a=r,l=i;if(e.Da=null!=t&&0<t.Da,e.Da&&(a=t.cd,l=t.bd,s=t.v,o=t.j,11>n||(s&=-2,o&=-2),0>s||0>o||0>=a||0>=l||s+a>r||o+l>i))return 0;if(e.v=s,e.j=o,e.va=s+a,e.o=o+l,e.U=a,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!F(a,l,n=[t.ib],s=[t.hb]))return 0;e.ib=n[0],e.hb=s[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*i/4,e.Kb=0),1}function Mn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else(e=t.f.kb).O+=((t=t.height)-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function jn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var i=n.cd,o=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=i||0>=o||a+i>t||l+o>e)return 2;t=i,e=o}if(n.da){if(!F(t,e,i=[n.ib],o=[n.hb]))return 2;t=i[0],e=o[0]}}r.width=t,r.height=e;t:{var c=r.width,u=r.height;if(t=r.S,0>=c||0>=u||!(t>=Fr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){a=o=i=e=0;var h=(l=c*zi[t])*u;if(11>t||(o=(u+1)/2*(e=(c+1)/2),12==t&&(a=(i=c)*u)),null==(u=s(h+2*o+a))){t=1;break t}r.sd=u,11>t?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=e,c.Cd=o,c.ea=u,c.W=0+h+o,c.Db=e,c.Ed=o,12==t&&(c.F=u,c.J=0+h+2*o),c.Tc=a,c.lb=i)}if(e=1,o=r.width,a=r.height,(i=r.S)>=Fr&&13>i)if(11>i)t=r.f.RGBA,e&=(l=Math.abs(t.A))*(a-1)+o<=t.size,e&=l>=o*zi[i],e&=null!=t.eb;else{t=r.f.kb,l=(o+1)/2,h=(a+1)/2,c=Math.abs(t.fa),u=Math.abs(t.Ab);var d=Math.abs(t.Db),f=Math.abs(t.lb);e&=c*(a-1)+o<=t.Fd,e&=u*(h-1)+l<=t.Cd,e=(e&=d*(h-1)+l<=t.Ed)&c>=o&u>=l&d>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==i&&(e&=f>=o,e&=f*(a-1)+o<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=Mn(r)),t}var qn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,zn=32,Vn=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];q("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return U(U(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return U(t,e[n-1])},t.Predictor7=function(t,e,n){return U(t,e[n+0])},t.Predictor8=function(t,e,n){return U(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return U(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return U(U(t,e[n-1]),U(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=H(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(r>>16&255,t>>16&255,e>>16&255)+H(r>>8&255,t>>8&255,e>>8&255)+H(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(z((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|z((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|z((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|z((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(V((t=U(t,e[n+0]))>>24&255,r>>24&255)<<24|V(t>>16&255,r>>16&255)<<16|V(t>>8&255,r>>8&255)<<8|V(t>>0&255,r>>0&255))>>>0};var Wn=t.PredictorAdd0;t.PredictorAdd1=W,q("Predictor2","PredictorAdd2"),q("Predictor3","PredictorAdd3"),q("Predictor4","PredictorAdd4"),q("Predictor5","PredictorAdd5"),q("Predictor6","PredictorAdd6"),q("Predictor7","PredictorAdd7"),q("Predictor8","PredictorAdd8"),q("Predictor9","PredictorAdd9"),q("Predictor10","PredictorAdd10"),q("Predictor11","PredictorAdd11"),q("Predictor12","PredictorAdd12"),q("Predictor13","PredictorAdd13");var Gn=t.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Zn,$n=t.ColorIndexInverseTransform,Yn=t.MapARGB,Kn=t.VP8LColorIndexInverseTransformAlpha,Qn=t.MapAlpha,Jn=t.VP8LPredictorsAdd=[];Jn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Xn,tr,er,nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,fr,pr,gr,mr,yr,_r,vr,br,wr,Sr,Cr,kr,xr,Ar,Er=s(511),Ir=s(2041),Tr=s(225),Nr=s(767),Pr=0,Lr=Ir,Rr=Tr,Or=Nr,Dr=Er,Fr=0,Mr=1,jr=2,qr=3,Br=4,Ur=5,zr=6,Vr=7,Hr=8,Wr=9,Gr=10,Zr=[2,3,7],$r=[3,3,11],Yr=[280,256,256,256,40],Kr=[0,1,1,1,0],Qr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],si=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ui=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],pi=1,gi=2,mi=[],yi=[];_n("UpsampleRgbLinePair",kn,3),_n("UpsampleBgrLinePair",xn,3),_n("UpsampleRgbaLinePair",Nn,4),_n("UpsampleBgraLinePair",Tn,4),_n("UpsampleArgbLinePair",In,4),_n("UpsampleRgba4444LinePair",En,2),_n("UpsampleRgb565LinePair",An,2);var _i=t.UpsampleRgbLinePair,vi=t.UpsampleBgrLinePair,bi=t.UpsampleRgbaLinePair,wi=t.UpsampleBgraLinePair,Si=t.UpsampleArgbLinePair,Ci=t.UpsampleRgba4444LinePair,ki=t.UpsampleRgb565LinePair,xi=16,Ai=1<<xi-1,Ei=-227,Ii=482,Ti=6,Ni=(256<<Ti)-1,Pi=0,Li=s(256),Ri=s(256),Oi=s(256),Di=s(256),Fi=s(Ii-Ei),Mi=s(Ii-Ei);Pn("YuvToRgbRow",kn,3),Pn("YuvToBgrRow",xn,3),Pn("YuvToRgbaRow",Nn,4),Pn("YuvToBgraRow",Tn,4),Pn("YuvToArgbRow",In,4),Pn("YuvToRgba4444Row",En,2),Pn("YuvToRgb565Row",An,2);var ji=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qi=[0,2,8],Bi=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(t,n,r,i,s){var o=Mr,a=new nn,l=new ot;a.ba=l,l.S=o,l.width=[l.width],l.height=[l.height];var c=l.width,u=l.height,h=new at;if(null==h||null==t)var d=2;else e(null!=h),d=Dn(t,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?c=0:(null!=c&&(c[0]=h.width[0]),null!=u&&(u[0]=h.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=s&&(s[0]=l.height);t:{if(i=new Gt,(s=new rn).data=t,s.w=n,s.ha=r,s.kd=1,n=[0],e(null!=s),(0==(t=Dn(s.data,s.w,s.ha,null,null,null,n,null,s))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=a),i.data=s.data,i.w=s.w+s.offset,i.ha=s.ha-s.offset,i.put=ft,i.ac=dt,i.bc=pt,i.ma=a,s.xa){if(null==(t=It())){a=1;break t}if(function(t,n){var r=[0],i=[0],s=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,y(t.m,n.data,n.w,n.ha),!gt(t.m,r,i,s)){t.a=3;break e}if(t.xb=gi,n.width=r[0],n.height=i[0],!Tt(r[0],i[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,i)){if(i=0==(n=jn(i.width,i.height,a.Oa,a.ba))){e:{i=t;n:for(;;){if(null==i){i=0;break e}if(e(null!=i.s.yc),e(null!=i.s.Ya),e(0<i.s.Wb),e(null!=(r=i.l)),e(null!=(s=r.ma)),0!=i.xb){if(i.ca=s.ba,i.tb=s.tb,e(null!=i.ca),!Fn(s.Oa,r,qr)){i.a=2;break n}if(!Nt(i,r.width))break n;if(r.da)break n;if((r.da||rt(i.ca.S))&&yn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&yn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!R(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!At(i,i.V,i.Ba,i.c,i.i,r.o,St))break n;s.Dc=i.Ma,i=1;break e}e(0!=i.a),i=0}i=!i}i&&(n=t.a)}else n=t.a}else{if(null==(t=new Zt)){a=1;break t}if(t.Fa=s.na,t.P=s.P,t.qc=s.Sa,Kt(t,i)){if(0==(n=jn(i.width,i.height,a.Oa,a.ba))){if(t.Aa=0,r=a.Oa,e(null!=(s=t)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(u=h=0;4>u;++u)12>(d=s.pb[u]).lc&&(d.ia=c*Bi[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=r.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}Xt(t,i)||(n=t.a)}}else n=t.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Mn(a.ba))}a=n}o=0!=a?null:11>o?l.f.RGBA.eb:l.f.kb.y}else o=null;return o};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function u(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],g=new l,m=t,y=function(t,e){var n={},r=0,i=!1,s=0,o=0;if(n.frames=[],!function(t,e,n,r){for(var i=0;i<4;i++)if(t[e+i]!="RIFF".charCodeAt(i))return!0;return!1}(t,e)){var a,l;for(h(t,e+=4),e+=8;e<t.length;){var d=c(t,e),f=h(t,e+=4);e+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(y=n.frames[r]).src_off=i?o:e-8,y.src_size=s+f+8,r++,i&&(i=!1,s=0,o=0);break;case"VP8X":(y=n.header={}).feature_flags=t[e];var g=e+4;y.canvas_width=1+u(t,g),y.canvas_height=1+u(t,g+=3),g+=3;break;case"ALPH":i=!0,s=p+8,o=e-8;break;case"ANIM":(y=n.header).bgcolor=h(t,e),y.loop_count=(a=t)[(l=g=e+4)+0]<<0|a[l+1]<<8,g+=2;break;case"ANMF":var m,y;(y=n.frames[r]={}).offset_x=2*u(t,e),y.offset_y=2*u(t,e+=3),y.width=1+u(t,e+=3),y.height=1+u(t,e+=3),y.duration=u(t,e+=3),e+=3,m=t[e++],y.dispose=1&m,y.blend=m>>1&1}"ANMF"!=d&&(e+=p)}return n}}(m,0);y.response=m,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,v=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,d=[_.canvas_height],f=[_.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],S=g.WebPDecodeRGBA(m,w.src_off,w.src_size,f,d);w.rgba=S,w.imgwidth=f[0],w.imgheight=d[0];for(var C=0;C<f[0]*d[0]*4;C++)p[C]=S[C];return this.width=f,this.height=d,this.data=p,this}!function(t){var e=function(e,r,l,c){var u=4,h=s;switch(c){case t.image_compression.FAST:u=1,h=i;break;case t.image_compression.MEDIUM:u=6,h=o;break;case t.image_compression.SLOW:u=9,h=a}var d=pn(e=n(e,r,l,h),{level:u});return t.__addimage__.arrayBufferToBinaryString(d)},n=function(t,e,n,r){for(var i,s,o,a=t.length/e,l=new Uint8Array(t.length+a),h=c(),d=0;d<a;d+=1){if(i=t.subarray(o=d*e,o+e),r)l.set(r(i,n,s),o+d);else{for(var f,p=h.length,g=[];f<p;f+=1)g[f]=h[f](i,n,s);var m=u(g.concat());l.set(g[m],o+d)}s=i}return l},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},i=function(t,e){var n=[],r=t.length;n[0]=1;for(var i=0;i<r;i+=1)n[i+1]=t[i]-(t[i-e]||0)+256&255;return n},s=function(t,e,n){var r=[],i=t.length;r[0]=2;for(var s=0;s<i;s+=1)r[s+1]=t[s]-(n&&n[s]||0)+256&255;return r},o=function(t,e,n){var r=[],i=t.length;r[0]=3;for(var s=0;s<i;s+=1)r[s+1]=t[s]+256-((t[s-e]||0)+(n&&n[s]||0)>>>1)&255;return r},a=function(t,e,n){var r,i=[],s=t.length;i[0]=4;for(var o=0;o<s;o+=1)r=l(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0),i[o+1]=t[o]-r+256&255;return i},l=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n},c=function(){return[r,i,s,o,a]},u=function(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,i,s){var o,a,l,c,u,h,d,f,p,g,m,y,_,v,b,w=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new oi(n)).imgData,a=l.bits,o=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*l.colors),g=new Uint8Array(p);var C,k=l.pixelBitlength-l.bits;for(v=0,b=0;v<p;v++){for(_=f[v],C=0;C<k;)m[b++]=_>>>C&255,C+=l.bits;g[v]=_>>>C&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),g=new Uint8Array(p*(32/l.pixelBitlength)),y=l.colors>1,v=0,b=0;for(var x=0;v<p;)_=f[v++],m[b++]=_>>>0&255,y&&(m[b++]=_>>>16&255,_=f[v++],m[b++]=_>>>0&255),g[x++]=_>>>16&255;a=8}s!==t.image_compression.NONE?(n=e(m,l.width*l.colors,l.colors,s),d=e(g,l.width,1,s)):(n=m,d=g,w=void 0)}if(3===l.colorType&&(o=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var A=l.transparency.indexed,E=0;for(v=0,p=A.length;v<p;++v)E+=A[v];if((E/=255)==p-1&&-1!==A.indexOf(0))c=[A.indexOf(0)];else if(E!==p){for(f=l.decodePixels(),g=new Uint8Array(f.length),v=0,p=f.length;v<p;v++)g[v]=A[f[v]];d=e(g,l.width,1)}}var I=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return w===this.decode.FLATE_DECODE&&(S="/Predictor "+I+" "),S+="/Colors "+u+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:w,decodeParameters:S,transparency:c,palette:h,sMask:d,predictor:I,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:o}}}}($n.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new ai(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new ci(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}($n.API),ui.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ui.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(t){yn.log("bit decode error:"+t)}},ui.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==n&&(this.pos+=4-n)}},ui.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=15&s,l=this.palette[s>>4];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(l=this.palette[a]).blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},ui.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==t&&(this.pos+=4-t)}},ui.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=(s>>10&e)/e*255|0,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=l}this.pos+=t}},ui.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=i*this.width*4+4*s;this.data[c]=(o>>11)/e*255|0,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},ui.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ui.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ui.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ui(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ci(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($n.API),hi.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new hi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ci(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($n.API),$n.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c+1],h=r[c+2],d=r[c+3];s[a++]=r[c],s[a++]=u,s[a++]=h,o[l++]=d}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$n.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ni=(ei=$n.API).getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=t.length,p=0,g=a[0]||l,m=[];for(n=0;n<f;n++)r=t.charCodeAt(n),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&"object"===Ie(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,m.push((a[r]||g)/l+d)),p=r;return m},ri=ei.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ei.processArabic&&(t=ei.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:ni.apply(this,arguments).reduce(function(t,e){return t+e},0)},ii=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},si=function(t,e,n){n||(n={});var r,i,s,o,a,l,c=[],u=[c],h=n.textIndent||0,d=0,f=0,p=t.split(" "),g=ni.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];p.map(function(t){(t=t.split(/\s*\n/)).length>1?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),p=y,l=ri.apply(this,[m,n])}for(s=0,o=p.length;s<o;s++){var _=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),_=1),h+d+(f=(i=ni.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||_){if(f>e){for(a=ii.apply(this,[r,i,e-(h+d),e]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);f=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(t,e){return t+e},0)}else c=[r];u.push(c),h=f+l,d=g}else c.push(r),h+=d+f,d=g}return u.map(l?function(t,e){return(e?m:"")+t.join(" ")}:function(t){return t.join(" ")})},ei.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(si.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(t){return"0x"+parseInt(t,10).toString(16)},o=t.__fontmetrics__.compress=function(t){var e,n,i,a,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof e)e<0?(i=s(e).slice(3),a="-"):(i=s(e).slice(2),a=""),i=a+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==Ie(e))throw new Error("Don't know what to do with value type "+Ie(e)+".");i=o(e)}l.push(n+i)}return l.push("}"),l.join("")},a=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,i,s,o={},a=1,l=o,c=[],u="",h="",d=t.length-1,f=1;f<d;f+=1)"'"==(s=t[f])?e?(i=e.join(""),e=void 0):e=[]:e?e.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==s?a=-1:void 0===i?n.hasOwnProperty(s)?(u+=n[s],i=parseInt(u,16)*a,a=1,u=""):u+=s:n.hasOwnProperty(s)?(h+=n[s],l[i]=parseInt(h,16)*a,a=1,i=void 0,h=""):h+=s;return o},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=u.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}($n.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?e(r):e(wn(r)),n.metadata=t.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}($n),function(t){function e(){return(gn.canvg?Promise.resolve(gn.canvg):n.e(280).then(n.bind(n,8280))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}$n.API.addSvgAsImage=function(t,n,r,i,s,o,a,l){if(isNaN(n)||isNaN(r))throw yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(e){return e.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,r,i,s,a,l)})}}(),$n.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},$n.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if("object"===Ie(t))for(i in t)if(s=t[i],d(a,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&d(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&e.push("name"===n[t].type?"/"+t+" /"+n[t].value:"/"+t+" "+n[t].value);0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+i.length+e.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}($n.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],o=0,a=t.length;o<a;++o){if(n=e.metadata.characterToGlyph(t.charCodeAt(o)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(t){var e,n,r,i,s,o,a;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,a=(n=Object.keys(t).sort(function(t,e){return t-e})).length;o<a;o++)e=n[o],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),null!=t[e]&&"function"==typeof t[e].toString&&(i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=s();o({data:c,addLength1:!0,objectId:h}),i("endobj");var d=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+zn(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+zn(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+t.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+zn(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var u=s();o({data:l,addLength1:!0,objectId:u}),i("endobj");var h=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+zn(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+zn(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]);var i=function(t){var e,r=t.text||"",i=t.x,s=t.y,o=t.options||{},a=t.mutex||{},l=a.pdfEscape,c=a.activeFontKey,u=a.fonts,h=c,d="",f=0,p="",g=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:i,y:s,options:o,mutex:a};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(e=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===g?m=l(d,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(m=n(d,u[h])),a.isHex=!0,{text:m,x:i,y:s,options:o,mutex:a}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var s=0;for(s=0;s<e.length;s+=1)Array.isArray(e[s])&&3===e[s].length?n.push([i(Object.assign({},r,{text:e[s][0]})).text,e[s][1],e[s][2]]):n.push(i(Object.assign({},r,{text:e[s]})).text);t.text=n}else t.text=i(Object.assign({},r,{text:e})).text}])}($n),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}($n.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,s,o,a,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,y=0;this.__bidiEngine__={};var _=function(t){var e=t.charCodeAt(),n=e>>8,r=f[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},v=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=_(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,o,a){var l,c,u,h,d=e[a];switch(d){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":d="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(l=o[a-1])&&"AN"!==l||"EN"!==(c=e[a+1])&&"AN"!==c?d="N":m&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=a>0?o[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===o[a-1]){d="EN";break}if(m){d="N";break}for(u=a+1,h=e.length;u<h&&"ET"===e[u];)u++;d=u<h&&"EN"===e[u]?"EN":"N";break;case"NSM":if(i&&!s){for(h=e.length,u=a+1;u<h&&"NSM"===e[u];)u++;if(u<h){var f=t[a];if(l=e[u],(f>=1425&&f<=2303||64286===f)&&("R"===l||"AL"===l)){d="R";break}}}d=a<1||"B"===(l=e[a-1])?"N":o[a-1];break;case"B":m=!1,n=!0,d=y;break;case"S":r=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":d="N"}return d},w=function(t,e,n){var r=t.split("");return n&&S(r,n,{hiLevel:y}),r.reverse(),e&&e.reverse(),r.join("")},S=function(t,e,i){var s,o,a,l,c,f=-1,p=t.length,g=0,v=[],w=y?h:u,S=[];for(m=!1,n=!1,r=!1,o=0;o<p;o++)S[o]=_(t[o]);for(a=0;a<p;a++){if(c=g,v[a]=b(t,S,v,a),s=240&(g=w[c][d[v[a]]]),e[a]=l=w[g&=15][5],s>0)if(16===s){for(o=f;o<a;o++)e[o]=1;f=-1}else f=-1;if(w[g][6])-1===f&&(f=a);else if(f>-1){for(o=f;o<a;o++)e[o]=l;f=-1}"B"===S[a]&&(e[a]=0),i.hiLevel|=l}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=y;for(var i=r-1;i>=0&&"WS"===t[i];i--)e[i]=y}}(S,e,p)},C=function(t,e,r,i,s){if(!(s.hiLevel<t)){if(1===t&&1===y&&!n)return e.reverse(),void(r&&r.reverse());for(var o,a,l,c,u=e.length,h=0;h<u;){if(i[h]>=t){for(l=h+1;l<u&&i[l]>=t;)l++;for(c=h,a=l-1;c<a;c++,a--)o=e[c],e[c]=e[a],e[a]=o,r&&(o=r[c],r[c]=r[a],r[a]=o);h=l}h++}}},k=function(t,e,n){var r=t.split(""),i={hiLevel:y};return n||(n=[]),S(r,n,i),function(t,e,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<t.length;i++)1===e[i]&&(r=p.indexOf(t[i]))>=0&&(t[i]=p[r+1])}(r,n,i),C(2,r,e,n,i),C(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===s&&(s=v(t)),void 0===a&&(a=v(t))}(t,e),i||!o||a)if(i&&o&&s^a)y=s?1:0,t=w(t,e,n);else if(!i&&o&&a)y=s?1:0,t=k(t,e,n),t=w(t,e);else if(!i||s||o||a){if(i&&!o&&s^a)t=w(t,e),s?(y=0,t=k(t,e,n)):(y=1,t=k(t,e,n),t=w(t,e));else if(i&&s&&!o&&a)y=1,t=k(t,e,n),t=w(t,e);else if(!i&&!o&&s^a){var r=l;s?(y=1,t=k(t,e,n),y=0,l=!1,t=k(t,e,n),l=r):(y=0,t=k(t,e,n),t=w(t,e),y=1,l=!1,t=k(t,e,n),l=r,t=w(t,e))}}else y=0,t=k(t,e,n);else y=s?1:0,t=k(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,o=t.isOutputVisual,s=t.isInputRtl,a=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=t.options||{},i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var s=0;for(i=[],s=0;s<e.length;s+=1)"[object Array]"===Object.prototype.toString.call(e[s])?i.push([n.doBidiReorder(e[s][0]),e[s][1],e[s][2]]):i.push([n.doBidiReorder(e[s])]);t.text=i}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}($n),$n.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new fi(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Li(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pi(this.contents),this.head=new yi(this),this.name=new ki(this),this.cmap=new vi(this),this.toUnicode={},this.hhea=new bi(this),this.maxp=new xi(this),this.hmtx=new Ai(this),this.post=new Si(this),this.os2=new wi(this),this.loca=new Pi(this),this.glyf=new Ii(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,e,n,r;for(r=[],t=0,e=(n=this.bbox).length;t<e;t++)r.push(Math.round(n[t]*this.scaleFactor));return r}).call(this),this.stemV=0,this.post.exists?(e=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},t}();var di,fi=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,s,o,a;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*s+256*o+a},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)r.push(this.writeByte(t[e]));return r},t}(),pi=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,s,o,a,l,c,u,h,d,f;for(f in h=Object.keys(e).length,o=Math.log(2),c=16*Math.floor(Math.log(h)/o),i=Math.floor(c/o),l=16*h-c,(r=new fi).writeInt(this.scalarType),r.writeShort(h),r.writeShort(c),r.writeShort(i),r.writeShort(l),a=r.pos+16*h,s=null,d=[],e)for(u=e[f],r.writeString(f),r.writeInt(t(u)),r.writeInt(a),r.writeInt(u.length),d=d.concat(u),"head"===f&&(s=a),a+=u.length;a%4;)d.push(0),a++;return r.write(d),n=2981146554-t(r.data),r.pos=s+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=Ei.call(t);t.length%4;)t.push(0);for(r=new fi(t),n=0,e=0,i=t.length;e<i;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),gi={}.hasOwnProperty,mi=function(t,e){for(var n in e)gi.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};di=function(){function t(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new fi).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),_i=function(){function t(t,e){var n,r,i,s,o,a,l,c,u,h,d,f,p,g,m,y,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,o=function(){var e,n;for(n=[],a=e=0;0<=r?e<r:e>r;a=0<=r?++e:--e)n.push(t.readUInt16());return n}(),a=m=0,_=i.length;m<_;a=++m)for(g=i[a],n=y=f=p[a];f<=g?y<=g:y>=g;n=f<=g?++y:--y)0===c[a]?s=n+l[a]:0!==(s=o[c[a]/2+(n-f)-(h-a)]||0)&&(s+=l[a]),this.codeMap[n]=65535&s}t.pos=u}return t.encode=function(t,e){var n,r,i,s,o,a,l,c,u,h,d,f,p,g,m,y,_,v,b,w,S,C,k,x,A,E,I,T,N,P,L,R,O,D,F,M,j,q,B,U,z,V,H,W,G;switch(I=new fi,s=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,g=function(){var t=[];for(f=0;f<256;++f)t.push(0);return t}(),y={0:0},i={},T=0,R=s.length;T<R;T++)null==y[V=t[r=s[T]]]&&(y[V]=++p),i[r]={old:t[r],new:y[t[r]]},g[r]=y[t[r]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(g),{charMap:i,subtable:I.data,maxGlyphID:p+1};case"unicode":for(A=[],u=[],_=0,y={},n={},m=l=null,N=0,O=s.length;N<O;N++)null==y[v=t[r=s[N]]]&&(y[v]=++_),n[r]={old:v,new:y[v]},o=y[v]-r,null!=m&&o===l||(m&&u.push(m),A.push(r),l=o),m=r;for(m&&u.push(m),u.push(65535),A.push(65535),k=2*(C=A.length),S=2*Math.pow(Math.log(C)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,w=2*C-S,a=[],b=[],d=[],f=P=0,D=A.length;P<D;f=++P){if(c=u[f],65535===(x=A[f])){a.push(0),b.push(0);break}if(x-(E=n[x].new)>=32768)for(a.push(0),b.push(2*(d.length+C-f)),r=L=x;x<=c?L<=c:L>=c;r=x<=c?++L:--L)d.push(n[r].new);else a.push(E-x),b.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*C+2*d.length),I.writeUInt16(0),I.writeUInt16(k),I.writeUInt16(S),I.writeUInt16(h),I.writeUInt16(w),U=0,F=u.length;U<F;U++)I.writeUInt16(r=u[U]);for(I.writeUInt16(0),z=0,M=A.length;z<M;z++)I.writeUInt16(r=A[z]);for(H=0,j=a.length;H<j;H++)I.writeUInt16(o=a[H]);for(W=0,q=b.length;W<q;W++)I.writeUInt16(b[W]);for(G=0,B=d.length;G<B;G++)I.writeUInt16(p=d[G]);return{charMap:n,subtable:I.data,maxGlyphID:_+1}}},t}(),vi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new _i(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=_i.encode(t,e),(r=new fi).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),bi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),wi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Si=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 196608:break;case 262144:return this.map=(function(){var e,n,r;for(r=[],i=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.readUInt32());return r}).call(this)}},e}(),Ci=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ki=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,s,o,a,l,c,u,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(a={},i=c=0,u=n.length;c<u;i=++c)t.pos=(r=n[i]).offset,l=t.readString(r.length),s=new Ci(l,r),null==a[h=r.nameID]&&(a[h]=[]),a[r.nameID].push(s);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),xi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Ai=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,r,i,s,o;for(t.pos=this.offset,this.metrics=[],e=0,s=this.file.hhea.numberOfMetrics;0<=s?e<s:e>s;e=0<=s?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)i.push(t.readInt16());return i}(),this.widths=(function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)r.push(n[t].advance);return r}).call(this),n=this.widths[this.widths.length-1],o=[],e=i=0;0<=r?i<r:i>r;e=0<=r?++i:--i)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Ei=[].slice,Ii=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,s,o,a,l,c,u;return t in this.cache?this.cache[t]:(e=this.file.contents,n=(i=this.file.loca).indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,s=(o=new fi(e.read(r))).readShort(),l=o.readShort(),u=o.readShort(),a=o.readShort(),c=o.readShort(),this.cache[t]=-1===s?new Ni(o,l,u,a,c):new Ti(o,s,l,u,a,c),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,s,o,a;for(s=[],i=[],o=0,a=e.length;o<a;o++)r=t[e[o]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},e}(),Ti=function(){function t(t,e,n,r,i,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Ni=function(){function t(t,e,n,r,i){var s,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new fi(Ei.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),Pi=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,di),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var n,r;for(r=[],e=0,n=this.length;e<n;e+=2)r.push(2*t.readUInt16());return r}).call(this):(function(){var n,r;for(r=[],e=0,n=this.length;e<n;e+=4)r.push(t.readUInt32());return r}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<e.length&&e[i]==s){++i,n[s]=r;var o=this.offsets[s+1]-this.offsets[s];o>0&&(r+=o)}for(var a=new Array(4*n.length),l=0;l<n.length;++l)a[4*l+3]=255&n[l],a[4*l+2]=(65280&n[l])>>8,a[4*l+1]=(16711680&n[l])>>16,a[4*l]=(4278190080&n[l])>>24;return a},e}(),Li=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r;for(e in n=this.font.cmap.tables[0].codeMap,t={},r=this.subset)t[e]=n[r[e]];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,s,o,a;for(r={},s=0,o=t.length;s<o;s++)r[i=t[s]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in a=this.glyphsFor(e))r[i]=n=a[i];return r},t.prototype.encode=function(t,e){var n,r,i,s,o,a,l,c,u,h,d,f,p,g;for(r in n=vi.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(d in u=n.maxGlyphID,s)d in h||(h[d]=u++);return l=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(h),c=Object.keys(l).sort(function(t,e){return t-e}),f=function(){var t,e,n;for(n=[],t=0,e=c.length;t<e;t++)n.push(l[c[t]]);return n}(),i=this.font.glyf.encode(s,f,h),a=this.font.loca.encode(i.offsets,f),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();$n.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i;if(Array.isArray(n))return"["+function(){var t,r,i;for(i=[],t=0,r=n.length;t<r;t++)i.push(e.convert(n[t]));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in i=["<<"],n)i.push("/"+r+" "+e.convert(n[r]));return i.push(">>"),i.join("\n")}return""+n},e}();const Ri=$n,Oi=["htmlData"];function Di(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.id),r.xp6(2),r.Oqu(t.name),r.xp6(2),r.Oqu(t.email),r.xp6(2),r.Oqu(t.phone)}}function Fi(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.id),r.xp6(2),r.Oqu(t.name),r.xp6(2),r.Oqu(t.email),r.xp6(2),r.Oqu(t.phone)}}let Mi=(()=>{class t{constructor(){this.name="Angular Html To Pdf ",this.USERS=[{id:1,name:"Leanne Graham",email:"sincere@april.biz",phone:"1-770-736-8031 x56442"},{id:2,name:"Ervin Howell",email:"shanna@melissa.tv",phone:"010-692-6593 x09125"},{id:3,name:"Clementine Bauch",email:"nathan@yesenia.net",phone:"1-463-123-4447"},{id:4,name:"Patricia Lebsack",email:"julianne@kory.org",phone:"493-170-9623 x156"},{id:5,name:"Chelsey Dietrich",email:"lucio@annie.ca",phone:"(254)954-1289"},{id:6,name:"Mrs. Dennis",email:"karley@jasper.info",phone:"1-477-935-8478 x6430"}]}openPDF(){}openPDF2(){let t=this.htmlData.nativeElement;new Ri({orientation:"p",unit:"px",format:"a0"}).html(t.innerHTML,{callback:function(t){t.output("dataurlnewwindow")},margin:15,x:10,y:10})}downloadPDF(){let t=this.htmlData.nativeElement;new Ri({orientation:"p",unit:"px",format:"a0"}).html(t.innerHTML,{callback:function(t){t.save("angular-demo.pdf")},margin:15,x:10,y:10})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-test"]],viewQuery:function(t,e){if(1&t&&r.Gf(Oi,5),2&t){let t;r.iGM(t=r.CRH())&&(e.htmlData=t.first)}},decls:35,vars:2,consts:[["id","htmlData",1,"col-md-8"],[1,"table","table-bordered"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"col-md-4","text-right"],[1,"btn","btn-success","btn-block",3,"click"],[1,"container"],[1,"row"],["id","htmlData",1,"col"],["htmlData",""],[1,"col","text-right"],[1,"btn","btn-danger","btn-block",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"table",1),r.TgZ(2,"tr",2),r.TgZ(3,"th"),r._uU(4,"Id"),r.qZA(),r.TgZ(5,"th"),r._uU(6,"Name"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Email"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Phone"),r.qZA(),r.qZA(),r.YNc(11,Di,9,4,"tr",3),r.qZA(),r.qZA(),r.TgZ(12,"div",4),r.TgZ(13,"button",5),r.NdJ("click",function(){return e.openPDF()}),r._uU(14,"Download PDF"),r.qZA(),r.qZA(),r.TgZ(15,"div",6),r.TgZ(16,"div",7),r.TgZ(17,"div",8,9),r.TgZ(19,"table",1),r.TgZ(20,"tr",2),r.TgZ(21,"th"),r._uU(22,"Id"),r.qZA(),r.TgZ(23,"th"),r._uU(24,"Name"),r.qZA(),r.TgZ(25,"th"),r._uU(26,"Email"),r.qZA(),r.TgZ(27,"th"),r._uU(28,"Phone"),r.qZA(),r.qZA(),r.YNc(29,Fi,9,4,"tr",3),r.qZA(),r.qZA(),r.TgZ(30,"div",10),r.TgZ(31,"button",5),r.NdJ("click",function(){return e.openPDF2()}),r._uU(32,"Open PDF"),r.qZA(),r.TgZ(33,"button",11),r.NdJ("click",function(){return e.downloadPDF()}),r._uU(34,"Download PDF"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(11),r.Q6J("ngForOf",e.USERS),r.xp6(18),r.Q6J("ngForOf",e.USERS))},directives:[T],styles:[""]}),t})();var ji=n(9765),qi=n(7971);class Bi extends ji.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qi.N;return this._value}next(t){super.next(this._value=t)}}var Ui=n(3637),zi=n(5917),Vi=n(6682),Hi=n(8819),Wi=n(5345);function Gi(t,e){return"function"==typeof e?n=>n.pipe(Gi((n,r)=>(0,Ct.D)(t(n,r)).pipe((0,At.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Zi(t))}class Zi{constructor(t){this.project=t}call(t,e){return e.subscribe(new $i(t,this.project))}}class $i extends Wi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(Fs){return void this.destination.error(Fs)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wi.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Wi.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Yi=n(7393);function Ki(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Qi(t,e,n))}}class Qi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ji(t,this.accumulator,this.seed,this.hasSeed))}}class Ji extends Yi.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Xi(t,e){return n=>n.lift(new ts(t,e))}class ts{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new es(t,this.compare,this.keySelector))}}class es extends Yi.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class ns extends Yi.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class rs extends Yi.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var is=n(7444);function ss(t,e,n,r,i=new rs(t,n,r)){if(!i.closed)return e instanceof kt.y?e.subscribe(i):(0,is.s)(e)(i)}class os{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new as(t,this.observables,this.project))}}class as extends ns{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(ss(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class ls{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new cs(t,this.predicate))}}class cs extends Yi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var us=n(4459),hs=n(8939),ds=(n(2755),n(156)),fs=n(8604),ps=n(6304),gs=n(279),ms=n(3854),ys=n(9306);const _s="@firebase/database",vs="0.12.4";let bs="";function ws(t){bs=t}class Ss{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ms.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ms.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Cs{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ms.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const ks=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ss(e)}}catch(Dr){}return new Cs},xs=ks("localStorage"),As=ks("sessionStorage"),Es=new ys.Yd("@firebase/database"),Is=function(){let t=1;return function(){return t++}}(),Ts=function(t){const e=(0,ms.dS)(t),n=new ms.gQ;n.update(e);const r=n.digest();return ms.US.encodeByteArray(r)},Ns=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ns.apply(null,r):e+="object"==typeof r?(0,ms.Pz)(r):r,e+=" "}return e};let Ps=null,Ls=!0;const Rs=function(t,e){(0,ms.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Es.logLevel=ys.in.VERBOSE,Ps=Es.log.bind(Es),e&&As.set("logging_enabled",!0)):"function"==typeof t?Ps=t:(Ps=null,As.remove("logging_enabled"))},Os=function(...t){if(!0===Ls&&(Ls=!1,null===Ps&&!0===As.get("logging_enabled")&&Rs(!0)),Ps){const e=Ns.apply(null,t);Ps(e)}},Ds=function(t){return function(...e){Os(t,...e)}},Fs=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ns(...t);Es.error(e)},Ms=function(...t){const e=`FIREBASE FATAL ERROR: ${Ns(...t)}`;throw Es.error(e),new Error(e)},js=function(...t){const e="FIREBASE WARNING: "+Ns(...t);Es.warn(e)},qs=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Bs="[MIN_NAME]",Us="[MAX_NAME]",zs=function(t,e){if(t===e)return 0;if(t===Bs||e===Us)return-1;if(e===Bs||t===Us)return 1;{const n=Ks(t),r=Ks(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Vs=function(t,e){return t===e?0:t<e?-1:1},Hs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,ms.Pz)(e))},Ws=function(t){if("object"!=typeof t||null===t)return(0,ms.Pz)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,ms.Pz)(e[r]),n+=":",n+=Ws(t[e[r]]);return n+="}",n},Gs=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Zs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $s=function(t){let e,n,r,i,s;(0,ms.hu)(!qs(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let t=parseInt(a.substr(s,8),2).toString(16);1===t.length&&(t="0"+t),l+=t}return l.toLowerCase()},Ys=new RegExp("^-?(0*)\\d{1,10}$"),Ks=function(t){if(Ys.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Qs=function(t){try{t()}catch(Dr){setTimeout(()=>{throw js("Exception was thrown by user callback.",Dr.stack||""),Dr},Math.floor(0))}},Js=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class Xs{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(t=>this.appCheck=t)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class to{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(t=>this.auth_=t)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(t=>t&&"auth/token-not-initialized"===t.code?(Os("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',js(t)}}let eo=(()=>{class t{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const no=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ro="websocket",io="long_polling";class so{constructor(t,e,n,r,i=!1,s="",o=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xs.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function oo(t,e,n){let r;if((0,ms.hu)("string"==typeof e,"typeof type must == string"),(0,ms.hu)("object"==typeof n,"typeof params must == object"),e===ro)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==io)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Zs(n,(t,e)=>{i.push(t+"="+e)}),r+i.join("&")}class ao{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ms.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ms.p$)(this.counters_)}}const lo={},co={};function uo(t){const e=t.toString();return lo[e]||(lo[e]=new ao),lo[e]}class ho{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&Qs(()=>{this.onMessage_(t[e])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class fo{constructor(t,e,n,r,i,s,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ds(t),this.stats_=uo(e),this.urlFn=t=>(this.appCheckToken&&(t.ac=this.appCheckToken),oo(e,io,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ho(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,ms.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new po((...t)=>{const[e,n,r,i,s]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===e)this.id=n,this.password=r;else{if("close"!==e)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)},()=>{this.onClosed_()},this.urlFn);const t={start:"t"};t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&no.test(location.hostname)&&(t.r="f");const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fo.forceAllow_=!0}static forceDisallow(){fo.forceDisallow_=!0}static isAvailable(){return!((0,ms.Yr)()||!fo.forceAllow_&&(fo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ms.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,ms.h$)(e),r=Gs(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ms.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ms.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class po{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ms.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Is(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=po.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Dr){Os("frame writing exception"),Dr.stack&&Os(Dr.stack),Os(Dr)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Os("No IE domain setting required")}catch(Dr){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const t=this.pendingSegs.shift();n=n+"&seg"+r+"="+t.seg+"&ts"+r+"="+t.ts+"&d"+r+"="+t.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,ms.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{Os("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Dr){}},Math.floor(1))}}let go=null;"undefined"!=typeof MozWebSocket?go=MozWebSocket:"undefined"!=typeof WebSocket&&(go=WebSocket);let mo=(()=>{class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ds(this.connId),this.stats_=uo(n),this.connURL=t.connectionURL_(n,o,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,e,n,r){const i={v:"5"};return!(0,ms.Yr)()&&"undefined"!=typeof location&&location.hostname&&no.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),oo(t,ro,i)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xs.set("previous_websocket_failure",!0);try{if((0,ms.Yr)()){const t={headers:{"User-Agent":`Firebase/5/${bs}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const e=process.env,n=0===this.connURL.indexOf("wss://")?e.HTTPS_PROXY||e.https_proxy:e.HTTP_PROXY||e.http_proxy;n&&(t.proxy={origin:n}),this.mySock=new go(this.connURL,[],t)}else this.mySock=new go(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Dr){this.log_("Error instantiating WebSocket.");const e=Dr.message||Dr.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==go&&!t.forceDisallow_}static previouslyFailed(){return xs.isInMemoryStorage||!0===xs.get("previous_websocket_failure")}markConnectionHealthy(){xs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=(0,ms.cI)(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ms.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=(0,ms.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=Gs(e,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(Dr){this.log_("Exception thrown from WebSocket.send():",Dr.message||Dr.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class yo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[fo,mo]}initTransports_(t){const e=mo&&mo.isAvailable();let n=e&&!mo.previouslyFailed();if(t.webSocketOnly&&(e||js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[mo];else{const t=this.transports_=[];for(const e of yo.ALL_TRANSPORTS)e&&e.isAvailable()&&t.push(e)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class _o{constructor(t,e,n,r,i,s,o,a,l,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ds("c:"+this.id+":"),this.transportManager_=new yo(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Js(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Hs("t",t),n=Hs("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Hs("t",t),n=Hs("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Hs("t",t);if("d"in t){const n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Fs("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fs("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Js(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Js(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vo{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class bo{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ms.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(t){(0,ms.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wo extends bo{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,ms.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wo}getInitialEvent(t){return(0,ms.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class So{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Co(){return new So("")}function ko(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xo(t){return t.pieces_.length-t.pieceNum_}function Ao(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new So(t.pieces_,e)}function Eo(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Io(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function To(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new So(e,0)}function No(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof So)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new So(n,0)}function Po(t){return t.pieceNum_>=t.pieces_.length}function Lo(t,e){const n=ko(t),r=ko(e);if(null===n)return e;if(n===r)return Lo(Ao(t),Ao(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ro(t,e){const n=Io(t,0),r=Io(e,0);for(let i=0;i<n.length&&i<r.length;i++){const t=zs(n[i],r[i]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function Oo(t,e){if(xo(t)!==xo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Do(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xo(t)>xo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Fo{constructor(t,e){this.errorPrefix_=e,this.parts_=Io(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,ms.ug)(this.parts_[n]);Mo(this)}}function Mo(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jo(t))}function jo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class qo extends bo{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))},!1)}static getInstance(){return new qo}getInitialEvent(t){return(0,ms.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Bo=1e3;let Uo,zo=(()=>{class t extends vo{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,ms.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,ms.Pz)(i)),(0,ms.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(t){this.initConnection_();const e=new ms.BH,n={p:t._path.toString(),q:t._queryObject},r={action:"g",request:n,onComplete:t=>{const r=t.d;"ok"===t.s?(this.onDataUpdate_(n.p,r,!1,null),e.resolve(r)):e.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const t=this.outstandingGets_[i];void 0!==t&&r===t&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),e.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(i),e.promise}listen(t,e,n,r){this.initConnection_();const i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,ms.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ms.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;t.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,o))})}static warnOnListenWarnings_(t,e){if(t&&"object"==typeof t&&(0,ms.r3)(t,"w")){const n=(0,ms.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ms.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=(0,ms.w9)(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,e=>{const n=e.s,r=e.d||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,n=t.d||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)})}unlisten(t,e){const n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,ms.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)}sendUnlisten_(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);const i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,r){const i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,t=>{r&&setTimeout(()=>{r(t.s,t.d)},Math.floor(0))})}put(t,e,n,r){this.putInternal("p",t,e,n,r)}merge(t,e,n,r){this.putInternal("m",t,e,n,r)}putInternal(t,e,n,r,i){this.initConnection_();const s={p:e,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:t,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,t=>{"ok"!==t.s&&this.log_("reportStats","Error sending stats: "+t.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ms.Pz)(t));const e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Fs("Unrecognized action received from server: "+(0,ms.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ms.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ps.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),i=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+t.nextConnectionId_++,o=e.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,i())};e.realtime_={close:c,sendRequest:function(t){(0,ms.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};const u=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[t,c]=yield Promise.all([e.authTokenProvider_.getToken(u),e.appCheckTokenProvider_.getToken(u)]);a?Os("getToken() completed but was canceled"):(Os("getToken() completed. Creating connection."),e.authToken_=t&&t.accessToken,e.appCheckToken_=c&&c.token,l=new _o(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,i,t=>{js(t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},o))}catch(Fs){e.log_("Failed to get token: "+Fs),a||(e.repoInfo_.nodeAdmin&&js(Fs),c())}}})()}interrupt(t){Os("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Os("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ms.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map(t=>Ws(t)).join("$"):"default";const r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const n=new So(t).toString();let r;if(this.listens.has(n)){const t=this.listens.get(n);r=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(t,e){Os("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Os("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";(0,ms.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+bs.replace(/\./g,"-")]=1,(0,ms.uI)()?t["framework.cordova"]=1:(0,ms.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=wo.getInstance().currentlyOnline();return(0,ms.xb)(this.interruptReasons_)&&t}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Vo{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Vo(t,e)}}class Ho{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new Vo(Bs,t),r=new Vo(Bs,e);return 0!==this.compare(n,r)}minPost(){return Vo.MIN}}class Wo extends Ho{static get __EMPTY_NODE(){return Uo}static set __EMPTY_NODE(t){Uo=t}compare(t,e){return zs(t.name,e.name)}isDefinedOn(t){throw(0,ms.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Vo.MIN}maxPost(){return new Vo(Us,Uo)}makePost(t,e){return(0,ms.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Vo(t,Uo)}toString(){return".key"}}const Go=new Wo;class Zo{constructor(t,e,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $o,Yo=(()=>{class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ko.EMPTY_NODE,this.right=null!=s?s:Ko.EMPTY_NODE}copy(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ko.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ko.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ko{constructor(t,e=Ko.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ko(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Yo.BLACK,null,null))}remove(t){return new Ko(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yo.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Zo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Zo(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Zo(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Zo(this.root_,null,this.comparator_,!0,t)}}function Qo(t,e){return zs(t.name,e.name)}function Jo(t,e){return zs(t,e)}Ko.EMPTY_NODE=new class{copy(t,e,n,r,i){return this}insert(t,e,n){return new Yo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xo=function(t){return"number"==typeof t?"number:"+$s(t):"string:"+t},ta=function(t){if(t.isLeafNode()){const e=t.val();(0,ms.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ms.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ms.hu)(t===$o||t.isEmpty(),"priority of unexpected type.");(0,ms.hu)(t===$o||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ea,na,ra,ia=(()=>{class t{constructor(e,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,ms.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ta(this.priorityNode_)}static set __childrenNodeConstructor(t){ea=t}static get __childrenNodeConstructor(){return ea}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Po(e)?this:".priority"===ko(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ko(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,ms.hu)(".priority"!==r||1===xo(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ao(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Xo(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?$s(this.value_):this.value_,this.lazyHash_=Ts(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,ms.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,ms.hu)(i>=0,"Unknown leaf type: "+n),(0,ms.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const sa=new class extends Ho{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?zs(t.name,e.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Vo.MIN}maxPost(){return new Vo(Us,new ia("[PRIORITY-POST]",ra))}makePost(t,e){const n=na(t);return new Vo(e,new ia("[PRIORITY-POST]",n))}toString(){return".priority"}},oa=Math.log(2);class aa{constructor(t){this.count=parseInt(Math.log(t+1)/oa,10),this.current_=this.count-1;const e=(t=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&e}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const la=function(t,e,n,r){t.sort(e);const i=function(e,r){const s=r-e;let o,a;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Yo(a,o.node,Yo.BLACK,null,null);{const l=parseInt(s/2,10)+e,c=i(e,l),u=i(l+1,r);return o=t[l],a=n?n(o):o,new Yo(a,o.node,Yo.BLACK,c,u)}},s=function(e){let r=null,s=null,o=t.length;const a=function(e,r){const s=o-e,a=o;o-=e;const c=i(s+1,a),u=t[s],h=n?n(u):u;l(new Yo(h,u.node,r,null,c))},l=function(t){r?(r.left=t,r=t):(s=t,r=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),r=Math.pow(2,e.count-(t+1));n?a(r,Yo.BLACK):(a(r,Yo.BLACK),a(r,Yo.RED))}return s}(new aa(t.length));return new Ko(r||e,s)};let ca;const ua={};class ha{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ms.hu)(ua&&sa,"ChildrenNode.ts has not been loaded"),ca=ca||new ha({".priority":ua},{".priority":sa}),ca}get(t){const e=(0,ms.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ko?e:null}hasIndex(t){return(0,ms.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ms.hu)(t!==Go,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=e.getIterator(Vo.Wrap);let s,o=i.getNext();for(;o;)r=r||t.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?la(n,t.getCompare()):ua;const a=t.toString(),l=Object.assign({},this.indexSet_);l[a]=t;const c=Object.assign({},this.indexes_);return c[a]=s,new ha(c,l)}addToIndexes(t,e){const n=(0,ms.UI)(this.indexes_,(n,r)=>{const i=(0,ms.DV)(this.indexSet_,r);if((0,ms.hu)(i,"Missing index implementation for "+r),n===ua){if(i.isDefinedOn(t.node)){const n=[],r=e.getIterator(Vo.Wrap);let s=r.getNext();for(;s;)s.name!==t.name&&n.push(s),s=r.getNext();return n.push(t),la(n,i.getCompare())}return ua}{const r=e.get(t.name);let i=n;return r&&(i=i.remove(new Vo(t.name,r))),i.insert(t,t.node)}});return new ha(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,ms.UI)(this.indexes_,n=>{if(n===ua)return n;{const r=e.get(t.name);return r?n.remove(new Vo(t.name,r)):n}});return new ha(n,this.indexSet_)}}let da,fa=(()=>{class t{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ta(this.priorityNode_),this.children_.isEmpty()&&(0,ms.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return da||(da=new t(new Ko(Jo),null,ha.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||da}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?da:e}}getChild(t){const e=ko(t);return null===e?this:this.getImmediateChild(e).getChild(Ao(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(e,n){if((0,ms.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new Vo(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?da:this.priorityNode_;return new t(i,o,s)}}updateChild(t,e){const n=ko(t);if(null===n)return e;{(0,ms.hu)(".priority"!==ko(t)||1===xo(t),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ao(t),e);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(sa,(o,a)=>{n[o]=a.val(e),r++,s&&t.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const t=[];for(const e in n)t[e]=n[e];return t}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Xo(this.getPriority().val())+":"),this.forEachChild(sa,(e,n)=>{const r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":Ts(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Vo(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Vo(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Vo(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal(t=>e(t.name,t.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,t=>t);{const n=this.children_.getIteratorFrom(t.name,Vo.Wrap);let r=n.peek();for(;null!=r&&e.compare(r,t)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,t=>t);{const n=this.children_.getReverseIteratorFrom(t.name,Vo.Wrap);let r=n.peek();for(;null!=r&&e.compare(r,t)>0;)n.getNext(),r=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pa?-1:0}withIndex(e){if(e===Go||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Go||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(sa),n=e.getIterator(sa);let r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(t){return t===Go?null:this.indexMap_.get(t.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const pa=new class extends fa{constructor(){super(new Ko(Jo),fa.EMPTY_NODE,ha.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fa.EMPTY_NODE}isEmpty(){return!1}};function ga(t,e=null){if(null===t)return fa.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,ms.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ia(t,ga(e));if(t instanceof Array){let n=fa.EMPTY_NODE;return Zs(t,(e,r)=>{if((0,ms.r3)(t,e)&&"."!==e.substring(0,1)){const t=ga(r);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}}),n.updatePriority(ga(e))}{const n=[];let r=!1;if(Zs(t,(t,e)=>{if("."!==t.substring(0,1)){const i=ga(e);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Vo(t,i)))}}),0===n.length)return fa.EMPTY_NODE;const i=la(n,Qo,t=>t.name,Jo);if(r){const t=la(n,sa.getCompare());return new fa(i,ga(e),new ha({".priority":t},{".priority":sa}))}return new fa(i,ga(e),ha.Default)}}Object.defineProperties(Vo,{MIN:{value:new Vo(Bs,fa.EMPTY_NODE)},MAX:{value:new Vo(Us,pa)}}),Wo.__EMPTY_NODE=fa.EMPTY_NODE,ia.__childrenNodeConstructor=fa,$o=pa,ra=pa,na=ga;class ma extends Ho{constructor(t){super(),this.indexPath_=t,(0,ms.hu)(!Po(t)&&".priority"!==ko(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?zs(t.name,e.name):i}makePost(t,e){const n=ga(t),r=fa.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vo(e,r)}maxPost(){const t=fa.EMPTY_NODE.updateChild(this.indexPath_,pa);return new Vo(Us,t)}toString(){return Io(this.indexPath_,0).join("/")}}const ya=new class extends Ho{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?zs(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Vo.MIN}maxPost(){return Vo.MAX}makePost(t,e){const n=ga(t);return new Vo(e,n)}toString(){return".value"}},_a="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",va=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=_a.charAt(n%64),n=Math.floor(n/64);(0,ms.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=_a.charAt(e[i]);return(0,ms.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),ba=function(t){if("2147483647"===t)return"-";const e=Ks(t);if(null!=e)return""+(e+1);const n=new Array(t.length);for(let s=0;s<n.length;s++)n[s]=t.charAt(s);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return Us;const i=_a.charAt(_a.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},wa=function(t){if("-2147483648"===t)return Bs;const e=Ks(t);if(null!=e)return""+(e-1);const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=_a.charAt(_a.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Sa(t){return{type:"value",snapshotNode:t}}function Ca(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ka(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Aa{constructor(t){this.index_=t}updateChild(t,e,n,r,i,s){(0,ms.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(e);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ka(e,o)):(0,ms.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Ca(e,n)):s.trackChildChange(xa(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(sa,(t,r)=>{e.hasChild(t)||n.trackChildChange(ka(t,r))}),e.isLeafNode()||e.forEachChild(sa,(e,r)=>{if(t.hasChild(e)){const i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(xa(e,r,i))}else n.trackChildChange(Ca(e,r))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?fa.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ea{constructor(t){this.indexedFilter_=new Aa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ea.getStartPost_(t),this.endPost_=Ea.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,n,r,i,s){return this.matches(new Vo(e,n))||(n=fa.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=fa.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(fa.EMPTY_NODE);const i=this;return e.forEachChild(sa,(t,e)=>{i.matches(new Vo(t,e))||(r=r.updateImmediateChild(t,fa.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ia{constructor(t){this.rangedFilter_=new Ea(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,n,r,i,s){return this.rangedFilter_.matches(new Vo(e,n))||(n=fa.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,s):this.fullLimitUpdateChild_(t,e,n,i,s)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=fa.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;r=fa.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;t.hasNext()&&n<this.limit_;){const e=t.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),e)<=0:this.index_.compare(e,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(e.name,e.node),n++}}else{let t,n,i,s;if(r=e.withIndex(this.index_),r=r.updatePriority(fa.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),t=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else s=r.getIterator(this.index_),t=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const e=s.getNext();!a&&i(t,e)<=0&&(a=!0),a&&o<this.limit_&&i(e,n)<=0?o++:r=r.updateImmediateChild(e.name,fa.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,i){let s;if(this.reverse_){const t=this.index_.getCompare();s=(e,n)=>t(n,e)}else s=this.index_.getCompare();const o=t;(0,ms.hu)(o.numChildren()===this.limit_,"");const a=new Vo(e,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(e)){const t=o.getImmediateChild(e);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===e||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(xa(e,n,t)),o.updateImmediateChild(e,n);{null!=i&&i.trackChildChange(ka(e,t));const n=o.updateImmediateChild(e,fa.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Ca(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?t:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(ka(l.name,l.node)),i.trackChildChange(Ca(e,n))),o.updateImmediateChild(e,n).updateImmediateChild(l.name,fa.EMPTY_NODE)):t}}class Ta{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sa}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ms.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ms.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bs}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ms.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ms.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ms.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sa}copy(){const t=new Ta;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Na(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Pa(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function La(t,e){const n=t.copy();return n.index_=e,n}function Ra(t){const e={};if(t.isDefault())return e;let n;return t.index_===sa?n="$priority":t.index_===ya?n="$value":t.index_===Go?n="$key":((0,ms.hu)(t.index_ instanceof ma,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,ms.Pz)(n),t.startSet_&&(e.startAt=(0,ms.Pz)(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+(0,ms.Pz)(t.indexStartName_))),t.endSet_&&(e.endAt=(0,ms.Pz)(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+(0,ms.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Oa(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==sa&&(e.i=t.index_.toString()),e}class Da extends vo{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ds("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ms.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const s=Da.getListenId_(t,n),o={};this.listens_[s]=o;const a=Ra(t._queryParams);this.restRequest_(i+".json",a,(t,e)=>{let a=e;if(404===t&&(a=null,t=null),null===t&&this.onDataUpdate_(i,a,!1,n),(0,ms.DV)(this.listens_,s)===o){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",r(e,null)}})}unlisten(t,e){const n=Da.getListenId_(t,e);delete this.listens_[n]}get(t){const e=Ra(t._queryParams),n=t._path.toString(),r=new ms.BH;return this.restRequest_(n+".json",e,(t,e)=>{let i=e;404===t&&(i=null,t=null),null===t?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(e.auth=r.accessToken),i&&i.token&&(e.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ms.xO)(e);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,ms.cI)(o.responseText)}catch(Dr){js("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&js("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class Fa{constructor(){this.rootNode_=fa.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ma(){return{value:null,children:new Map}}function ja(t,e,n){if(Po(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ko(e);t.children.has(r)||t.children.set(r,Ma()),ja(t.children.get(r),e=Ao(e),n)}}function qa(t,e){if(Po(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(sa,(e,n)=>{ja(t,new So(e),n)}),qa(t,e)}}if(t.children.size>0){const n=ko(e);return e=Ao(e),t.children.has(n)&&qa(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Ba(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((t,n)=>{e(n,t)})}(t,(t,r)=>{Ba(r,new So(e.toString()+"/"+t),n)})}class Ua{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Zs(this.last_,(t,n)=>{e[t]=e[t]-n}),this.last_=t,e}}class za{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ua(t);const n=1e4+2e4*Math.random();Js(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;Zs(t,(t,r)=>{r>0&&(0,ms.r3)(this.statsToReport_,t)&&(e[t]=r,n=!0)}),n&&this.server_.reportStats(e),Js(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Va=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Va||(Va={})),Va))();function Ha(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Wa{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Va.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Po(this.path)){if(null!=this.affectedTree.value)return(0,ms.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new So(t));return new Wa(Co(),e,this.revert)}}return(0,ms.hu)(ko(this.path)===t,"operationForChild called for unrelated child."),new Wa(Ao(this.path),this.affectedTree,this.revert)}}class Ga{constructor(t,e){this.source=t,this.path=e,this.type=Va.LISTEN_COMPLETE}operationForChild(t){return Po(this.path)?new Ga(this.source,Co()):new Ga(this.source,Ao(this.path))}}class Za{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Va.OVERWRITE}operationForChild(t){return Po(this.path)?new Za(this.source,Co(),this.snap.getImmediateChild(t)):new Za(this.source,Ao(this.path),this.snap)}}class $a{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Va.MERGE}operationForChild(t){if(Po(this.path)){const e=this.children.subtree(new So(t));return e.isEmpty()?null:e.value?new Za(this.source,Co(),e.value):new $a(this.source,Co(),e)}return(0,ms.hu)(ko(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $a(this.source,Ao(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ya{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Po(t))return this.isFullyInitialized()&&!this.filtered_;const e=ko(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Ka{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Qa(t,e,n,r,i,s){const o=r.filter(t=>t.type===n);o.sort((e,n)=>function(t,e,n){if(null==e.childName||null==n.childName)throw(0,ms.g5)("Should only compare child_ events.");const r=new Vo(e.childName,e.snapshotNode),i=new Vo(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)),o.forEach(n=>{const r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(i=>{i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ja(t,e){return{eventCache:t,serverCache:e}}function Xa(t,e,n,r){return Ja(new Ya(e,n,r),t.serverCache)}function tl(t,e,n,r){return Ja(t.eventCache,new Ya(e,n,r))}function el(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let rl;class il{constructor(t,e=(()=>(rl||(rl=new Ko(Vs)),rl))()){this.value=t,this.children=e}static fromObject(t){let e=new il(null);return Zs(t,(t,n)=>{e=e.set(new So(t),n)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Co(),value:this.value};if(Po(t))return null;{const n=ko(t),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Ao(t),e);return null!=i?{path:No(new So(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Po(t))return this;{const e=ko(t),n=this.children.get(e);return null!==n?n.subtree(Ao(t)):new il(null)}}set(t,e){if(Po(t))return new il(e,this.children);{const n=ko(t),r=(this.children.get(n)||new il(null)).set(Ao(t),e),i=this.children.insert(n,r);return new il(this.value,i)}}remove(t){if(Po(t))return this.children.isEmpty()?new il(null):new il(null,this.children);{const e=ko(t),n=this.children.get(e);if(n){const r=n.remove(Ao(t));let i;return i=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&i.isEmpty()?new il(null):new il(this.value,i)}return this}}get(t){if(Po(t))return this.value;{const e=ko(t),n=this.children.get(e);return n?n.get(Ao(t)):null}}setTree(t,e){if(Po(t))return e;{const n=ko(t),r=(this.children.get(n)||new il(null)).setTree(Ao(t),e);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new il(this.value,i)}}fold(t){return this.fold_(Co(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(No(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Co(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(Po(t))return null;{const r=ko(t),i=this.children.get(r);return i?i.findOnPath_(Ao(t),No(e,r),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Co(),e)}foreachOnPath_(t,e,n){if(Po(t))return this;{this.value&&n(e,this.value);const r=ko(t),i=this.children.get(r);return i?i.foreachOnPath_(Ao(t),No(e,r),n):new il(null)}}foreach(t){this.foreach_(Co(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(No(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class sl{constructor(t){this.writeTree_=t}static empty(){return new sl(new il(null))}}function ol(t,e,n){if(Po(e))return new sl(new il(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Lo(i,e);return s=s.updateChild(o,n),new sl(t.writeTree_.set(i,s))}{const r=new il(n),i=t.writeTree_.setTree(e,r);return new sl(i)}}}function al(t,e,n){let r=t;return Zs(n,(t,n)=>{r=ol(r,No(e,t),n)}),r}function ll(t,e){if(Po(e))return sl.empty();{const n=t.writeTree_.setTree(e,new il(null));return new sl(n)}}function cl(t,e){return null!=ul(t,e)}function ul(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Lo(n.path,e)):null}function hl(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(sa,(t,n)=>{e.push(new Vo(t,n))}):t.writeTree_.children.inorderTraversal((t,n)=>{null!=n.value&&e.push(new Vo(t,n.value))}),e}function dl(t,e){if(Po(e))return t;{const n=ul(t,e);return new sl(null!=n?new il(n):t.writeTree_.subtree(e))}}function fl(t){return t.writeTree_.isEmpty()}function pl(t,e){return gl(Co(),t.writeTree_,e)}function gl(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((e,i)=>{".priority"===e?((0,ms.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=gl(No(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(No(t,".priority"),r)),n}}function ml(t,e){return El(e,t)}function yl(t,e){if(t.snap)return Do(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Do(No(t.path,n),e))return!0;return!1}function _l(t){return t.visible}function vl(t,e,n){let r=sl.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const t=s.path;let e;if(s.snap)Do(n,t)?(e=Lo(n,t),r=ol(r,e,s.snap)):Do(t,n)&&(e=Lo(t,n),r=ol(r,Co(),s.snap.getChild(e)));else{if(!s.children)throw(0,ms.g5)("WriteRecord should have .snap or .children");if(Do(n,t))e=Lo(n,t),r=al(r,e,s.children);else if(Do(t,n))if(e=Lo(t,n),Po(e))r=al(r,Co(),s.children);else{const t=(0,ms.DV)(s.children,ko(e));if(t){const n=t.getChild(Ao(e));r=ol(r,Co(),n)}}}}}return r}function bl(t,e,n,r,i){if(r||i){const s=dl(t.visibleWrites,e);return!i&&fl(s)?n:i||null!=n||cl(s,Co())?pl(vl(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Do(t.path,e)||Do(e,t.path))},e),n||fa.EMPTY_NODE):null}{const r=ul(t.visibleWrites,e);if(null!=r)return r;{const r=dl(t.visibleWrites,e);return fl(r)?n:null!=n||cl(r,Co())?pl(r,n||fa.EMPTY_NODE):null}}}function wl(t,e,n,r){return bl(t.writeTree,t.treePath,e,n,r)}function Sl(t,e){return function(t,e,n){let r=fa.EMPTY_NODE;const i=ul(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(sa,(t,e)=>{r=r.updateImmediateChild(t,e)}),r;if(n){const i=dl(t.visibleWrites,e);return n.forEachChild(sa,(t,e)=>{const n=pl(dl(i,new So(t)),e);r=r.updateImmediateChild(t,n)}),hl(i).forEach(t=>{r=r.updateImmediateChild(t.name,t.node)}),r}return hl(dl(t.visibleWrites,e)).forEach(t=>{r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function Cl(t,e,n,r){return function(t,e,n,r,i){(0,ms.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=No(e,n);if(cl(t.visibleWrites,s))return null;{const e=dl(t.visibleWrites,s);return fl(e)?i.getChild(n):pl(e,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function kl(t,e){return function(t,e){return ul(t.visibleWrites,e)}(t.writeTree,No(t.treePath,e))}function xl(t,e,n){return function(t,e,n,r){const i=No(e,n),s=ul(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?pl(dl(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Al(t,e){return El(No(t.treePath,e),t.writeTree)}function El(t,e){return{treePath:t,writeTree:e}}class Il{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,ms.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ms.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,xa(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ka(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Ca(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,ms.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,xa(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const Tl=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class Nl{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new Ya(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xl(this.writes_,t,e)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nl(this.viewCache_),i=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){let a;const l=dl(t.visibleWrites,e),c=ul(l,Co());if(null!=c)a=c;else{if(null==n)return[];a=pl(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let i=n.getNext();for(;i&&t.length<1;)0!==e(i,r)&&t.push(i),i=n.getNext();return t}}(t.writeTree,t.treePath,e,n,0,i,s)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]}}function Pl(t,e,n,r,i,s){const o=e.eventCache;if(null!=kl(r,n))return e;{let a,l;if(Po(n))if((0,ms.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=nl(e),i=Sl(r,n instanceof fa?n:fa.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),i,s)}else{const n=wl(r,nl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),n,s)}else{const c=ko(n);if(".priority"===c){(0,ms.hu)(1===xo(n),"Can't have a priority with additional path components");const i=o.getNode();l=e.serverCache.getNode();const s=Cl(r,n,i,l);a=null!=s?t.filter.updatePriority(i,s):o.getNode()}else{const u=Ao(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const t=Cl(r,n,o.getNode(),l);h=null!=t?o.getNode().getImmediateChild(c).updateChild(u,t):o.getNode().getImmediateChild(c)}else h=xl(r,c,e.serverCache);a=null!=h?t.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return Xa(e,a,o.isFullyInitialized()||Po(n),t.filter.filtersNodes())}}function Ll(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Po(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const t=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),t,null)}else{const t=ko(n);if(!l.isCompleteForPath(n)&&xo(n)>1)return e;const i=Ao(n),s=l.getNode().getImmediateChild(t).updateChild(i,r);c=".priority"===t?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),t,s,i,Tl,null)}const h=tl(e,c,l.isFullyInitialized()||Po(n),u.filtersNodes());return Pl(t,h,n,i,new Nl(i,h,s),a)}function Rl(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Nl(i,e,s);if(Po(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Xa(e,c,!0,t.filter.filtersNodes());else{const i=ko(n);if(".priority"===i)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Xa(e,c,a.isFullyInitialized(),a.isFiltered());else{const s=Ao(n),c=a.getNode().getImmediateChild(i);let h;if(Po(s))h=r;else{const t=u.getCompleteChild(i);h=null!=t?".priority"===Eo(s)&&t.getChild(To(s)).isEmpty()?t:t.updateChild(s,r):fa.EMPTY_NODE}l=c.equals(h)?e:Xa(e,t.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function Ol(t,e){return t.eventCache.isCompleteForChild(e)}function Dl(t,e,n){return n.foreach((t,n)=>{e=e.updateChild(t,n)}),e}function Fl(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Po(n)?r:new il(null).setTree(n,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Dl(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ll(t,c,new So(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=Dl(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ll(t,c,new So(n),l,i,s,o,a)}}),c}class Ml{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Aa(n.getIndex()),i=(s=n).loadsAllData()?new Aa(s.getIndex()):s.hasLimit()?new Ia(s):new Ea(s);var s;this.processor_=function(t){return{filter:t}}(i);const o=e.serverCache,a=e.eventCache,l=r.updateFullNode(fa.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(fa.EMPTY_NODE,a.getNode(),null),u=new Ya(l,o.isFullyInitialized(),r.filtersNodes()),h=new Ya(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ja(h,u),this.eventGenerator_=new Ka(this.query_)}get query(){return this.query_}}function jl(t,e){const n=nl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Po(e)&&!n.getImmediateChild(ko(e)).isEmpty())?n.getChild(e):null}function ql(t){return 0===t.eventRegistrations_.length}function Bl(t,e,n){const r=[];if(n){(0,ms.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(t=>{const e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){let n=[];for(let r=0;r<t.eventRegistrations_.length;++r){const i=t.eventRegistrations_[r];if(i.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(r+1));break}}else n.push(i)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return r}function Ul(t,e,n,r){e.type===Va.MERGE&&null!==e.source.queryId&&((0,ms.hu)(nl(t.viewCache_),"We should always have a full cache before handling merges"),(0,ms.hu)(el(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function(t,e,n,r,i){const s=new Il;let o,a;if(n.type===Va.OVERWRITE){const l=n;l.source.fromUser?o=Rl(t,e,l.path,l.snap,r,i,s):((0,ms.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Po(l.path),o=Ll(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Va.MERGE){const l=n;l.source.fromUser?o=function(t,e,n,r,i,s,o){let a=e;return r.foreach((r,l)=>{const c=No(n,r);Ol(e,ko(c))&&(a=Rl(t,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=No(n,r);Ol(e,ko(c))||(a=Rl(t,a,c,l,i,s,o))}),a}(t,e,l.path,l.children,r,i,s):((0,ms.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Fl(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Va.ACK_USER_WRITE){const a=n;o=a.revert?function(t,e,n,r,i,s){let o;if(null!=kl(r,n))return e;{const a=new Nl(r,e,i),l=e.eventCache.getNode();let c;if(Po(n)||".priority"===ko(n)){let n;if(e.serverCache.isFullyInitialized())n=wl(r,nl(e));else{const t=e.serverCache.getNode();(0,ms.hu)(t instanceof fa,"serverChildren would be complete if leaf node"),n=Sl(r,t)}n=n,c=t.filter.updateFullNode(l,n,s)}else{const i=ko(n);let u=xl(r,i,e.serverCache);null==u&&e.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?t.filter.updateChild(l,i,u,Ao(n),a,s):e.eventCache.getNode().hasChild(i)?t.filter.updateChild(l,i,fa.EMPTY_NODE,Ao(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wl(r,nl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=kl(r,Co()),Xa(e,c,o,t.filter.filtersNodes())}}(t,e,a.path,r,i,s):function(t,e,n,r,i,s,o){if(null!=kl(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Po(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ll(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Po(n)){let r=new il(null);return l.getNode().forEachChild(Go,(t,e)=>{r=r.set(new So(t),e)}),Fl(t,e,n,r,i,s,a,o)}return e}{let c=new il(null);return r.foreach((t,e)=>{const r=No(n,t);l.isCompleteForPath(r)&&(c=c.set(t,l.getNode().getChild(r)))}),Fl(t,e,n,c,i,s,a,o)}}(t,e,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Va.LISTEN_COMPLETE)throw(0,ms.g5)("Unknown operation type: "+n.type);o=function(t,e,n,r,i){const s=e.serverCache;return Pl(t,tl(e,s.getNode(),s.isFullyInitialized()||Po(n),s.isFiltered()),n,r,Tl,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=el(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Sa(el(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);var o,a;return o=t.processor_,(0,ms.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,ms.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,ms.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,zl(t,s.changes,s.viewCache.eventCache.getNode(),null)}function zl(t,e,n,r){return function(t,e,n,r){const i=[],s=[];return e.forEach(e=>{"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Qa(t,i,"child_removed",e,r,n),Qa(t,i,"child_added",e,r,n),Qa(t,i,"child_moved",s,r,n),Qa(t,i,"child_changed",e,r,n),Qa(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Vl,Hl;class Wl{constructor(){this.views=new Map}}function Gl(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return(0,ms.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Ul(s,e,n,r)}{let i=[];for(const s of t.views.values())i=i.concat(Ul(s,e,n,r));return i}}function Zl(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let t=wl(n,i?r:null),s=!1;t?s=!0:r instanceof fa?(t=Sl(n,r),s=!1):(t=fa.EMPTY_NODE,s=!1);const o=Ja(new Ya(t,s,!1),new Ya(r,i,!1));return new Ml(e,o)}return s}function $l(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yl(t,e){let n=null;for(const r of t.views.values())n=n||jl(r,e);return n}function Kl(t,e){return e._queryParams.loadsAllData()?Xl(t):t.views.get(e._queryIdentifier)}function Ql(t,e){return null!=Kl(t,e)}function Jl(t){return null!=Xl(t)}function Xl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let tc=1;class ec{constructor(t){this.listenProvider_=t,this.syncPointTree_=new il(null),this.pendingWriteTree_={visibleWrites:sl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nc(t,e,n,r,i){return function(t,e,n,r,i){(0,ms.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ol(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?lc(t,new Za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function rc(t,e,n=!1){const r=function(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(t=>t.writeId===e);(0,ms.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const e=t.allWrites[o];e.visible&&(o>=n&&yl(e,r.path)?i=!1:Do(r.path,e.path)&&(s=!0)),o--}return!!i&&(s?(function(t){t.visibleWrites=vl(t.allWrites,_l,Co()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=ll(t.visibleWrites,r.path):Zs(r.children,e=>{t.visibleWrites=ll(t.visibleWrites,No(r.path,e))}),!0))}(t.pendingWriteTree_,e)){let e=new il(null);return null!=r.snap?e=e.set(Co(),!0):Zs(r.children,t=>{e=e.set(new So(t),!0)}),lc(t,new Wa(r.path,e,n))}return[]}function ic(t,e,n){return lc(t,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function sc(t,e,n,r){const i=e._path,s=t.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||Ql(s,e))){const a=function(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Jl(t);if("default"===i)for(const[l,c]of t.views.entries())o=o.concat(Bl(c,n,r)),ql(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const e=t.views.get(i);e&&(o=o.concat(Bl(e,n,r)),ql(e)&&(t.views.delete(i),e.query._queryParams.loadsAllData()||s.push(e.query)))}return a&&!Jl(t)&&s.push(new((0,ms.hu)(Vl,"Reference.ts has not been loaded"),Vl)(e._repo,e._path)),{removed:s,events:o}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(t=>t._queryParams.loadsAllData()),u=t.syncPointTree_.findOnPath(i,(t,e)=>Jl(e));if(c&&!u){const e=t.syncPointTree_.subtree(i);if(!e.isEmpty()){const n=function(t){return t.fold((t,e,n)=>{if(e&&Jl(e))return[Xl(e)];{let t=[];return e&&(t=$l(e)),Zs(n,(e,n)=>{t=t.concat(n)}),t}})}(e);for(let e=0;e<n.length;++e){const r=n[e],i=r.query,s=hc(t,r);t.listenProvider_.startListening(yc(i),dc(t,i),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const n=null;t.listenProvider_.stopListening(yc(e),n)}else l.forEach(e=>{const n=t.queryToTagMap.get(fc(e));t.listenProvider_.stopListening(yc(e),n)});!function(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const e=fc(r),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}(t,l)}return o}function oc(t,e,n){const r=e._path;let i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(t,e)=>{const n=Lo(t,r);i=i||Yl(e,n),s=s||Jl(e)});let o,a=t.syncPointTree_.get(r);a?(s=s||Jl(a),i=i||Yl(a,Co())):(a=new Wl,t.syncPointTree_=t.syncPointTree_.set(r,a)),null!=i?o=!0:(o=!1,i=fa.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((t,e)=>{const n=Yl(e,Co());n&&(i=i.updateImmediateChild(t,n))}));const l=Ql(a,e);if(!l&&!e._queryParams.loadsAllData()){const n=fc(e);(0,ms.hu)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=tc++;t.queryToTagMap.set(n,r),t.tagToQueryMap.set(r,n)}let c=function(t,e,n,r,i,s){const o=Zl(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sa,(t,e)=>{r.push(Ca(t,e))}),n.isFullyInitialized()&&r.push(Sa(n.getNode())),zl(t,r,n.getNode(),e)}(o,n)}(a,e,n,ml(t.pendingWriteTree_,r),i,o);if(!l&&!s){const n=Kl(a,e);c=c.concat(function(t,e,n){const r=e._path,i=dc(t,e),s=hc(t,n),o=t.listenProvider_.startListening(yc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,ms.hu)(!Jl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const e=a.fold((t,e,n)=>{if(!Po(t)&&e&&Jl(e))return[Xl(e).query];{let t=[];return e&&(t=t.concat($l(e).map(t=>t.query))),Zs(n,(e,n)=>{t=t.concat(n)}),t}});for(let n=0;n<e.length;++n){const r=e[n];t.listenProvider_.stopListening(yc(r),dc(t,r))}}return o}(t,e,n))}return c}function ac(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(t,n)=>{const r=Yl(n,Lo(t,e));if(r)return r});return bl(r,e,i,n,!0)}function lc(t,e){return cc(e,t.syncPointTree_,null,ml(t.pendingWriteTree_,Co()))}function cc(t,e,n,r){if(Po(t.path))return uc(t,e,n,r);{const i=e.get(Co());null==n&&null!=i&&(n=Yl(i,Co()));let s=[];const o=ko(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const t=n?n.getImmediateChild(o):null,e=Al(r,o);s=s.concat(cc(a,l,t,e))}return i&&(s=s.concat(Gl(i,t,r,n))),s}}function uc(t,e,n,r){const i=e.get(Co());null==n&&null!=i&&(n=Yl(i,Co()));let s=[];return e.children.inorderTraversal((e,i)=>{const o=n?n.getImmediateChild(e):null,a=Al(r,e),l=t.operationForChild(e);l&&(s=s.concat(uc(l,i,o,a)))}),i&&(s=s.concat(Gl(i,t,r,n))),s}function hc(t,e){const n=e.query,r=dc(t,n);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(e)||fa.EMPTY_NODE).hash(),onComplete:e=>{if("ok"===e)return r?function(t,e,n){const r=pc(t,n);if(r){const n=gc(r),i=n.path,s=n.queryId,o=Lo(i,e);return mc(t,i,new Ga(Ha(s),o))}return[]}(t,n._path,r):function(t,e){return lc(t,new Ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const r=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return sc(t,n,null,r)}}}}function dc(t,e){const n=fc(e);return t.queryToTagMap.get(n)}function fc(t){return t._path.toString()+"$"+t._queryIdentifier}function pc(t,e){return t.tagToQueryMap.get(e)}function gc(t){const e=t.indexOf("$");return(0,ms.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new So(t.substr(0,e))}}function mc(t,e,n){const r=t.syncPointTree_.get(e);return(0,ms.hu)(r,"Missing sync point for query tag that we're tracking"),Gl(r,n,ml(t.pendingWriteTree_,e),null)}function yc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,ms.hu)(Hl,"Reference.ts has not been loaded"),Hl)(t._repo,t._path):t}class _c{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new _c(e)}node(){return this.node_}}class vc{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=No(this.path_,t);return new vc(this.syncTree_,e)}node(){return ac(this.syncTree_,this.path_)}}const bc=function(t,e,n){return t&&"object"==typeof t?((0,ms.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?wc(t[".sv"],e,n):"object"==typeof t[".sv"]?Sc(t[".sv"],e):void(0,ms.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},wc=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,ms.hu)(!1,"Unexpected server value: "+t)}},Sc=function(t,e,n){t.hasOwnProperty("increment")||(0,ms.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,ms.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,ms.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Cc=function(t,e,n,r){return xc(e,new vc(n,t),r)},kc=function(t,e,n){return xc(t,new _c(e),n)};function xc(t,e,n){const r=t.getPriority().val(),i=bc(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const r=t,s=bc(r.getValue(),e,n);return s!==r.getValue()||i!==r.getPriority().val()?new ia(s,ga(i)):t}{const r=t;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new ia(i))),r.forEachChild(sa,(t,r)=>{const i=xc(r,e.getImmediateChild(t),n);i!==r&&(s=s.updateImmediateChild(t,i))}),s}}class Ac{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Ec(t,e){let n=e instanceof So?e:new So(e),r=t,i=ko(n);for(;null!==i;){const t=(0,ms.DV)(r.node.children,i)||{children:{},childCount:0};r=new Ac(i,r,t),n=Ao(n),i=ko(n)}return r}function Ic(t){return t.node.value}function Tc(t,e){t.node.value=e,Oc(t)}function Nc(t){return t.node.childCount>0}function Pc(t,e){Zs(t.node.children,(n,r)=>{e(new Ac(n,t,r))})}function Lc(t,e,n,r){n&&!r&&e(t),Pc(t,t=>{Lc(t,e,!0,r)}),n&&r&&e(t)}function Rc(t){return new So(null===t.parent?t.name:Rc(t.parent)+"/"+t.name)}function Oc(t){null!==t.parent&&function(t,e,n){const r=function(t){return void 0===Ic(t)&&!Nc(t)}(n),i=(0,ms.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Oc(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Oc(t))}(t.parent,t.name,t)}const Dc=/[\[\].#$\/\u0000-\u001F\u007F]/,Fc=/[\[\].#$\u0000-\u001F\u007F]/,Mc=10485760,jc=function(t){return"string"==typeof t&&0!==t.length&&!Dc.test(t)},qc=function(t){return"string"==typeof t&&0!==t.length&&!Fc.test(t)},Bc=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!qs(t)||t&&"object"==typeof t&&(0,ms.r3)(t,".sv")},Uc=function(t,e,n,r){r&&void 0===e||zc((0,ms.gK)(t,"value"),e,n)},zc=function(t,e,n){const r=n instanceof So?new Fo(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+jo(r));if("function"==typeof e)throw new Error(t+"contains a function "+jo(r)+" with contents = "+e.toString());if(qs(e))throw new Error(t+"contains "+e.toString()+" "+jo(r));if("string"==typeof e&&e.length>Mc/3&&(0,ms.ug)(e)>Mc)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+jo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let n=!1,i=!1;if(Zs(e,(e,s)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!jc(e)))throw new Error(t+" contains an invalid key ("+e+") "+jo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,ms.ug)(e),Mo(t)}(r,e),zc(t,s,r),function(t){const e=t.parts_.pop();t.byteLength_-=(0,ms.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),n&&i)throw new Error(t+' contains ".value" child '+jo(r)+" in addition to actual children.")}},Vc=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,ms.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Zs(e,(t,e)=>{const r=new So(t);if(zc(i,e,No(n,r)),".priority"===Eo(r)&&!Bc(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Io(r);for(let e=0;e<i.length;e++)if(".priority"===i[e]&&e===i.length-1);else if(!jc(i[e]))throw new Error(t+"contains an invalid key ("+i[e]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ro);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Do(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Hc=function(t,e,n){if(!n||void 0!==e){if(qs(e))throw new Error((0,ms.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bc(e))throw new Error((0,ms.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wc=function(t,e,n,r){if(!(r&&void 0===n||jc(n)))throw new Error((0,ms.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gc=function(t,e,n,r){if(!(r&&void 0===n||qc(n)))throw new Error((0,ms.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zc=function(t,e){if(".info"===ko(e))throw new Error(t+" failed = Can't modify data under /.info/")},$c=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jc(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qc(t)}(n))throw new Error((0,ms.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null===n||Oo(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qc(t,e,n){Kc(t,n),Xc(t,t=>Oo(t,e))}function Jc(t,e,n){Kc(t,n),Xc(t,t=>Do(t,e)||Do(e,t))}function Xc(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(tu(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function tu(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ps&&Os("event: "+n.toString()),Qs(r)}}}const eu="repo_interrupt";class nu{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new Ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ru(t){const e=t.infoData_.getNode(new So(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function iu(t){return(e=(e={timestamp:ru(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function su(t,e,n,r,i){t.dataUpdateCount++;const s=new So(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const e=(0,ms.UI)(n,t=>ga(t));o=function(t,e,n,r){const i=pc(t,r);if(i){const r=gc(i),s=r.path,o=r.queryId,a=Lo(s,e),l=il.fromObject(n);return mc(t,s,new $a(Ha(o),a,l))}return[]}(t.serverSyncTree_,s,e,i)}else{const e=ga(n);o=function(t,e,n,r){const i=pc(t,r);if(null!=i){const r=gc(i),s=r.path,o=r.queryId,a=Lo(s,e);return mc(t,s,new Za(Ha(o),a,n))}return[]}(t.serverSyncTree_,s,e,i)}else if(r){const e=(0,ms.UI)(n,t=>ga(t));o=function(t,e,n){const r=il.fromObject(n);return lc(t,new $a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,e)}else{const e=ga(n);o=ic(t.serverSyncTree_,s,e)}let a=s;o.length>0&&(a=_u(t,s)),Jc(t.eventQueue_,a,o)}function ou(t,e){au(t,"connected",e),!1===e&&function(t){pu(t,"onDisconnectEvents");const e=iu(t),n=Ma();Ba(t.onDisconnect_,Co(),(r,i)=>{const s=Cc(r,i,t.serverSyncTree_,e);ja(n,r,s)});let r=[];Ba(n,Co(),(e,n)=>{r=r.concat(ic(t.serverSyncTree_,e,n));const i=Cu(t,e);_u(t,i)}),t.onDisconnect_=Ma(),Jc(t.eventQueue_,Co(),r)}(t)}function au(t,e,n){const r=new So("/.info/"+e),i=ga(n);t.infoData_.updateSnapshot(r,i);const s=ic(t.infoSyncTree_,r,i);Jc(t.eventQueue_,r,s)}function lu(t){return t.nextWriteId_++}function cu(t,e,n,r,i){pu(t,"set",{path:e.toString(),value:n,priority:r});const s=iu(t),o=ga(n,r),a=ac(t.serverSyncTree_,e),l=kc(o,a,s),c=lu(t),u=nc(t.serverSyncTree_,e,l,c,!0);Kc(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||js("set at "+e+" failed: "+n);const o=rc(t.serverSyncTree_,c,!s);Jc(t.eventQueue_,e,o),gu(0,i,n,r)});const h=Cu(t,e);_u(t,h),Jc(t.eventQueue_,h,[])}function uu(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&qa(t.onDisconnect_,e),gu(0,n,r,i)})}function hu(t,e,n,r){const i=ga(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(n,s)=>{"ok"===n&&ja(t.onDisconnect_,e,i),gu(0,r,n,s)})}function du(t,e,n){let r;r=".info"===ko(e._path)?sc(t.infoSyncTree_,e,n):sc(t.serverSyncTree_,e,n),Qc(t.eventQueue_,e._path,r)}function fu(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eu)}function pu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Os(n,...e)}function gu(t,e,n,r){e&&Qs(()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let i=t;r&&(i+=": "+r);const s=new Error(i);s.code=t,e(s)}})}function mu(t,e,n){return ac(t.serverSyncTree_,e,n)||fa.EMPTY_NODE}function yu(t,e=t.transactionQueueTree_){if(e||Su(t,e),Ic(e)){const n=bu(t,e);(0,ms.hu)(n.length>0,"Sending zero length transaction queue"),n.every(t=>0===t.status)&&function(t,e,n){const r=n.map(t=>t.currentWriteId),i=mu(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const t=n[c];(0,ms.hu)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const r=Lo(e,t.path);s=s.updateChild(r,t.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,r=>{pu(t,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let e=0;e<n.length;e++)n[e].status=2,i=i.concat(rc(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&r.push(()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)),n[e].unwatcher();Su(t,Ec(t.transactionQueueTree_,e)),yu(t,t.transactionQueueTree_),Jc(t.eventQueue_,e,i);for(let t=0;t<r.length;t++)Qs(r[t])}else{if("datastale"===r)for(let t=0;t<n.length;t++)n[t].status=3===n[t].status?4:0;else{js("transaction at "+l.toString()+" failed: "+r);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=r}_u(t,e)}},o)}(t,Rc(e),n)}else Nc(e)&&Pc(e,e=>{yu(t,e)})}function _u(t,e){const n=vu(t,e),r=Rc(n);return function(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(t=>0===t.status).map(t=>t.currentWriteId);for(let o=0;o<e.length;o++){const a=e[o],l=Lo(n,a.path);let c,u=!1;if((0,ms.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,i=i.concat(rc(t.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",i=i.concat(rc(t.serverSyncTree_,a.currentWriteId,!0));else{const n=mu(t,a.path,s);a.currentInputSnapshot=n;const r=e[o].update(n.val());if(void 0!==r){zc("transaction failed: Data returned ",r,a.path);let e=ga(r);"object"==typeof r&&null!=r&&(0,ms.r3)(r,".priority")||(e=e.updatePriority(n.getPriority()));const o=a.currentWriteId,l=iu(t),c=kc(e,n,l);a.currentOutputSnapshotRaw=e,a.currentOutputSnapshotResolved=c,a.currentWriteId=lu(t),s.splice(s.indexOf(o),1),i=i.concat(nc(t.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(rc(t.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(rc(t.serverSyncTree_,a.currentWriteId,!0))}Jc(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete&&r.push("nodata"===c?()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot):()=>e[o].onComplete(new Error(c),!1,null)))}Su(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Qs(r[o]);yu(t,t.transactionQueueTree_)}(t,bu(t,n),r),r}function vu(t,e){let n,r=t.transactionQueueTree_;for(n=ko(e);null!==n&&void 0===Ic(r);)r=Ec(r,n),n=ko(e=Ao(e));return r}function bu(t,e){const n=[];return wu(t,e,n),n.sort((t,e)=>t.order-e.order),n}function wu(t,e,n){const r=Ic(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pc(e,e=>{wu(t,e,n)})}function Su(t,e){const n=Ic(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,Tc(e,n.length>0?n:void 0)}Pc(e,e=>{Su(t,e)})}function Cu(t,e){const n=Rc(vu(t,e)),r=Ec(t.transactionQueueTree_,e);return function(t,e,n){let r=t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,e=>{ku(t,e)}),ku(t,r),Lc(r,e=>{ku(t,e)}),n}function ku(t,e){const n=Ic(e);if(n){const r=[];let i=[],s=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?((0,ms.hu)(s===e-1,"All SENT items should be at beginning of queue."),s=e,n[e].status=3,n[e].abortReason="set"):((0,ms.hu)(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),i=i.concat(rc(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&r.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Tc(e,void 0):n.length=s+1,Jc(t.eventQueue_,Rc(e),i);for(let t=0;t<r.length;t++)Qs(r[t])}}const xu=function(t,e){const n=Au(t),r=n.namespace;return"firebase.com"===n.domain&&Ms(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new so(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new So(n.pathString)}},Au=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let t=n[r];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(Dr){}e+="/"+t}return e}(t.substring(u,h)));const d=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):js(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const t=e.indexOf(".");r=e.substring(0,t).toLowerCase(),n=e.substring(t+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Eu{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ms.Pz)(this.snapshot.exportVal())}}class Iu{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tu{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ms.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Nu{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ms.BH;return uu(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Zc("OnDisconnect.remove",this._path);const t=new ms.BH;return hu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Zc("OnDisconnect.set",this._path),Uc("OnDisconnect.set",t,this._path,!1);const e=new ms.BH;return hu(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Zc("OnDisconnect.setWithPriority",this._path),Uc("OnDisconnect.setWithPriority",t,this._path,!1),Hc("OnDisconnect.setWithPriority",e,!1);const n=new ms.BH;return function(t,e,n,r,i){const s=ga(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(n,r)=>{"ok"===n&&ja(t.onDisconnect_,e,s),gu(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Zc("OnDisconnect.update",this._path),Vc("OnDisconnect.update",t,this._path,!1);const e=new ms.BH;return function(t,e,n,r){if((0,ms.xb)(n))return Os("onDisconnect().update() called with empty data.  Don't do anything."),void gu(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{"ok"===i&&Zs(n,(n,r)=>{const i=ga(r);ja(t.onDisconnect_,No(e,n),i)}),gu(0,r,i,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Pu{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return Po(this._path)?null:Eo(this._path)}get ref(){return new Du(this._repo,this._path)}get _queryIdentifier(){const t=Oa(this._queryParams),e=Ws(t);return"{}"===e?"default":e}get _queryObject(){return Oa(this._queryParams)}isEqual(t){if(!((t=(0,ms.m9)(t))instanceof Pu))return!1;const e=this._repo===t._repo,n=Oo(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function Lu(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ru(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Go){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Bs)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Us)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===sa){if(null!=e&&!Bc(e)||null!=n&&!Bc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ms.hu)(t.getIndex()instanceof ma||t.getIndex()===ya,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ou(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Du extends Pu{constructor(t,e){super(t,e,new Ta,!1)}get parent(){const t=To(this._path);return null===t?null:new Du(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Fu{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new So(t),n=qu(this.ref,t);return new Fu(this._node.getChild(e),n,sa)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(e,n)=>t(new Fu(n,qu(this.ref,e),sa)))}hasChild(t){const e=new So(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mu(t,e){return(t=(0,ms.m9)(t))._checkNotDeleted("ref"),void 0!==e?qu(t._root,e):t._root}function ju(t,e){(t=(0,ms.m9)(t))._checkNotDeleted("refFromURL");const n=xu(e,t._repo.repoInfo_.nodeAdmin);$c("refFromURL",n);const r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||Ms("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Mu(t,n.path.toString())}function qu(t,e){var n;return null===ko((t=(0,ms.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gc("child","path",n,!1)):Gc("child","path",e,!1),new Du(t._repo,No(t._path,e))}function Bu(t,e){t=(0,ms.m9)(t),Zc("set",t._path),Uc("set",e,t._path,!1);const n=new ms.BH;return cu(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Uu{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new Eu("value",this,new Fu(t.snapshotNode,new Du(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Iu(this,t,e):null}matches(t){return t instanceof Uu&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class zu{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Iu(this,t,e):null}createEvent(t,e){(0,ms.hu)(null!=t.childName,"Child events should have a childName.");const n=qu(new Du(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Eu(t.type,this,new Fu(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof zu&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vu(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const e=n,r=(n,r)=>{du(t._repo,t,a),e(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Tu(n,s||void 0),a="value"===e?new Uu(o):new zu(e,o);return function(t,e,n){let r;r=".info"===ko(e._path)?oc(t.infoSyncTree_,e,n):oc(t.serverSyncTree_,e,n),Qc(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>du(t._repo,t,a)}function Hu(t,e,n,r){return Vu(t,"value",e,n,r)}function Wu(t,e,n,r){return Vu(t,"child_added",e,n,r)}function Gu(t,e,n,r){return Vu(t,"child_changed",e,n,r)}function Zu(t,e,n,r){return Vu(t,"child_moved",e,n,r)}function $u(t,e,n,r){return Vu(t,"child_removed",e,n,r)}function Yu(t,e,n){let r=null;const i=n?new Tu(n):null;"value"===e?r=new Uu(i):e&&(r=new zu(e,i)),du(t._repo,t,r)}class Ku{}class Qu extends Ku{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("endAt",this._value,t._path,!0);const e=Pa(t._queryParams,this._value,this._key);if(Ou(e),Ru(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pu(t._repo,t._path,e,t._orderByCalled)}}class Ju extends Ku{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("endBefore",this._value,t._path,!1);const e=function(t,e,n){let r,i;return t.index_===Go?("string"==typeof e&&(e=wa(e)),i=Pa(t,e,n)):(r=null==n?Bs:wa(n),i=Pa(t,e,r)),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Ou(e),Ru(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pu(t._repo,t._path,e,t._orderByCalled)}}class Xu extends Ku{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("startAt",this._value,t._path,!0);const e=Na(t._queryParams,this._value,this._key);if(Ou(e),Ru(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Pu(t._repo,t._path,e,t._orderByCalled)}}class th extends Ku{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Uc("startAfter",this._value,t._path,!1);const e=function(t,e,n){let r;if(t.index_===Go)"string"==typeof e&&(e=ba(e)),r=Na(t,e,n);else{let i;i=null==n?Us:ba(n),r=Na(t,e,i)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Ou(e),Ru(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Pu(t._repo,t._path,e,t._orderByCalled)}}class eh extends Ku{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pu(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class nh extends Ku{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pu(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class rh extends Ku{constructor(t){super(),this._path=t}_apply(t){Lu(t,"orderByChild");const e=new So(this._path);if(Po(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new ma(e),r=La(t._queryParams,n);return Ru(r),new Pu(t._repo,t._path,r,!0)}}class ih extends Ku{_apply(t){Lu(t,"orderByKey");const e=La(t._queryParams,Go);return Ru(e),new Pu(t._repo,t._path,e,!0)}}class sh extends Ku{_apply(t){Lu(t,"orderByPriority");const e=La(t._queryParams,sa);return Ru(e),new Pu(t._repo,t._path,e,!0)}}class oh extends Ku{_apply(t){Lu(t,"orderByValue");const e=La(t._queryParams,ya);return Ru(e),new Pu(t._repo,t._path,e,!0)}}class ah extends Ku{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Uc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qu(this._value,this._key)._apply(new Xu(this._value,this._key)._apply(t))}}function lh(t,...e){let n=(0,ms.m9)(t);for(const r of e)n=r._apply(n);return n}!function(t){(0,ms.hu)(!Vl,"__referenceConstructor has already been defined"),Vl=t}(Du),function(t){(0,ms.hu)(!Hl,"__referenceConstructor has already been defined"),Hl=t}(Du);const ch={};function uh(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Os("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=xu(s,i),c=l.repoInfo;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=xu(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new eo(eo.OWNER):new to(t.name,t.options,e);$c("Invalid Firebase Database URL",l),Po(l.path)||Ms("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(t,e,n,r){let i=ch[e.name];i||(i={},ch[e.name]=i);let s=i[t.toURLString()];return s&&Ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nu(t,!1,n,r),i[t.toURLString()]=s,s}(c,t,u,new Xs(t.name,n));return new hh(h,t)}class hh{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=uo(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Da(t.repoInfo_,(e,n,r,i)=>{su(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ou(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ms.Pz)(n)}catch(Dr){throw new Error("Invalid authOverride provided: "+Dr)}}t.persistentConnection_=new zo(t.repoInfo_,e,(e,n,r,i)=>{su(t,e,n,r,i)},e=>{ou(t,e)},e=>{!function(t,e){Zs(e,(e,n)=>{au(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(e=>{t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(e=>{t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=function(e,n){const r=e.toString();return co[r]||(co[r]=new za(t.stats_,t.server_)),co[r]}(t.repoInfo_),t.infoData_=new Fa,t.infoSyncTree_=new ec({startListening:(e,n,r,i)=>{let s=[];const o=t.infoData_.getNode(e._path);return o.isEmpty()||(s=ic(t.infoSyncTree_,e._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),au(t,"connected",!1),t.serverSyncTree_=new ec({startListening:(e,n,r,i)=>(t.server_.listen(e,r,n,(n,r)=>{const s=i(n,r);Jc(t.eventQueue_,e._path,s)}),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Du(this._repo,Co())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=ch[e];n&&n[t.key]===t||Ms(`Database ${e}(${t.repoInfo_}) has already been deleted.`),fu(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ms("Cannot call "+t+" on a deleted database.")}}class dh{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},zo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},ws(gs.SDK_VERSION),(0,gs._registerComponent)(new fs.wA("database",(t,{instanceIdentifier:e})=>uh(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,gs.registerVersion)(_s,vs,void 0),(0,gs.registerVersion)(_s,vs,"esm2017");const fh=new ys.Yd("@firebase/database-compat"),ph=function(t){fh.warn("FIREBASE WARNING: "+t)};class gh{constructor(t){this._delegate=t}cancel(t){(0,ms.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ms.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),e=>t(e)),e}remove(t){(0,ms.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ms.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),e=>t(e)),e}set(t,e){(0,ms.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ms.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,ms.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ms.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),t=>n(t)),r}update(t,e){if((0,ms.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,ph("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ms.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),t=>e(t)),n}}class mh{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ms.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class yh{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ms.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ms.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ms.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ms.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ms.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Gc("DataSnapshot.child","path",t,!1),new yh(this._database,this._delegate.child(t))}hasChild(t){return(0,ms.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Gc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ms.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ms.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ms.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new yh(this._database,e)))}hasChildren(){return(0,ms.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ms.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ms.Dv)("DataSnapshot.ref",0,0,arguments.length),new vh(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _h{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var i;(0,ms.Dv)("Query.on",2,4,arguments.length),(0,ms.Wj)("Query.on","callback",e,!1);const s=_h.getCancelAndContextArgs_("Query.on",n,r),o=(t,n)=>{e.call(s.context,new yh(this.database,t),n)};o.userCallback=e,o.context=s.context;const a=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(t){case"value":return Hu(this._delegate,o,a),e;case"child_added":return Wu(this._delegate,o,a),e;case"child_removed":return $u(this._delegate,o,a),e;case"child_changed":return Gu(this._delegate,o,a),e;case"child_moved":return Zu(this._delegate,o,a),e;default:throw new Error((0,ms.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,ms.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ms.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ms.Wj)("Query.off","callback",e,!0),(0,ms.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,Yu(this._delegate,t,r)}else Yu(this._delegate,t)}get(){return function(t){return function(t,e){const n=function(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(t,e)=>{const i=Lo(t,n);r=r||Yl(e,i)});let i=t.syncPointTree_.get(n);i?r=r||Yl(i,Co()):(i=new Wl,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new Ya(r,!0,!1):null;return el(Zl(i,e,ml(t.pendingWriteTree_,e._path),s?o.getNode():fa.EMPTY_NODE,s).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(n=>{const r=ga(n).withIndex(e._queryParams.getIndex()),i=ic(t.serverSyncTree_,e._path,r);return Qc(t.eventQueue_,e._path,i),Promise.resolve(r)},n=>(pu(t,"get for query "+(0,ms.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))))}((t=(0,ms.m9)(t))._repo,t).then(e=>new Fu(e,new Du(t._repo,t._path),t._queryParams.getIndex()))}(this._delegate).then(t=>new yh(this.database,t))}once(t,e,n,r){(0,ms.Dv)("Query.once",1,4,arguments.length),(0,ms.Wj)("Query.once","callback",e,!0);const i=_h.getCancelAndContextArgs_("Query.once",n,r),s=new ms.BH,o=(t,n)=>{const r=new yh(this.database,t);e&&e.call(i.context,r,n),s.resolve(r)};o.userCallback=e,o.context=i.context;const a=t=>{i.cancel&&i.cancel.call(i.context,t),s.reject(t)};switch(t){case"value":Hu(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":Wu(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":$u(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":Gu(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":Zu(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,ms.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,ms.Dv)("Query.limitToFirst",1,1,arguments.length),new _h(this.database,lh(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eh(t)}(t)))}limitToLast(t){return(0,ms.Dv)("Query.limitToLast",1,1,arguments.length),new _h(this.database,lh(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nh(t)}(t)))}orderByChild(t){return(0,ms.Dv)("Query.orderByChild",1,1,arguments.length),new _h(this.database,lh(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gc("orderByChild","path",t,!1),new rh(t)}(t)))}orderByKey(){return(0,ms.Dv)("Query.orderByKey",0,0,arguments.length),new _h(this.database,lh(this._delegate,new ih))}orderByPriority(){return(0,ms.Dv)("Query.orderByPriority",0,0,arguments.length),new _h(this.database,lh(this._delegate,new sh))}orderByValue(){return(0,ms.Dv)("Query.orderByValue",0,0,arguments.length),new _h(this.database,lh(this._delegate,new oh))}startAt(t=null,e){return(0,ms.Dv)("Query.startAt",0,2,arguments.length),new _h(this.database,lh(this._delegate,function(t=null,e){return Wc("startAt","key",e,!0),new Xu(t,e)}(t,e)))}startAfter(t=null,e){return(0,ms.Dv)("Query.startAfter",0,2,arguments.length),new _h(this.database,lh(this._delegate,function(t,e){return Wc("startAfter","key",e,!0),new th(t,e)}(t,e)))}endAt(t=null,e){return(0,ms.Dv)("Query.endAt",0,2,arguments.length),new _h(this.database,lh(this._delegate,function(t,e){return Wc("endAt","key",e,!0),new Qu(t,e)}(t,e)))}endBefore(t=null,e){return(0,ms.Dv)("Query.endBefore",0,2,arguments.length),new _h(this.database,lh(this._delegate,function(t,e){return Wc("endBefore","key",e,!0),new Ju(t,e)}(t,e)))}equalTo(t,e){return(0,ms.Dv)("Query.equalTo",1,2,arguments.length),new _h(this.database,lh(this._delegate,function(t,e){return Wc("equalTo","key",e,!0),new ah(t,e)}(t,e)))}toString(){return(0,ms.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ms.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ms.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof _h))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,ms.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,ms.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ms.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new vh(this.database,new Du(this._delegate._repo,this._delegate._path))}}class vh extends _h{constructor(t,e){super(t,new Pu(e._repo,e._path,new Ta,!1)),this.database=t,this._delegate=e}getKey(){return(0,ms.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ms.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new vh(this.database,qu(this._delegate,t))}getParent(){(0,ms.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new vh(this.database,t):null}getRoot(){return(0,ms.Dv)("Reference.root",0,0,arguments.length),new vh(this.database,this._delegate.root)}set(t,e){(0,ms.Dv)("Reference.set",1,2,arguments.length),(0,ms.Wj)("Reference.set","onComplete",e,!0);const n=Bu(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}update(t,e){if((0,ms.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,ph("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zc("Reference.update",this._delegate._path),(0,ms.Wj)("Reference.update","onComplete",e,!0);const n=function(t,e){Vc("update",e,t._path,!1);const n=new ms.BH;return function(t,e,n,r){pu(t,"update",{path:e.toString(),value:n});let i=!0;const s=iu(t),o={};if(Zs(n,(n,r)=>{i=!1,o[n]=Cc(No(e,n),ga(r),t.serverSyncTree_,s)}),i)Os("update() called with empty data.  Don't do anything."),gu(0,r,"ok",void 0);else{const i=lu(t),s=function(t,e,n,r){!function(t,e,n,r){(0,ms.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=al(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=il.fromObject(n);return lc(t,new $a({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,i);Kc(t.eventQueue_,s),t.server_.merge(e.toString(),n,(n,s)=>{const o="ok"===n;o||js("update at "+e+" failed: "+n);const a=rc(t.serverSyncTree_,i,!o),l=a.length>0?_u(t,e):e;Jc(t.eventQueue_,l,a),gu(0,r,n,s)}),Zs(n,n=>{const r=Cu(t,No(e,n));_u(t,r)}),Jc(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,ms.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ms.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function(t,e,n){if(Zc("setWithPriority",t._path),Uc("setWithPriority",e,t._path,!1),Hc("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new ms.BH;return cu(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),t=>n(t)),r}remove(t){(0,ms.Dv)("Reference.remove",0,1,arguments.length),(0,ms.Wj)("Reference.remove","onComplete",t,!0);const e=function(t){return Zc("remove",t._path),Bu(t,null)}(this._delegate);return t&&e.then(()=>t(null),e=>t(e)),e}transaction(t,e,n){(0,ms.Dv)("Reference.transaction",1,3,arguments.length),(0,ms.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ms.Wj)("Reference.transaction","onComplete",e,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,ms.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function(t,e,n){var r;if(t=(0,ms.m9)(t),Zc("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new ms.BH,o=Hu(t,()=>{});return function(e,n,r,i,o,a){pu(e,"transaction on "+n);const l={path:n,update:r,onComplete:(e,n,r)=>{let i=null;e?s.reject(e):(i=new Fu(r,new Du(t._repo,t._path),sa),s.resolve(new dh(n,i)))},status:null,order:Is(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=mu(e,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{zc("transaction failed: Data returned ",u,l.path),l.status=0;const t=Ec(e.transactionQueueTree_,n),r=Ic(t)||[];let i;r.push(l),Tc(t,r),"object"==typeof u&&null!==u&&(0,ms.r3)(u,".priority")?(i=(0,ms.DV)(u,".priority"),(0,ms.hu)(Bc(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(ac(e.serverSyncTree_,n)||fa.EMPTY_NODE).getPriority().val();const s=iu(e),o=ga(u,i),a=kc(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=lu(e);const h=nc(e.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);Jc(e.eventQueue_,n,h),yu(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,o,i),s.promise}(this._delegate,t,{applyLocally:n}).then(t=>new mh(t.committed,new yh(this.database,t.snapshot)));return e&&r.then(t=>e(null,t.committed,t.snapshot),t=>e(t,!1,null)),r}setPriority(t,e){(0,ms.Dv)("Reference.setPriority",1,2,arguments.length),(0,ms.Wj)("Reference.setPriority","onComplete",e,!0);const n=function(t,e){t=(0,ms.m9)(t),Zc("setPriority",t._path),Hc("setPriority",e,!1);const n=new ms.BH;return cu(t._repo,No(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}push(t,e){(0,ms.Dv)("Reference.push",0,2,arguments.length),(0,ms.Wj)("Reference.push","onComplete",e,!0);const n=function(t,e){t=(0,ms.m9)(t),Zc("push",t._path),Uc("push",e,t._path,!0);const n=ru(t._repo),r=va(n),i=qu(t,r),s=qu(t,r);let o;return o=null!=e?Bu(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,t),r=n.then(t=>new vh(this.database,t));e&&r.then(()=>e(null),t=>e(t));const i=new vh(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return Zc("Reference.onDisconnect",this._delegate._path),new gh(new Nu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,n={}){!function(t,e,n,r={}){(t=(0,ms.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ms("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ms('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new eo(eo.OWNER);else if(r.mockUserToken){const e="string"==typeof r.mockUserToken?r.mockUserToken:(0,ms.Sg)(r.mockUserToken,t.app.options.projectId);s=new eo(e)}!function(t,e,n,r){t.repoInfo_=new so(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,t,e,n)}ref(t){if((0,ms.Dv)("database.ref",0,1,arguments.length),t instanceof vh){const e=ju(this._delegate,t.toString());return new vh(this,e)}{const e=Mu(this._delegate,t);return new vh(this,e)}}refFromURL(t){(0,ms.Dv)("database.refFromURL",1,1,arguments.length);const e=ju(this._delegate,t);return new vh(this,e)}goOffline(){return(0,ms.Dv)("database.goOffline",0,0,arguments.length),(t=(0,ms.m9)(t=this._delegate))._checkNotDeleted("goOffline"),void fu(t._repo);var t}goOnline(){return(0,ms.Dv)("database.goOnline",0,0,arguments.length),(t=(0,ms.m9)(t=this._delegate))._checkNotDeleted("goOnline"),void((e=t._repo).persistentConnection_&&e.persistentConnection_.resume(eu));var t,e}}bh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:t=>function(t){return{".sv":{increment:t}}}(t)};var wh=Object.freeze({__proto__:null,initStandalone:function({app:t,url:e,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){ws(n);const o=new fs.zt("auth-internal",new fs.H0("database-standalone"));return o.setComponent(new fs.wA("auth-internal",()=>r,"PRIVATE")),{instance:new bh(uh(t,o,void 0,e,s),t),namespace:i}}});const Sh=bh.ServerValue;var Ch;(Ch=ds.Z).INTERNAL.registerComponent(new fs.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new bh(r,n)},"PUBLIC").setServiceProps({Reference:vh,Query:_h,Database:bh,DataSnapshot:yh,enableLogging:function(t,e){Rs(t,e)},INTERNAL:wh,ServerValue:Sh}).setMultipleInstances(!0)),Ch.registerVersion("@firebase/database-compat","0.1.4");var kh=n(6136),xh=n(7771),Ah=n(5319),Eh=n(8858);class Ih extends ji.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Th(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new qi.N;if(this.isStopped||this.hasError?s=Ah.w.EMPTY:(this.observers.push(t),s=new Eh.W(this,t)),r&&t.add(t=new kh.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||xh.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Th{constructor(t,e){this.time=t,this.value=e}}function Nh(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){let u;o++,!i||a?(a=!1,i=new Ih(t,e,r),u=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Ph=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Lh(t,e){return function(n){return n.lift(new Rh(t,e))}}class Rh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Oh(t,this.predicate,this.thisArg))}}class Oh extends Yi.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Dh=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Fh=n(9193);function Mh(t){return e=>0===t?(0,Fh.c)():e.lift(new jh(t))}class jh{constructor(t){if(this.total=t,this.total<0)throw new Dh}call(t,e){return e.subscribe(new qh(t,this.total))}}class qh extends Yi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Bh(t=null){return e=>e.lift(new Uh(t))}class Uh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zh(t,this.defaultValue))}}class zh extends Yi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vh(t=Gh){return e=>e.lift(new Hh(t))}class Hh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Wh(t,this.errorFactory))}}class Wh extends Yi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Dr){t=Dr}this.destination.error(t)}}}function Gh(){return new Ph}var Zh=n(4487);function $h(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lh((e,n)=>t(e,n,r)):Zh.y,Mh(1),n?Bh(e):Vh(()=>new Ph))}function Yh(t,e){return e?Gi(()=>t,e):Gi(()=>t)}var Kh=n(9673);n(2329);const Qh=new Map,Jh={activated:!1,tokenObservers:[]},Xh={initialized:!1,enabled:!1};function td(t){return Qh.get(t)||Jh}function ed(t,e){Qh.set(t,e)}function nd(){return Xh}class rd{constructor(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ps.Z)(function*(){e.stop();try{e.pending=new ms.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new ms.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(Fs){e.retryPolicy(Fs)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const id=new ms.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sd(t){if(!td(t).activated)throw id.create("use-before-activation",{appName:t.name})}function od(t,e){return ad.apply(this,arguments)}function ad(){return(ad=(0,ps.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(h){throw id.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw id.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw id.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw id.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function ld(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cd="firebase-app-check-store";let ud=null;function hd(){return ud||(ud=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(id.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(cd,{keyPath:"compositeKey"})}}}catch(Dr){e(id.create("storage-open",{originalErrorMessage:Dr.message}))}}),ud)}function dd(){return(dd=(0,ps.Z)(function*(t,e){const n=(yield hd()).transaction(cd,"readwrite"),r=n.objectStore(cd).put({compositeKey:t,value:e});return new Promise((t,e)=>{r.onsuccess=e=>{t()},n.onerror=t=>{var n;e(id.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const fd=new ys.Yd("@firebase/app-check");function pd(t,e){return(0,ms.hl)()?function(t,e){return function(t,e){return dd.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(t=>{fd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gd(){return nd().enabled}function md(){return yd.apply(this,arguments)}function yd(){return(yd=(0,ps.Z)(function*(){const t=nd();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _d={error:"UNKNOWN_ERROR"};function vd(t){return bd.apply(this,arguments)}function bd(){return(bd=(0,ps.Z)(function*(t,e=!1){const n=t.app;sd(n);const r=td(n);let i,s=r.token;if(!s){const t=yield r.cachedTokenPromise;t&&kd(t)&&(s=t)}if(!e&&s&&kd(s))return{token:s.token};let o,a=!1;if(gd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=od(ld(n,yield md()),t.platformLoggerProvider).then(t=>(r.exchangeTokenPromise=void 0,t)),a=!0);const e=yield r.exchangeTokenPromise;return yield pd(n,e),ed(n,Object.assign(Object.assign({},r),{token:e})),{token:e.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(t=>(r.exchangeTokenPromise=void 0,t)),a=!0),s=yield r.exchangeTokenPromise}catch(Dr){"appCheck/throttled"===Dr.code?fd.warn(Dr.message):fd.error(Dr),i=Dr}return s?(o={token:s.token},ed(n,Object.assign(Object.assign({},r),{token:s})),yield pd(n,s)):o=xd(i),a&&Cd(n,o),o})).apply(this,arguments)}function wd(t,e){const n=td(t),r=n.tokenObservers.filter(t=>t.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ed(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Sd(t){const{app:e}=t,n=td(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new rd((0,ps.Z)(function*(){let n;if(n=td(e).token?yield vd(t,!0):yield vd(t),n.error)throw n.error}),()=>!0,()=>{const t=td(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t),ed(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cd(t,e){const n=td(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(Dr){}}function kd(t){return t.expireTimeMillis-Date.now()>0}function xd(t){return{token:(e=_d,ms.US.encodeString(JSON.stringify(e),!1)),error:t};var e}class Ad{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=td(this.app);for(const e of t)wd(this.app,e.next);return Promise.resolve()}}const Ed="app-check-internal";(0,gs._registerComponent)(new fs.wA("app-check",t=>{return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),new Ad(e,n);var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Ed).initialize()})),(0,gs._registerComponent)(new fs.wA(Ed,t=>{return e=t.getProvider("app-check").getImmediate(),{getToken:t=>vd(e,t),addTokenListener:t=>function(t,e,n,r){const{app:i}=t,s=td(i),o={next:n,error:void 0,type:"INTERNAL"};if(ed(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&kd(s.token)){const e=s.token;Promise.resolve().then(()=>{n({token:e.token}),Sd(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Sd(t))}(e,0,t),removeTokenListener:t=>wd(e.app,t)};var e},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gs.registerVersion)("@firebase/app-check","0.5.2");class Id{constructor(){return(0,us.vb)("app-check")}}"undefined"!=typeof window&&window;var Td=n(7841);const Nd=new r.OlP("angularfire2.auth.use-emulator"),Pd=new r.OlP("angularfire2.auth.settings"),Ld=new r.OlP("angularfire2.auth.tenant-id"),Rd=new r.OlP("angularfire2.auth.langugage-code"),Od=new r.OlP("angularfire2.auth.use-device-language"),Dd=new r.OlP("angularfire.auth.persistence"),Fd=(t,e,n,r,i,s,o,a)=>(0,hs.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))l.settings[t]=e;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let Md=(()=>{class t{constructor(t,e,r,i,s,o,a,l,c,u,h,d){const f=new ji.xQ,p=(0,zi.of)(void 0).pipe((0,kh.QV)(s.outsideAngular),Gi(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,2755)))),(0,At.U)(()=>(0,hs.on)(t,i,e)),(0,At.U)(t=>Fd(t,i,o,l,c,u,a,h)),Nh({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,zi.of)(null);else{p.pipe($h()).subscribe();const t=p.pipe(Gi(t=>t.getRedirectResult().then(t=>t,()=>null)),us.iC,Nh({bufferSize:1,refCount:!1})),e=p.pipe(Gi(t=>new kt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=p.pipe(Gi(t=>new kt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe(Yh(e),(0,Kh.R)(s.outsideAngular),(0,kh.QV)(s.insideAngular)),this.user=t.pipe(Yh(n),(0,Kh.R)(s.outsideAngular),(0,kh.QV)(s.insideAngular)),this.idToken=this.user.pipe(Gi(t=>t?(0,Ct.D)(t.getIdToken()):(0,zi.of)(null))),this.idTokenResult=this.user.pipe(Gi(t=>t?(0,Ct.D)(t.getIdTokenResult()):(0,zi.of)(null))),this.credential=(0,Vi.T)(t,f,this.authState.pipe(Lh(t=>!t))).pipe((0,At.U)(t=>(null==t?void 0:t.user)?t:null),(0,Kh.R)(s.outsideAngular),(0,kh.QV)(s.insideAngular))}return(0,hs.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hs.Dh),r.LFG(hs.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(us.HU),r.LFG(Nd,8),r.LFG(Pd,8),r.LFG(Ld,8),r.LFG(Rd,8),r.LFG(Od,8),r.LFG(Dd,8),r.LFG(Id,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function jd(t){return null==t}function qd(t){return"function"==typeof t.set}function Bd(t,e){return qd(e)?e:t.ref(e)}function Ud(t,e){if("string"==typeof t)return e.stringCase();if(qd(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function zd(t,e,n="on",r=Ui.z){return new kt.y(i=>{let s=null;return s=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe((0,At.U)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),(0,Hi.B)())}function Vd(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Hd(t,e){const{payload:n,prevKey:r,key:i}=e,s=Vd(t,i),o=function(t,e){if(jd(e))return 0;{const n=Vd(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(s>-1){const i=t[s-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function Wd(t){return(jd(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Gd(t,e,n){return function(t,e,n){return zd(t,"value","once",n).pipe(Gi(r=>{const i=[(0,zi.of)(r)];return e.forEach(e=>i.push(zd(t,e,"on",n))),(0,Vi.T)(...i).pipe(Ki(Hd,[]))}),Xi())}(t,e=Wd(e),n)}function Zd(t,e,n){const r=(e=Wd(e)).map(e=>zd(t,e,"on",n));return(0,Vi.T)(...r)}function $d(t,e){return function(n,r){return Ud(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Yd(t){return function(e){return e?Ud(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function Kd(t,e){return function(){return zd(t,"value","on",e)}}const Qd=new r.OlP("angularfire2.realtimeDatabaseURL"),Jd=new r.OlP("angularfire2.database.use-emulator");let Xd=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l,c,u,h,d,f,p){this.schedulers=s;const g=o,m=(0,hs.on)(t,i,e);a&&Fd(m,i,l,u,h,d,c,f),this.database=(0,hs.cc)(`${m.name}.database.${n}`,"AngularFireDatabase",m.name,()=>{const t=i.runOutsideAngular(()=>m.database(n||void 0));return g&&t.useEmulator(...g),t},[g])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Bd(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:$d(r,"update"),set:$d(r,"set"),push:t=>r.push(t),remove:Yd(r),snapshotChanges:e=>Gd(t,e,n).pipe(us.iC),stateChanges:e=>Zd(t,e,n).pipe(us.iC),auditTrail:e=>function(t,e,n){return function(t,e,n){return function(t,e){return zd(t,"value","on",e).pipe((0,At.U)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new os(t,n))}}(e),(0,At.U)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new ls(r))),(0,At.U)(t=>t.actions));var r}(t,Zd(t,e).pipe(Ki((t,e)=>[...t,e],[])),n)}(t,e,n).pipe(us.iC),valueChanges:(e,r)=>Gd(t,e,n).pipe((0,At.U)(t=>t.map(t=>r&&r.idField?Object.assign(Object.assign({},t.payload.val()),{[r.idField]:t.key}):t.payload.val())),us.iC)}}(r,this)}object(t){return function(t,e){return{query:t,snapshotChanges:()=>Kd(t,e.schedulers.outsideAngular)().pipe(us.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>Kd(t,e.schedulers.outsideAngular)().pipe(us.iC,(0,At.U)(t=>t.payload.exists()?t.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Bd(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hs.Dh),r.LFG(hs.xv,8),r.LFG(Qd,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(us.HU),r.LFG(Jd,8),r.LFG(Md,8),r.LFG(Nd,8),r.LFG(Pd,8),r.LFG(Ld,8),r.LFG(Rd,8),r.LFG(Od,8),r.LFG(Dd,8),r.LFG(Id,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),tf=(()=>{class t{constructor(){Td.Z.registerVersion("angularfire",us.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Xd]}),t})(),ef=(()=>{class t{constructor(t){this.db=t,this.isUserExist=!1,this._userMenu=new Bi(!1),this.user$=this._userMenu.asObservable()}postUser(t){this.db.list("users").push(t)}getUser(){return this.db.list("users")}getSingleUserDetails(t){return this.db.object("/users/"+t)}updateUser(t,e){this.db.object("/users/"+t).update(e)}show(){this._userMenu.next(!0)}hide(){this._userMenu.next(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xd))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var nf=n(4869),rf=n(6693);const sf={};function of(...t){let e,n;return(0,nf.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,xt.k)(t[0])&&(t=t[0]),(0,rf.n)(t,n).lift(new af(e))}class af{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new lf(t,this.resultSelector))}}class lf extends ns{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(sf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ss(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===sf?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var cf=n(3282);function uf(...t){return(0,cf.J)(1)((0,zi.of)(...t))}function hf(t){return new kt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Ct.D)(n):(0,Fh.c)()).subscribe(e)})}var df=n(2441);function ff(...t){const e=t[t.length-1];return(0,nf.K)(e)?(t.pop(),n=>uf(t,n,e)):e=>uf(t,e)}function pf(t){return function(e){const n=new gf(t),r=e.lift(n);return n.caught=r}}class gf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mf(t,this.selector,this.caught))}}class mf extends Wi.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wi.IY(this);this.add(r);const i=(0,Wi.ft)(n,r);i!==r&&this.add(i)}}}var yf=n(9773);function _f(t,e){return(0,yf.zg)(t,e,1)}function vf(t){return function(e){return 0===t?(0,Fh.c)():e.lift(new bf(t))}}class bf{constructor(t){if(this.total=t,this.total<0)throw new Dh}call(t,e){return e.subscribe(new wf(t,this.total))}}class wf extends Yi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Sf=n(3342),Cf=n(1307);function kf(t){return e=>e.lift(new xf(t))}class xf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Af(t,this.callback))}}class Af extends Yi.L{constructor(t,e){super(t),this.add(new Ah.w(e))}}class Ef{constructor(t,e){this.id=t,this.url=e}}class If extends Ef{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tf extends Ef{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nf extends Ef{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pf extends Ef{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lf extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rf extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Of extends Ef{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Df extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ff extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Hf="primary";class Wf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gf(t){return new Wf(t)}function Zf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $f(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yf(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Kf(t[i],e[i]))return!1;return!0}function Kf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Qf(t){return Array.prototype.concat.apply([],t)}function Jf(t){return t.length>0?t[t.length-1]:null}function Xf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function tp(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Ct.D)(Promise.resolve(t)):(0,zi.of)(t)}const ep={exact:function t(e,n,r){if(!up(e.segments,n.segments))return!1;if(!op(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:ip},np={exact:function(t,e){return Yf(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kf(t[n],e[n]))},ignored:()=>!0};function rp(t,e,n){return ep[n.paths](t.root,e.root,n.matrixParams)&&np[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function ip(t,e,n){return sp(t,e,e.segments,n)}function sp(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!up(i,n)&&!e.hasChildren()&&!!op(i,n,r)}if(t.segments.length===n.length){if(!up(t.segments,n))return!1;if(!op(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ip(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!up(t.segments,i)&&!!op(t.segments,i,r)&&!!t.children.primary&&sp(t.children.primary,e,s,r)}}function op(t,e,n){return e.every((e,r)=>np[n](t[r].parameters,e.parameters))}class ap{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gf(this.queryParams)),this._queryParamMap}toString(){return fp.serialize(this)}}class lp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pp(this)}}class cp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gf(this.parameters)),this._parameterMap}toString(){return wp(this)}}function up(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hp{}class dp{parse(t){const e=new Ap(t);return new ap(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`/${gp(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yp(e)}=${yp(t)}`).join("&"):`${yp(e)}=${yp(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const fp=new dp;function pp(t){return t.segments.map(t=>wp(t)).join("/")}function gp(t,e){if(!t.hasChildren())return pp(t);if(e){const e=t.children.primary?gp(t.children.primary,!1):"",n=[];return Xf(t.children,(t,e)=>{e!==Hf&&n.push(`${e}:${gp(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Xf(t.children,(t,r)=>{r===Hf&&(n=n.concat(e(t,r)))}),Xf(t.children,(t,r)=>{r!==Hf&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Hf?[gp(t.children.primary,!1)]:[`${n}:${gp(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${pp(t)}/${e[0]}`:`${pp(t)}/(${e.join("//")})`}}function mp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yp(t){return mp(t).replace(/%3B/gi,";")}function _p(t){return mp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vp(t){return decodeURIComponent(t)}function bp(t){return vp(t.replace(/\+/g,"%20"))}function wp(t){return`${_p(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${_p(t)}=${_p(e[t])}`).join("")}`;var e}const Sp=/^[^\/()?;=#]+/;function Cp(t){const e=t.match(Sp);return e?e[0]:""}const kp=/^[^=?&#]+/,xp=/^[^?&#]+/;class Ap{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lp([],{}):new lp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new lp(t,e)),n}parseSegment(){const t=Cp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cp(vp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Cp(this.remaining);t&&(n=t,this.capture(n))}t[vp(e)]=vp(n)}parseQueryParam(t){const e=function(t){const e=t.match(kp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xp);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=bp(e),i=bp(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Cp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Hf);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new lp([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ep{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ip(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ip(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tp(t,this._root).map(t=>t.value)}}function Ip(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ip(t,n);if(e)return e}return null}function Tp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tp(t,n);if(r.length)return r.unshift(e),r}return[]}class Np{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Pp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Lp extends Ep{constructor(t,e){super(t),this.snapshot=e,jp(this,t)}toString(){return this.snapshot.toString()}}function Rp(t,e){const n=function(t,e){const n=new Fp([],{},{},"",{},Hf,e,null,t.root,-1,{});return new Mp("",new Np(n,[]))}(t,e),r=new Bi([new cp("",{})]),i=new Bi({}),s=new Bi({}),o=new Bi({}),a=new Bi(""),l=new Op(r,i,o,a,s,Hf,e,n.root);return l.snapshot=n.root,new Lp(new Np(l,[]),n)}class Op{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(t=>Gf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(t=>Gf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fp{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mp extends Ep{constructor(t,e){super(e),this.url=t,jp(this,e)}toString(){return qp(this._root)}}function jp(t,e){e.value._routerState=t,e.children.forEach(e=>jp(t,e))}function qp(t){const e=t.children.length>0?` { ${t.children.map(qp).join(", ")} } `:"";return`${t.value}${e}`}function Bp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Yf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Yf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Up(t,e){var n,r;return Yf(t.params,e.params)&&up(n=t.url,r=e.url)&&n.every((t,e)=>Yf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Up(t.parent,e.parent))}function zp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return zp(t,e,r);return zp(t,e)})}(t,e,n);return new Np(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Vp(e,t),t}}const n=function(t){return new Op(new Bi(t.url),new Bi(t.params),new Bi(t.queryParams),new Bi(t.fragment),new Bi(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(e=>zp(t,e));return new Np(n,r)}}function Vp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Vp(t.children[n],e.children[n])}function Hp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wp(t){return"object"==typeof t&&null!=t&&t.outlets}function Gp(t,e,n,r,i){let s={};return r&&Xf(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ap(n.root===t?e:Zp(n.root,t,e),s,i)}function Zp(t,e,n){const r={};return Xf(t.children,(t,i)=>{r[i]=t===e?n:Zp(t,e,n)}),new lp(t.segments,r)}class $p{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hp(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Wp);if(r&&r!==Jf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kp(t,e,n){if(t||(t=new lp([],{})),0===t.segments.length&&t.hasChildren())return Qp(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Wp(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!eg(a,l,e))return s;r+=2}else{if(!eg(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new lp(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new lp(t.segments.slice(r.pathIndex),t.children),Qp(e,0,i)}return r.match&&0===i.length?new lp(t.segments,{}):r.match&&!t.hasChildren()?Jp(t,e,n):r.match?Qp(t,0,i):Jp(t,e,n)}function Qp(t,e,n){if(0===n.length)return new lp(t.segments,{});{const r=function(t){return Wp(t[0])?t[0].outlets:{[Hf]:t}}(n),i={};return Xf(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kp(t.children[r],e,n))}),Xf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new lp(t.segments,i)}}function Jp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wp(s)){const t=Xp(s.outlets);return new lp(r,t)}if(0===i&&Hp(n[0])){r.push(new cp(t.segments[e].path,tg(n[0]))),i++;continue}const o=Wp(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hp(a)?(r.push(new cp(o,tg(a))),i+=2):(r.push(new cp(o,{})),i++)}return new lp(r,{})}function Xp(t){const e={};return Xf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jp(new lp([],{}),0,t))}),e}function tg(t){const e={};return Xf(t,(t,n)=>e[n]=`${t}`),e}function eg(t,e,n){return t==n.path&&Yf(e,n.parameters)}class ng{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Pp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Xf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Pp(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Pp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new zf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Bf(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Bp(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),rg(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function rg(t){Bp(t.value),t.children.forEach(rg)}class ig{constructor(t,e){this.routes=t,this.module=e}}function sg(t){return"function"==typeof t}function og(t){return t instanceof ap}const ag=Symbol("INITIAL_VALUE");function lg(){return Gi(t=>of(t.map(t=>t.pipe(Mh(1),ff(ag)))).pipe(Ki((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ag)return t;if(r===ag&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||og(r))return r}return t},t)},ag),Lh(t=>t!==ag),(0,At.U)(t=>og(t)?t:!0===t),Mh(1)))}let cg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[am]},encapsulation:2}),t})();function ug(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hg(r,dg(e,r))}}function hg(t,e){t.children&&ug(t.children,e)}function dg(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fg(t){const e=t.children&&t.children.map(fg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Hf&&(n.component=cg),n}function pg(t){return t.outlet||Hf}function gg(t,e){const n=t.filter(t=>pg(t)===e);return n.push(...t.filter(t=>pg(t)!==e)),n}const mg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yg(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},mg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$f)(n,t,e);if(!i)return Object.assign({},mg);const s={};Xf(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function _g(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vg(t,e,n)&&pg(n)!==Hf)}(t,n,r)){const i=new lp(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pg(s)!==Hf){const n=new lp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pg(s)]=n}return i}(t,e,r,new lp(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vg(t,e,n))}(t,n,r)){const s=new lp(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(vg(t,n,a)&&!i[pg(a)]){const n=new lp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pg(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new lp(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function bg(t,e,n,r){return!!(pg(t)===r||r!==Hf&&vg(e,n,t))&&("**"===t.path||yg(e,t,n).matched)}function wg(t,e,n){return 0===e.length&&!t.children[n]}class Sg{constructor(t){this.segmentGroup=t||null}}class Cg{constructor(t){this.urlTree=t}}function kg(t){return new kt.y(e=>e.error(new Sg(t)))}function xg(t){return new kt.y(e=>e.error(new Cg(t)))}function Ag(t){return new kt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Eg{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=_g(this.urlTree.root,[],[],this.config).segmentGroup,e=new lp(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Hf).pipe((0,At.U)(t=>this.createUrlTree(Ig(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pf(t=>{if(t instanceof Cg)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Sg)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Hf).pipe((0,At.U)(e=>this.createUrlTree(Ig(e),t.queryParams,t.fragment))).pipe(pf(t=>{if(t instanceof Sg)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new lp([],{[Hf]:t}):t;return new ap(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,At.U)(t=>new lp([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Ct.D)(r).pipe(_f(r=>{const i=n.children[r],s=gg(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,At.U)(t=>({segment:t,outlet:r})))}),Ki((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lh((e,n)=>t(e,n,r)):Zh.y,vf(1),n?Bh(e):Vh(()=>new Ph))}())}expandSegment(t,e,n,r,i,s){return(0,Ct.D)(n).pipe(_f(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(pf(t=>{if(t instanceof Sg)return(0,zi.of)(null);throw t}))),$h(t=>!!t),pf((t,n)=>{if(t instanceof Ph||"EmptyError"===t.name){if(wg(e,r,i))return(0,zi.of)(new lp([],{}));throw new Sg(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return bg(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):kg(e):kg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xg(i):this.lineralizeSegments(n,i).pipe((0,yf.zg)(n=>{const i=new lp(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=yg(e,r,i);if(!o)return kg(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?xg(u):this.lineralizeSegments(r,u).pipe((0,yf.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,zi.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,At.U)(t=>(n._loadedConfig=t,new lp(r,{})))):(0,zi.of)(new lp(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=yg(e,n,r);if(!s)return kg(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,yf.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=_g(e,o,l,s),u=new lp(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,At.U)(t=>new lp(o,t)));if(0===s.length&&0===c.length)return(0,zi.of)(new lp(o,{}));const h=pg(n)===i;return this.expandSegment(r,u,s,c,h?Hf:i,!0).pipe((0,At.U)(t=>new lp(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,zi.of)(new ig(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,zi.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,yf.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,At.U)(t=>(e._loadedConfig=t,t))):function(t){return new kt.y(e=>e.error(Zf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,zi.of)(new ig([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,zi.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&sg(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!sg(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return tp(s)});return(0,zi.of)(i).pipe(lg(),(0,Sf.b)(t=>{if(!og(t))return;const e=Zf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,At.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,zi.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Ag(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ap(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Xf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Xf(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new lp(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ig(t){const e={};for(const n of Object.keys(t.children)){const r=Ig(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new lp(t.segments.concat(e.segments),e.children)}return t}(new lp(t.segments,e))}class Tg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ng{constructor(t,e){this.component=t,this.route=e}}function Pg(t,e,n){const r=t._root;return Rg(r,e?e._root:null,n,[r.value])}function Lg(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Rg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pp(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!up(t.url,e.url);case"pathParamsOrQueryParamsChange":return!up(t.url,e.url)||!Yf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Up(t,e)||!Yf(t.queryParams,e.queryParams);case"paramsChange":default:return!Up(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Tg(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Rg(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ng(a.outlet.component,o))}else o&&Og(e,a,i),i.canActivateChecks.push(new Tg(r)),Rg(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Xf(s,(t,e)=>Og(t,n.getContext(e),i)),i}function Og(t,e,n){const r=Pp(t),i=t.value;Xf(r,(t,r)=>{Og(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ng(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Dg{}function Fg(t){return new kt.y(e=>e.error(t))}class Mg{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=_g(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Hf);if(null===e)return null;const n=new Fp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Hf,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Np(n,e),i=new Mp(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Dp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=gg(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=qg(n);return r.sort((t,e)=>t.value.outlet===Hf?-1:e.value.outlet===Hf?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wg(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!bg(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Jf(n).parameters:{};i=new Fp(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zg(t),pg(t),t.component,t,Bg(e),Ug(e)+n.length,Vg(t))}else{const r=yg(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Fp(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zg(t),pg(t),t.component,t,Bg(e),Ug(e)+s.length,Vg(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=_g(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Np(i,t)]}if(0===a.length&&0===c.length)return[new Np(i,[])];const u=pg(t)===r,h=this.processSegment(a,l,c,u?Hf:r);return null===h?null:[new Np(i,h)]}}function jg(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qg(t){const e=[],n=new Set;for(const r of t){if(!jg(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=qg(r.children);e.push(new Np(r.value,t))}return e.filter(t=>!n.has(t))}function Bg(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ug(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function zg(t){return t.data||{}}function Vg(t){return t.resolve||{}}function Hg(t){return Gi(e=>{const n=t(e);return n?(0,Ct.D)(n).pipe((0,At.U)(()=>e)):(0,zi.of)(e)})}class Wg extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gg=new r.OlP("ROUTES");class Zg{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,At.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ig(Qf(i.injector.get(Gg,void 0,r.XFs.Self|r.XFs.Optional)).map(fg),i)}),pf(t=>{throw e._loader$=void 0,t}));return e._loader$=new df.c(n,()=>new ji.xQ).pipe((0,Cf.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Ct.D)(this.loader.load(t)):tp(t()).pipe((0,yf.zg)(t=>t instanceof r.YKP?(0,zi.of)(t):(0,Ct.D)(this.compiler.compileModuleAsync(t))))}}class $g{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yg,this.attachRef=null}}class Yg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $g,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qg(t){throw t}function Jg(t,e,n){return e.parse("/")}function Xg(t,e){return(0,zi.of)(null)}const tm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},em={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nm=(()=>{class t{constructor(t,e,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ji.xQ,this.errorHandler=Qg,this.malformedUriErrorHandler=Jg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xg,afterPreactivation:Xg},this.urlHandlingStrategy=new Kg,this.routeReuseStrategy=new Wg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new ap(new lp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zg(o,a,t=>this.triggerEvent(new Mf(t)),t=>this.triggerEvent(new jf(t))),this.routerState=Rp(this.currentUrlTree,this.rootComponentType),this.transitions=new Bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Lh(t=>0!==t.id),(0,At.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gi(t=>{let n=!1,r=!1;return(0,zi.of)(t).pipe((0,Sf.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,zi.of)(t).pipe(Gi(t=>{const n=this.transitions.getValue();return e.next(new If(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Fh.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Gi(t=>function(t,e,n,r,i){return new Eg(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,At.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Sf.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,yf.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Mg(t,e,n,r,i,s).recognize();return null===o?Fg(new Dg):(0,zi.of)(o)}catch(Dr){return Fg(Dr)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,At.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Sf.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new If(n,this.serializeUrl(r),i,s);e.next(a);const l=Rp(r,this.rootComponentType).snapshot;return(0,zi.of)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Fh.E}),Hg(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Sf.b)(t=>{const e=new Rf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,At.U)(t=>Object.assign(Object.assign({},t),{guards:Pg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,yf.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,zi.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Ct.D)(t).pipe((0,yf.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,zi.of)(!0);const o=s.map(s=>{const o=Lg(s,e,i);let a;if(function(t){return t&&sg(t.canDeactivate)}(o))a=tp(o.canDeactivate(t,e,n,r));else{if(!sg(o))throw new Error("Invalid CanDeactivate guard");a=tp(o(t,e,n,r))}return a.pipe($h())});return(0,zi.of)(o).pipe(lg())}(t.component,t.route,n,e,r)),$h(t=>!0!==t,!0))}(o,r,i,t).pipe((0,yf.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Ct.D)(e).pipe(_f(e=>uf(function(t,e){return null!==t&&e&&e(new qf(t)),(0,zi.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Uf(t)),(0,zi.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hf(()=>{const i=e.guards.map(i=>{const s=Lg(i,e.node,n);let o;if(function(t){return t&&sg(t.canActivateChild)}(s))o=tp(s.canActivateChild(r,t));else{if(!sg(s))throw new Error("Invalid CanActivateChild guard");o=tp(s(r,t))}return o.pipe($h())});return(0,zi.of)(i).pipe(lg())}));return(0,zi.of)(i).pipe(lg())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,zi.of)(!0);const i=r.map(r=>hf(()=>{const i=Lg(r,e,n);let s;if(function(t){return t&&sg(t.canActivate)}(i))s=tp(i.canActivate(e,t));else{if(!sg(i))throw new Error("Invalid CanActivate guard");s=tp(i(e,t))}return s.pipe($h())}));return(0,zi.of)(i).pipe(lg())}(t,e.route,n))),$h(t=>!0!==t,!0))}(r,s,t,e):(0,zi.of)(n)),(0,At.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Sf.b)(t=>{if(og(t.guardsResult)){const e=Zf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Lh(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),Hg(t=>{if(t.guards.canActivateChecks.length)return(0,zi.of)(t).pipe((0,Sf.b)(t=>{const e=new Df(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gi(t=>{let e=!1;return(0,zi.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,yf.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,zi.of)(t);let s=0;return(0,Ct.D)(i).pipe(_f(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,zi.of)({});const s={};return(0,Ct.D)(i).pipe((0,yf.zg)(i=>function(t,e,n,r){const i=Lg(t,e,r);return tp(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Sf.b)(t=>{s[i]=t}))),vf(1),(0,yf.zg)(()=>Object.keys(s).length===i.length?(0,zi.of)(s):Fh.E))}(t._resolve,t,e,r).pipe((0,At.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dp(t,n).resolve),null)))}(t.route,e,n,r)),(0,Sf.b)(()=>s++),vf(1),(0,yf.zg)(e=>s===i.length?(0,zi.of)(t):Fh.E))})),(0,Sf.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,Sf.b)(t=>{const e=new Ff(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hg(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,At.U)(t=>{const e=function(t,e,n){const r=zp(t,e._root,n?n._root:void 0);return new Lp(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Sf.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),(0,At.U)(t=>(new ng(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),(0,Sf.b)({next(){n=!0},complete(){n=!0}}),kf(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),pf(n=>{if(r=!0,function(t){return t&&t.ngNavigationCancelingError}(n)){const r=og(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new Nf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new Pf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(hi){t.reject(hi)}}return Fh.E}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ug(t),this.config=t.map(fg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Gp(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $p(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Xf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $p(n,e,r)}(n);if(s.toRoot())return Gp(e.root,new lp([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Yp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yp(t,t===e.root,0)}const r=Hp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yp(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Qp(o.segmentGroup,o.index,s.commands):Kp(o.segmentGroup,o.index,s.commands);return Gp(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=og(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Dr){e=this.malformedUriErrorHandler(Dr,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},tm):!1===e?Object.assign({},em):e,og(t))return rp(this.currentUrlTree,t,n);const r=this.parseUrl(t);return rp(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Tf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{u=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new Nf(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(hp),r.LFG(Yg),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),rm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new ji.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:sm(this.skipLocationChange),replaceUrl:sm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:sm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(nm),r.Y36(Op),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),im=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new ji.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Tf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:sm(this.skipLocationChange),replaceUrl:sm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:sm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(nm),r.Y36(Op),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function sm(t){return""===t||!!t}let om=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Tf&&this.update()})}ngAfterContentInit(){(0,zi.of)(this.links.changes,this.linksWithHrefs.changes,(0,zi.of)(null)).pipe((0,cf.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,Ct.D)(e).pipe((0,cf.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(nm),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(rm,8),r.Y36(im,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,rm,5),r.Suo(n,im,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),am=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Hf,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new lm(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Yg),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class lm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Op?this.route:t===Yg?this.childContexts:this.parent.get(t,e)}}class cm{}class um{preload(t,e){return(0,zi.of)(null)}}let hm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zg(e,n,e=>t.triggerEvent(new Mf(e)),e=>t.triggerEvent(new jf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lh(t=>t instanceof Tf),_f(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Ct.D)(n).pipe((0,cf.J)(),(0,At.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,zi.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,yf.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(nm),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(cm))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),dm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof If?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Vf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(nm),r.LFG(U),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const fm=new r.OlP("ROUTER_CONFIGURATION"),pm=new r.OlP("ROUTER_FORROOT_GUARD"),gm=[w,{provide:hp,useClass:dp},{provide:nm,useFactory:function(t,e,n,r,i,s,o,a={},l,c){const u=new nm(null,t,e,n,r,i,s,Qf(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[hp,Yg,w,r.zs3,r.v3s,r.Sil,Gg,fm,[class{},new r.FiY],[class{},new r.FiY]]},Yg,{provide:Op,useFactory:function(t){return t.routerState.root},deps:[nm]},{provide:r.v3s,useClass:r.EAV},hm,um,class{preload(t,e){return e().pipe(pf(()=>(0,zi.of)(null)))}},{provide:fm,useValue:{enableTracing:!1}}];function mm(){return new r.PXZ("Router",nm)}let ym=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[gm,wm(e),{provide:pm,useFactory:bm,deps:[[nm,new r.FiY,new r.tp0]]},{provide:fm,useValue:n||{}},{provide:m,useFactory:vm,deps:[a,[new r.tBr(_),new r.FiY],fm]},{provide:dm,useFactory:_m,deps:[nm,U,fm]},{provide:cm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:um},{provide:r.PXZ,multi:!0,useFactory:mm},[Sm,{provide:r.ip1,multi:!0,useFactory:Cm,deps:[Sm]},{provide:xm,useFactory:km,deps:[Sm]},{provide:r.tb,multi:!0,useExisting:xm}]]}}static forChild(e){return{ngModule:t,providers:[wm(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(pm,8),r.LFG(nm,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function _m(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new dm(t,e,n)}function vm(t,e,n={}){return n.useHash?new b(t,e):new v(t,e)}function bm(t){return"guarded"}function wm(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Gg,multi:!0,useValue:t}]}let Sm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ji.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(nm),r=this.injector.get(fm);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,zi.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(fm),n=this.injector.get(hm),i=this.injector.get(dm),s=this.injector.get(nm),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Cm(t){return t.appInitializer.bind(t)}function km(t){return t.bootstrapListener.bind(t)}const xm=new r.OlP("Router Initializer");let Am,Em=(()=>{class t{constructor(t,e){this.userService=t,this.route=e}canActivate(t,e){return"true"==localStorage.getItem("isUser")||(this.route.navigate(["login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ef),r.LFG(nm))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Im{constructor(t){this.total=t}call(t,e){return e.subscribe(new Tm(t,this.total))}}class Tm extends Yi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Nm(t){return e=>e.lift(new Pm(t))}class Pm{constructor(t){this.notifier=t}call(t,e){const n=new Lm(t),r=(0,Wi.ft)(this.notifier,new Wi.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Lm extends Wi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Rm(t){return null!=t&&"false"!=`${t}`}function Om(t){return Array.isArray(t)?t:[t]}function Dm(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Fm(t){return t instanceof r.SBq?t.nativeElement:t}try{Am="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Fe){Am=!1}let Mm,jm,qm,Bm=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Am)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})(),Um=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function zm(t){return function(){if(null==Mm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Mm=!0}))}finally{Mm=Mm||!1}return Mm}()?t:!!t.capture}function Vm(){if(null==jm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jm=!1,jm;if("scrollBehavior"in document.documentElement.style)jm=!0;else{const t=Element.prototype.scrollTo;jm=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return jm}function Hm(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Wm(t){return t.composedPath?t.composedPath()[0]:t.target}function Gm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let Zm=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Fe){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Ym(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Ym(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||$m(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bm))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Bm))},token:t,providedIn:"root"}),t})();function $m(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ym(t){if(!$m(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Km{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Mh(1)).subscribe(t)}}let Qm=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Km(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Zm),r.LFG(r.R0b),r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Zm),r.LFG(r.R0b),r.LFG(o))},token:t,providedIn:"root"}),t})();function Jm(t){return 0===t.offsetX&&0===t.offsetY}function Xm(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const ty=new r.OlP("cdk-input-modality-detector-options"),ey={ignoreKeys:[18,17,224,91,16]},ny=zm({passive:!0,capture:!0});let ry=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new Bi(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Wm(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Jm(t)?"keyboard":"mouse"),this._mostRecentTarget=Wm(t))},this._onTouchstart=t=>{Xm(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wm(t))},this._options=Object.assign(Object.assign({},ey),r),this.modalityDetected=this._modality.pipe(t=>t.lift(new Im(1))),this.modalityChanged=this.modalityDetected.pipe(Xi()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,ny),n.addEventListener("mousedown",this._onMousedown,ny),n.addEventListener("touchstart",this._onTouchstart,ny)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ny),document.removeEventListener("mousedown",this._onMousedown,ny),document.removeEventListener("touchstart",this._onTouchstart,ny))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bm),r.LFG(r.R0b),r.LFG(o),r.LFG(ty,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Bm),r.LFG(r.R0b),r.LFG(o),r.LFG(ty,8))},token:t,providedIn:"root"}),t})();const iy=new r.OlP("cdk-focus-monitor-default-options"),sy=zm({passive:!0,capture:!0});let oy=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ji.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=Wm(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Fm(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,zi.of)(null);const r=function(t){if(function(){if(null==qm){const t="undefined"!=typeof document?document.head:null;qm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return qm}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new ji.xQ,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Fm(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Fm(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=Wm(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,sy),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,sy)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nm(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sy),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sy),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(Bm),r.LFG(ry),r.LFG(o,8),r.LFG(iy,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(Bm),r.LFG(ry),r.LFG(o,8),r.LFG(iy,8))},token:t,providedIn:"root"}),t})();const ay="cdk-high-contrast-black-on-white",ly="cdk-high-contrast-white-on-black",cy="cdk-high-contrast-active";let uy=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cy),t.remove(ay),t.remove(ly),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(cy),t.add(ay)):2===e&&(t.add(cy),t.add(ly))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bm),r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Bm),r.LFG(o))},token:t,providedIn:"root"}),t})();const hy=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let dy=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hy,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(hy,8))},token:t,providedIn:"root"}),t})(),fy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const py=new r.GfV("12.2.13");class gy{}const my="*";function yy(t,e){return{type:7,name:t,definitions:e,options:{}}}function _y(t,e=null){return{type:4,styles:e,timings:t}}function vy(t,e=null){return{type:2,steps:t,options:e}}function by(t){return{type:6,styles:t,offset:null}}function wy(t,e,n){return{type:0,name:t,styles:e,options:n}}function Sy(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Cy(t){Promise.resolve(null).then(t)}class ky{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xy{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Cy(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ay(){return"undefined"!=typeof window&&void 0!==window.document}function Ey(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Iy(t){switch(t.length){case 0:return new ky;case 1:return t[0];default:return new xy(t)}}function Ty(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case my:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ny(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Py(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Py(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Py(n,"destroy",t)))}}function Py(t,e,n){const r=n.totalTime,i=Ly(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Ly(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ry(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Oy(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Dy=(t,e)=>!1,Fy=(t,e)=>!1,My=(t,e,n)=>[];const jy=Ey();(jy||"undefined"!=typeof Element)&&(Dy=Ay()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Fy=(()=>{if(jy||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Fy}})(),My=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let qy=null,By=!1;function Uy(t){qy||(qy=("undefined"!=typeof document?document.body:null)||{},By=!!qy.style&&"WebkitAppearance"in qy.style);let e=!0;return qy.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in qy.style,!e&&By)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in qy.style),e}const zy=Fy,Vy=Dy,Hy=My;function Wy(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Gy=(()=>{class t{validateStyleProperty(t){return Uy(t)}matchesElement(t,e){return zy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Hy(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new ky(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Zy{}Zy.NOOP=new Gy;const $y="ng-enter",Yy="ng-leave",Ky="ng-trigger",Qy=".ng-trigger",Jy="ng-animating",Xy=".ng-animating";function t_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:e_(parseFloat(e[1]),e[2])}function e_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function n_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=e_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=e_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function r_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function i_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else r_(t,n);return n}function s_(t,e,n){return n?e+":"+n+";":""}function o_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=s_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=s_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function a_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=g_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ey()&&o_(t))}function l_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=g_(e);t.style[n]=""}),Ey()&&o_(t))}function c_(t){return Array.isArray(t)?1==t.length?t[0]:vy(t):t}const u_=new RegExp("{{\\s*(.+?)\\s*}}","g");function h_(t){let e=[];if("string"==typeof t){let n;for(;n=u_.exec(t);)e.push(n[1]);u_.lastIndex=0}return e}function d_(t,e,n){const r=t.toString(),i=r.replace(u_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function f_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const p_=/-+([a-z0-9])/g;function g_(t){return t.replace(p_,(...t)=>t[1].toUpperCase())}function m_(t,e){return 0===t||0===e}function y_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=v_(t,e)})}}return e}function __(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function v_(t,e){return window.getComputedStyle(t)[e]}const b_="*";function w_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(k_(i,o)),"<"!=s[0]||i==b_&&o==b_||e.push(k_(o,i))}(t,n,e)):n.push(t),n}const S_=new Set(["true","1"]),C_=new Set(["false","0"]);function k_(t,e){const n=S_.has(t)||C_.has(t),r=S_.has(e)||C_.has(e);return(i,s)=>{let o=t==b_||t==i,a=e==b_||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?S_.has(t):C_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?S_.has(e):C_.has(e)),o&&a}}const x_=new RegExp("s*:selfs*,?","g");function A_(t,e,n){return new E_(t).build(e,n)}class E_{constructor(t){this._driver=t}build(t,e){const n=new I_(e);return this._resetContextStyleTimingState(n),__(this,c_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(T_(t)){const e=t;Object.keys(e).forEach(t=>{h_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=f_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=__(this,c_(t.animation),e);return{type:1,matchers:w_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:N_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>__(this,t,e)),options:N_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=__(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:N_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return P_(n_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=P_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||n_(r,e),P_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:by({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=by(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==my?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(T_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=h_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(T_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(T_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:__(this,c_(t.animation),e),options:N_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:N_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:N_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(x_,"")),[t=t.replace(/@\*/g,Qy).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Xy),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ry(e.collectedStyles,e.currentQuerySelector,{});const o=__(this,c_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:N_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:n_(t.timings,e.errors,!0);return{type:12,animation:__(this,c_(t.animation),e),timings:n,options:null}}}class I_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function T_(t){return!Array.isArray(t)&&"object"==typeof t}function N_(t){var e;return t?(t=r_(t)).params&&(t.params=(e=t.params)?r_(e):null):t={},t}function P_(t,e,n){return{duration:t,delay:e,easing:n}}function L_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class R_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const O_=new RegExp(":enter","g"),D_=new RegExp(":leave","g");function F_(t,e,n,r,i,s={},o={},a,l,c=[]){return(new M_).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class M_{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new R_;const u=new q_(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),__(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[L_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?t_(n.duration):null,s=null!=n.delay?t_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),__(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=j_);const t=t_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>__(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?t_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),__(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return n_(e.params?d_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?t_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=j_);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),__(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;__(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const j_={};class q_{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=j_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new B_(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=t_(n.duration)),null!=n.delay&&(r.delay=t_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=d_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new q_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=j_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new U_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(O_,"."+this._enterClassName)).replace(D_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class B_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new B_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||my,this._currentKeyframe[t]=my}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=my})):i_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=d_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:my),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=i_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==my&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?f_(t.values()):[],s=e.size?f_(e.values()):[];if(n){const t=r[0],e=r_(t);t.offset=0,e.offset=1,r=[t,e]}return L_(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class U_ extends B_{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=i_(t[0],!1);a.offset=0,i.push(a);const l=i_(t[0],!1);l.offset=z_(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=i_(t[r],!1);o.offset=z_((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return L_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function z_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class V_{}class H_ extends V_{normalizePropertyName(t,e){return g_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(W_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const W_=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function G_(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Z_={};class $_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Z_,d=this.buildStyles(n,o&&o.params||Z_,u),f=a&&a.params||Z_,p=this.buildStyles(r,f,u),g=new Set,m=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),f)},b=c?[]:F_(t,e,this.ast.animation,i,s,d,p,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return G_(e,this._triggerName,n,r,_,d,p,[],[],m,y,w,u);b.forEach(t=>{const n=t.element,r=Ry(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ry(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=f_(g.values());return G_(e,this._triggerName,n,r,_,d,p,b,S,m,y,w)}}class Y_{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=r_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=d_(s,r,e));const o=this.normalizer.normalizePropertyName(t,e);s=this.normalizer.normalizeStyleValue(t,o,s,e),n[o]=s})}}),n}}class K_{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Y_(t.style,t.options&&t.options.params||{},n)}),Q_(this.states,"true","1"),Q_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $_(t,e,this.states))}),this.fallbackTransition=new $_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Q_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const J_=new R_;class X_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=A_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ty(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=F_(this._driver,e,i,$y,Yy,{},{},n,J_,r),s.forEach(t=>{const e=Ry(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,my)})});const a=Iy(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Ly(e,"","","");return Ny(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tv="ng-animate-queued",ev="ng-animate-disabled",nv=".ng-animate-disabled",rv=[],iv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ov{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=r_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const av="void",lv=new ov(av);class cv{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,mv(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ry(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ry(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(mv(t,Ky),mv(t,"ng-trigger-"+e),a[e]=lv),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new hv(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(mv(t,Ky),mv(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new ov(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=lv),l.value!==av&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{l_(t,n),a_(t,r)})}return}const c=Ry(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(mv(t,tv),s.onStart(()=>{yv(t,tv)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Qy,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,av,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Iy(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||lv,a=new ov(av),l=new hv(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==iv||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){mv(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Ly(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ny(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class uv{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cv(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(dv(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!dv(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),mv(t,ev)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yv(t,ev))}removeNode(t,e,n,r){if(dv(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return dv(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Qy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xy,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Iy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=iv,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,nv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,nv,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)mv(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Iy(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new R_,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=gv(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=$y+p++;f.set(e,n),t.forEach(t=>mv(t,n))});const g=[],m=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const _=new Map,v=gv(h,Array.from(m));v.forEach((t,e)=>{const n=Yy+p++;_.set(e,n),t.forEach(t=>mv(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>yv(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>yv(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=_.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>l_(i,p.fromStyles)),e.onDestroy(()=>a_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>l_(i,p.fromStyles)),e.onDestroy(()=>a_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ry(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ry(S,e,[]).push(t),t.destroy()})});const k=g.filter(t=>bv(t,a,l)),x=new Map;pv(x,this.driver,y,l,my).forEach(t=>{bv(t,a,l)&&k.push(t)});const A=new Map;d.forEach((t,e)=>{pv(A,this.driver,new Set(t),a,"!")}),k.forEach(t=>{const e=x.get(t),n=A.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const E=[],I=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>a_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=T;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,A,x);if(s.setRealPlayer(n),t===T)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Iy(e)),r.push(s)}}else l_(e,o.fromStyles),s.onDestroy(()=>a_(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Iy(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<g.length;N++){const t=g[N],e=t.__ng_removed;if(yv(t,Yy),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Xy,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?_v(this,t,r):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==av;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Ry(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}l_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ky(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return vv(t,e),e}((n.get(h)||rv).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Ty(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&u.add(h),f){const e=new hv(t,o,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{Ry(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>mv(t,Jy));const d=Iy(h);return d.onDestroy(()=>{c.forEach(t=>yv(t,Jy)),a_(a,e.toStyles)}),u.forEach(t=>{Ry(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ky(t.duration,t.delay)}}class hv{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ky,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ny(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ry(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dv(t){return t&&1===t.nodeType}function fv(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function pv(t,e,n,r,i){const s=[];n.forEach(t=>s.push(fv(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=sv,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>fv(t,s[a++])),o}function gv(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function mv(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function yv(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function _v(t,e,n){Iy(n).onDone(()=>t.processLeaveNode(e))}function vv(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof xy?vv(r.players,e):e.push(r)}}function bv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class wv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new uv(t,e,n),this._timelineEngine=new X_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=A_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e,n){return new K_(t,e,n)}(r,e,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Oy(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Oy(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Sv(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=kv(e[0]),e.length>1&&(r=kv(e[e.length-1]))):e&&(n=kv(e)),n||r?new Cv(t,n,r):null}class Cv{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=Cv.initialStylesByElement.get(t);r||Cv.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&a_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(a_(this._element,this._initialStyles),this._endStyles&&(a_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Cv.initialStylesByElement.delete(this._element),this._startStyles&&(l_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(l_(this._element,this._endStyles),this._endStyles=null),a_(this._element,this._initialStyles),this._state=3)}}function kv(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];xv(i)&&(e=e||{},e[i]=t[i])}return e}function xv(t){return"display"===t||"position"===t}Cv.initialStylesByElement=new WeakMap;const Av="animation",Ev="animationend";class Iv{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ov(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Rv(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Lv(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Tv(this._element,this._name,"paused")}resume(){Tv(this._element,this._name,"running")}setPosition(t){const e=Nv(this._element,this._name);this._position=t*this._duration,Rv(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Lv(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ov(t,"").split(","),r=Pv(n,e);r>=0&&(n.splice(r,1),Rv(t,"",n.join(",")))}(this._element,this._name))}}function Tv(t,e,n){Rv(t,"PlayState",n,Nv(t,e))}function Nv(t,e){const n=Ov(t,"");return n.indexOf(",")>0?Pv(n.split(","),e):Pv([n],e)}function Pv(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Lv(t,e,n){n?t.removeEventListener(Ev,e):t.addEventListener(Ev,e)}function Rv(t,e,n,r){const i=Av+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ov(t,e){return t.style[Av+e]||""}class Dv{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Iv(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:v_(this.element,n))})}this.currentSnapshot=t}}class Fv extends ky{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Wy(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Mv{constructor(){this._count=0}validateStyleProperty(t){return Uy(t)}matchesElement(t,e){return zy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Hy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Wy(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Dv),l={};m_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=y_(t,e,l));if(0==n)return new Fv(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=Sv(t,e),f=new Dv(t,e,u,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class jv{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:v_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class qv{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Bv().toString()),this._cssKeyframesDriver=new Mv}validateStyleProperty(t){return Uy(t)}matchesElement(t,e){return zy(t,e)}containsElement(t,e){return Vy(t,e)}query(t,e,n){return Hy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof jv);m_(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=Sv(t,e=y_(t,e=e.map(t=>i_(t,!1)),l));return new jv(t,e,a,u)}}function Bv(){return Ay()&&Element.prototype.animate||{}}let Uv=(()=>{class t extends gy{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?vy(t):t;return Hv(this._renderer,null,e,"register",[n]),new zv(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class zv extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vv(this._id,t,e||{},this._renderer)}}class Vv{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Hv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Hv(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Wv="@",Gv="@.disabled";let Zv=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new $v("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Yv(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(wv),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class $v{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Wv&&e==Gv?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Yv extends $v{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Wv?"."==e.charAt(1)&&e==Gv?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Wv){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Wv&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Kv=(()=>{class t extends wv{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(Zy),r.LFG(V_))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Qv=new r.OlP("AnimationModuleType"),Jv=[{provide:gy,useClass:Uv},{provide:V_,useFactory:function(){return new H_}},{provide:wv,useClass:Kv},{provide:r.FYo,useFactory:function(t,e,n){return new Zv(t,e,n)},deps:[at,wv,r.R0b]}],Xv=[{provide:Zy,useFactory:function(){return"function"==typeof Bv()?new qv:new Mv}},{provide:Qv,useValue:"BrowserAnimations"},...Jv],tb=[{provide:Zy,useClass:Gy},{provide:Qv,useValue:"NoopAnimations"},...Jv];let eb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?tb:Xv}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Xv,imports:[St]}),t})();const nb=new r.GfV("12.2.13"),rb=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ib,sb=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,r.X6Q)()||Gm())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&nb.full!==py.full&&console.warn("The Angular Material version ("+nb.full+") does not match the Angular CDK version ("+py.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(uy),r.LFG(rb,8),r.LFG(o))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[fy],fy]}),t})();function ob(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Rm(t)}}}function ab(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function lb(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rm(t)}}}function cb(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new kt.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{ib="undefined"!=typeof Intl}catch(Fe){ib=!1}class ub{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hb={enterDuration:225,exitDuration:150},db=zm({passive:!0}),fb=["mousedown","touchstart"],pb=["mouseup","mouseleave","touchend","touchcancel"];class gb{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fm(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},hb),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new ub(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},hb),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Fm(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(fb))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pb),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Jm(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Xm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,db)})})}_removeTriggerEvents(){this._triggerElement&&(fb.forEach(t=>{this._triggerElement.removeEventListener(t,this,db)}),this._pointerUpEventsRegistered&&pb.forEach(t=>{this._triggerElement.removeEventListener(t,this,db)}))}}const mb=new r.OlP("mat-ripple-global-options");let yb=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gb(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Bm),r.Y36(mb,8),r.Y36(Qv,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),_b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[sb,Um],sb]}),t})();const vb=new r.OlP("MAT_SORT_DEFAULT_OPTIONS"),bb=cb(ob(class{}));let wb=(()=>{class t extends bb{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new ji.xQ,this.start="asc",this._direction="",this.sortChange=new r.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Rm(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var e,n,r;if(!t)return"";const i=null!==(n=null!==(e=null==t?void 0:t.disableClear)&&void 0!==e?e:this.disableClear)&&void 0!==n?n:!!(null===(r=this._defaultOptions)||void 0===r?void 0:r.disableClear);let s=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,i),o=s.indexOf(this.direction)+1;return o>=s.length&&(o=0),s[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(vb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.qOj,r.TTD]}),t})();function Sb(t){return t&&"function"==typeof t.connect}class Cb{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}const kb=new r.OlP("_ViewRepeater");var xb=n(9105);function Ab(t,e,n,r){return(0,xb.m)(n)&&(r=n,n=void 0),r?Ab(t,e,n).pipe((0,At.U)(t=>(0,xt.k)(t)?r(...t):r(t))):new kt.y(r=>{Eb(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Eb(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Eb(t[s],e,n,r,i)}r.add(s)}var Ib=n(6465),Tb=n(6102);new class extends Tb.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Ib.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),n(4581);class Nb{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Pb(t,this.durationSelector))}}class Pb extends Wi.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=(0,Wi.ft)(n,new Wi.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Lb=n(6561);function Rb(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ob(t,e=Ui.P){return n=()=>function(t=0,e,n){let r=-1;return(0,Lb.k)(e)?r=Number(e)<1?1:Number(e):(0,nf.K)(e)&&(n=e),(0,nf.K)(n)||(n=Ui.P),new kt.y(e=>{const i=(0,Lb.k)(t)?t:+t-n.now();return n.schedule(Rb,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Nb(n))};var n}let Db=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new ji.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new kt.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ob(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,zi.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Lh(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Fm(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ab(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(Bm),r.LFG(o,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(Bm),r.LFG(o,8))},token:t,providedIn:"root"}),t})(),Fb=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new ji.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ob(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bm),r.LFG(r.R0b),r.LFG(o,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Bm),r.LFG(r.R0b),r.LFG(o,8))},token:t,providedIn:"root"}),t})(),Mb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),jb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[fy,Um,Mb],fy,Mb]}),t})();const qb=[[["caption"]],[["colgroup"],["col"]]],Bb=["caption","colgroup, col"];function Ub(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Rm(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const zb=new r.OlP("CDK_TABLE");let Vb=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t})(),Hb=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),Wb=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class Gb{}const Zb=Ub(Gb);let $b=(()=>{class t extends Zb{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Rm(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(zb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,Vb,5),r.Suo(n,Hb,5),r.Suo(n,Wb,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.cell=t.first),r.iGM(t=r.CRH())&&(e.headerCell=t.first),r.iGM(t=r.CRH())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.qOj]}),t})();class Yb{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let Kb=(()=>{class t extends Yb{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),t})(),Qb=(()=>{class t extends Yb{constructor(t,e){var n;if(super(t,e),1===(null===(n=t._table)||void 0===n?void 0:n._elementRef.nativeElement.nodeType)){const n=t._table._elementRef.nativeElement.getAttribute("role");e.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),t})();class Jb{constructor(){this.tasks=[],this.endTasks=[]}}const Xb=new r.OlP("_COALESCED_STYLE_SCHEDULER");let tw=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ji.xQ}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Jb,this._getScheduleObservable().pipe(Nm(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new Jb;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ct.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Mh(1))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ew=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof iw?t.headerCell.template:this instanceof aw?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,features:[r.TTD]}),t})();class nw extends ew{}const rw=Ub(nw);let iw=(()=>{class t extends rw{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(zb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),t})();class sw extends ew{}const ow=Ub(sw);let aw=(()=>{class t extends ow{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(zb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),t})(),lw=(()=>{class t extends ew{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(zb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),t})(),cw=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),uw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.GkF(0,0)},directives:[cw],encapsulation:2}),t})(),hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.GkF(0,0)},directives:[cw],encapsulation:2}),t})(),dw=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const fw=["top","bottom","left","right"];class pw{constructor(t,e,n,r,i=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._coalescedStyleScheduler.schedule(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=t[0],s=i.children.length,o=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),c=e.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const o of t)for(let t=0;t<s;t++){const r=o.children[t];e[t]&&this._addStickyStyle(r,i,a[t],t===c),n[t]&&this._addStickyStyle(r,h,l[t],t===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((t,e)=>n[e+u]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let c=0,u=0;c<r.length;c++){if(!i[c])continue;s[c]=u;const t=r[c];a[c]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;u+=e,o[c]=e}const l=i.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var t,e;for(let o=0;o<r.length;o++){if(!i[o])continue;const t=s[o],e=o===l;for(const r of a[o])this._addStickyStyle(r,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);fw.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of fw)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}const gw=new r.OlP("CDK_SPL");let mw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","rowOutlet",""]]}),t})(),yw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),_w=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),vw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),bw=(()=>{class t{constructor(t,e,n,i,s,o,a,l,c,u,h){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=s,this._platform=a,this._viewRepeater=l,this._coalescedStyleScheduler=c,this._viewportRuler=u,this._stickyPositioningListener=h,this._onDestroy=new ji.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new Bi({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","table"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Rm(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Rm(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler.change().pipe(Nm(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Sb(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const e=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ww(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=ww(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ww(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ww(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],Sb(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;Sb(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof kt.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,zi.of)(this.dataSource)),this._renderChangeSubscription=t.pipe(Nm(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))cw.mostRecentCellOutlet&&cw.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new pw(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,zi.of)()).pipe(Nm(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(dy,8),r.Y36(o),r.Y36(Bm),r.Y36(kb),r.Y36(Xb),r.Y36(Fb),r.Y36(gw,12))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,dw,5),r.Suo(n,$b,5),r.Suo(n,lw,5),r.Suo(n,iw,5),r.Suo(n,aw,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._noDataRow=t.first),r.iGM(t=r.CRH())&&(e._contentColumnDefs=t),r.iGM(t=r.CRH())&&(e._contentRowDefs=t),r.iGM(t=r.CRH())&&(e._contentHeaderRowDefs=t),r.iGM(t=r.CRH())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(r.Gf(mw,7),r.Gf(yw,7),r.Gf(_w,7),r.Gf(vw,7)),2&t){let t;r.iGM(t=r.CRH())&&(e._rowOutlet=t.first),r.iGM(t=r.CRH())&&(e._headerRowOutlet=t.first),r.iGM(t=r.CRH())&&(e._footerRowOutlet=t.first),r.iGM(t=r.CRH())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:zb,useExisting:t},{provide:kb,useClass:Cb},{provide:Xb,useClass:tw},{provide:gw,useValue:null}])],ngContentSelectors:Bb,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.F$t(qb),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[yw,mw,vw,_w],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function ww(t,e){return t.concat(Array.from(e))}let Sw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[jb]]}),t})();const Cw=[[["caption"]],[["colgroup"],["col"]]],kw=["caption","colgroup, col"];let xw=(()=>{class t extends bw{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:kb,useClass:Cb},{provide:bw,useExisting:t},{provide:zb,useExisting:t},{provide:Xb,useClass:tw},{provide:gw,useValue:null}]),r.qOj],ngContentSelectors:kw,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.F$t(Cw),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[yw,mw,vw,_w],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),Aw=(()=>{class t extends Vb{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:Vb,useExisting:t}]),r.qOj]}),t})(),Ew=(()=>{class t extends Hb{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:Hb,useExisting:t}]),r.qOj]}),t})(),Iw=(()=>{class t extends $b{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:$b,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.qOj]}),t})(),Tw=(()=>{class t extends Kb{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),t})(),Nw=(()=>{class t extends Qb{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),t})(),Pw=(()=>{class t extends iw{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:iw,useExisting:t}]),r.qOj]}),t})(),Lw=(()=>{class t extends lw{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:lw,useExisting:t}]),r.qOj]}),t})(),Rw=(()=>{class t extends uw{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:uw,useExisting:t}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.GkF(0,0)},directives:[cw],encapsulation:2}),t})(),Ow=(()=>{class t extends hw{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:hw,useExisting:t}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.GkF(0,0)},directives:[cw],encapsulation:2}),t})(),Dw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Sw,sb],sb]}),t})();class Fw extends class extends class{}{constructor(t=[]){super(),this._renderData=new Bi([]),this._filter=new Bi(""),this._internalPageChanges=new ji.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof i,a=typeof s;o!==a&&("number"===o&&(i+=""),"number"===a&&(s+=""));let l=0;return null!=i&&null!=s?i>s?l=1:i<s&&(l=-1):null!=i?l=1:null!=s&&(l=-1),l*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new Bi(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Vi.T)(this._sort.sortChange,this._sort.initialized):(0,zi.of)(null),n=this._paginator?(0,Vi.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,zi.of)(null),r=of([this._data,this._filter]).pipe((0,At.U)(([t])=>this._filterData(t))),i=of([r,e]).pipe((0,At.U)(([t])=>this._orderData(t))),s=of([i,n]).pipe((0,At.U)(([t])=>this._pageData(t)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=s.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var Mw=n(3815);const jw=["*",[["mat-card-footer"]]],qw=["*","mat-card-footer"],Bw=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Uw=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),Vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),Ww=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),Gw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),Zw=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Qv,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:qw,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(jw),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),$w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Uw,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.F$t(Bw),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})(),Yw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[sb],sb]}),t})();const Kw=["mat-button",""],Qw=["*"],Jw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Xw=ab(ob(lb(class{constructor(t){this._elementRef=t}})));let tS=(()=>{class t extends Xw{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Jw)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(oy),r.Y36(Qv,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Gf(yb,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.uIk("disabled",e.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Kw,ngContentSelectors:Qw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&t&&(r.xp6(2),r.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[yb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),eS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[_b,sb],sb]}),t})();var nS=n(205);class rS{}class iS{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof iS?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new iS;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof iS?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sS{encodeKey(t){return oS(t)}encodeValue(t){return oS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function oS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function aS(t){return`${t}`}class lS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new lS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(aS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(aS(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cS{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function uS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function hS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function dS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class fS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new iS),this.context||(this.context=new cS),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new lS,this.urlWithParams=e}serializeBody(){return null===this.body?null:uS(this.body)||hS(this.body)||dS(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof lS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dS(this.body)?null:hS(this.body)?this.body.type||null:uS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new fS(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var pS=(()=>((pS=pS||{})[pS.Sent=0]="Sent",pS[pS.UploadProgress=1]="UploadProgress",pS[pS.ResponseHeader=2]="ResponseHeader",pS[pS.DownloadProgress=3]="DownloadProgress",pS[pS.Response=4]="Response",pS[pS.User=5]="User",pS))();class gS extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new iS,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=pS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function mS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let yS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof fS)r=t;else{let i,s;i=n.headers instanceof iS?n.headers:new iS(n.headers),n.params&&(s=n.params instanceof lS?n.params:new lS({fromObject:n.params})),r=new fS(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,zi.of)(r).pipe(_f(t=>this.handler.handle(t)));if(t instanceof fS||"events"===n.observe)return i;const s=i.pipe(Lh(t=>t instanceof gS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,At.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,At.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,At.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,At.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new lS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,mS(n,e))}post(t,e,n={}){return this.request("POST",t,mS(n,e))}put(t,e,n={}){return this.request("PUT",t,mS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rS))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const _S=["*"];function vS(t){return Error(`Unable to find icon with the name "${t}"`)}function bS(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function wS(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class SS{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let CS=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new SS(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw wS(n);return this._addSvgIconConfig(t,e,new SS("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new SS(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.q3G.HTML,e);if(!i)throw wS(e);return this._addSvgIconSetConfig(t,new SS("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!e)throw bS(t);const n=this._cachedIconsByUrl.get(e);return n?(0,zi.of)(kS(n)):this._loadSvgIconFromConfig(new SS(t,null)).pipe((0,Sf.b)(t=>this._cachedIconsByUrl.set(e,t)),(0,At.U)(t=>kS(t)))}getNamedSvgIcon(t,e=""){const n=xS(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(0,nS._)(vS(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,zi.of)(kS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,At.U)(t=>kS(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?(0,zi.of)(n):It(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(pf(e=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,zi.of)(null)})))).pipe((0,At.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw vS(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Sf.b)(e=>t.svgText=e),(0,At.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,zi.of)(null):this._fetchIcon(t).pipe((0,Sf.b)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw bS(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(kf(()=>this._inProgressUrlFetches.delete(o)),(0,Hi.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(xS(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new SS(i.url,null,i.options):new SS(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yS,8),r.LFG(yt),r.LFG(o,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(yS,8),r.LFG(yt),r.LFG(o,8),r.LFG(r.qLn))},token:t,providedIn:"root"}),t})();function kS(t){return t.cloneNode(!0)}function xS(t,e){return t+":"+e}const AS=ab(class{constructor(t){this._elementRef=t}}),ES=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,r.f3M)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),IS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TS=IS.map(t=>`[${t}]`).join(", "),NS=/^url\(['"]?#(.*?)['"]?\)$/;let PS=(()=>{class t extends AS{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ah.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Rm(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(TS),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)IS.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(NS):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Mh(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(CS),r.$8M("aria-hidden"),r.Y36(ES),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:_S,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),LS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[sb],sb]}),t})();const RS=function(t){return{"text-align":t,"margin-right":"25px"}};function OS(t,e){if(1&t&&(r.TgZ(0,"ul"),r.TgZ(1,"li",13),r.TgZ(2,"span",14),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngStyle",r.VKq(2,RS,"right"==t.align?"right":"left")),r.xp6(2),r.Oqu(t.text)}}function DS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-card",1),r.TgZ(1,"mat-card-header"),r._UZ(2,"div",2),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"mat-card-content"),r.TgZ(8,"div",3),r.YNc(9,OS,4,4,"ul",4),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-footer"),r.TgZ(11,"form",5,6),r.NdJ("ngSubmit",function(){return r.CHM(t),r.oxw().postMessage()}),r.TgZ(13,"div",7),r.TgZ(14,"div",8),r.TgZ(15,"input",9,10),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().message=e}),r.qZA(),r.qZA(),r.TgZ(17,"div",11),r.TgZ(18,"button",12),r.TgZ(19,"mat-icon"),r._uU(20,"send"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(4),r.Oqu(t.singleUser.name),r.xp6(2),r.Oqu(t.singleUser.place),r.xp6(3),r.Q6J("ngForOf",t.messages),r.xp6(6),r.Q6J("ngModel",t.message),r.xp6(3),r.Q6J("disabled",""==t.message)}}let FS=(()=>{class t{constructor(t){this.userService=t}ngOnInit(){this.author=JSON.parse(localStorage.getItem("user")||"")}postMessage(){this.singleUser.messages?this.singleUser.messages.push({fromId:this.author.id,text:this.message,time:new Date}):this.singleUser.messages=[{fromId:this.author.id,text:this.message,time:new Date}],this.userService.updateUser(this.singleUser.key,this.singleUser),alert("msg send successfully"),this.message="",this.loadMessages(this.singleUser)}loadMessages(t){var e,n;this.singleUser=t,this.messages=[];let r=[];console.log(this.author),this.messages=(null===(n=null===(e=this.author)||void 0===e?void 0:e.messages)||void 0===n?void 0:n.filter(e=>e.fromId==t.id))||[],console.log(this.message),this.userService.getSingleUserDetails(this.singleUser.key).snapshotChanges().subscribe(t=>{var e;r=t.payload.val(),null===(e=null==r?void 0:r.messages)||void 0===e||e.filter(t=>{t.fromId==this.author.id&&(t.align="right",this.messages.push(t),this.messages=Mw.uniqBy(Mw.sortBy(this.messages,["time"]),"text"))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ef))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-user"]],inputs:{singleUser:"singleUser",notifyUser:"notifyUser"},decls:1,vars:1,consts:[["class","example-card","id","htmldata",4,"ngIf"],["id","htmldata",1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[1,"chat-body"],[4,"ngFor","ngForOf"],[3,"ngSubmit"],["chatForm","ngForm"],[1,"row"],[1,"col-sm-10","form-group"],["name","name","placeholder","Type a text here","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"col-sm-2","form-group"],["mat-icon-button","","color","primary","aria-label","Send Message","type","submit",3,"disabled"],[3,"ngStyle"],[1,"chat-style"]],template:function(t,e){1&t&&r.YNc(0,DS,21,5,"mat-card",0),2&t&&r.Q6J("ngIf",""!=e.singleUser&&null!=e.singleUser)},directives:[P,Zw,$w,Gw,Vw,Hw,zw,T,Ww,Se,Qt,_e,Dt,xe,Kt,we,tS,PS,O],styles:[".example-card[_ngcontent-%COMP%]{font:message-box;box-shadow:4px 4px 3px 5px #1460bb33;border-radius:12px;padding:0!important;border:1px solid #0080ffa3}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}ul[_ngcontent-%COMP%]{list-style:none}mat-card-header[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #0080ffa3}mat-card-footer[_ngcontent-%COMP%]{margin:2px 0;border-top:1px solid #0080ffa3;padding:12px}.chat-style[_ngcontent-%COMP%]{background:#00bfff8f;padding:2px 15px;border-radius:8px;color:#faebd7;font-weight:600}.chat-body[_ngcontent-%COMP%]{font-size:24px;margin:10px 2px!important}"]}),t})();class MS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jS extends MS{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class qS extends MS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BS extends MS{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class US{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof qS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BS?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zS extends US{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let VS=(()=>{class t extends US{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(o))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),t})(),HS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const WS=Vm();class GS{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Dm(-this._previousScrollPosition.left),t.style.top=Dm(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),WS&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WS&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class ZS{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $S{enable(){}disable(){}attach(){}}function YS(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function KS(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class QS{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();YS(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let JS=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new $S,this.close=t=>new ZS(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new GS(this._viewportRuler,this._document),this.reposition=t=>new QS(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Db),r.LFG(Fb),r.LFG(r.R0b),r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Db),r.LFG(Fb),r.LFG(r.R0b),r.LFG(o))},token:t,providedIn:"root"}),t})();class XS{constructor(t){if(this.scrollStrategy=new $S,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class tC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class eC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nC=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(o))},token:t,providedIn:"root"}),t})(),rC=(()=>{class t extends nC{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(o))},token:t,providedIn:"root"}),t})(),iC=(()=>{class t extends nC{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=Wm(t)},this._clickListener=t=>{const e=Wm(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const s=r[i];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(e)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(Bm))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(o),r.LFG(Bm))},token:t,providedIn:"root"}),t})(),sC=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Gm()){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Gm()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(Bm))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(o),r.LFG(Bm))},token:t,providedIn:"root"}),t})();class oC{constructor(t,e,n,r,i,s,o,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new ji.xQ,this._attachments=new ji.xQ,this._detachments=new ji.xQ,this._locationChanges=Ah.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new ji.xQ,this._outsidePointerEvents=new ji.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Mh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Dm(this._config.width),t.height=Dm(this._config.height),t.minWidth=Dm(this._config.minWidth),t.minHeight=Dm(this._config.minHeight),t.maxWidth=Dm(this._config.maxWidth),t.maxHeight=Dm(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Om(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Nm((0,Vi.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const aC="cdk-overlay-connected-position-bounding-box",lC=/([A-Za-z%]+)$/;class cC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ji.xQ,this._resizeSubscription=Ah.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(aC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&uC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=dC(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=hC(this._overlayRef.getConfig().minHeight),o=hC(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=dC(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),l=Math.max(i.left-n.left-t.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new eC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Dm(n.height),r.top=Dm(n.top),r.bottom=Dm(n.bottom),r.width=Dm(n.width),r.left=Dm(n.left),r.right=Dm(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Dm(t)),i&&(r.maxWidth=Dm(i))}this._lastBoundingBoxSize=n,uC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){uC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){uC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();uC(n,this._getExactOverlayY(e,t,r)),uC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Dm(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Dm(s.maxWidth):i&&(n.maxWidth="")),uC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Dm(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Dm(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KS(t,n),isOriginOutsideView:YS(t,n),isOverlayClipped:KS(e,n),isOverlayOutsideView:YS(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Om(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function uC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hC(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(lC);return n&&"px"!==n?null:parseFloat(e)}return t||null}function dC(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class fC{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new cC(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new tC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const pC="cdk-global-overlay-wrapper";class gC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(pC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let mC=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new gC}connectedTo(t,e,n){return new fC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new cC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Fb),r.LFG(o),r.LFG(Bm),r.LFG(sC))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Fb),r.LFG(o),r.LFG(Bm),r.LFG(sC))},token:t,providedIn:"root"}),t})(),yC=0,_C=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new XS(t);return i.direction=i.direction||this._directionality.value,new oC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+yC++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new zS(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(JS),r.LFG(sC),r.LFG(r._Vd),r.LFG(mC),r.LFG(rC),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(o),r.LFG(dy),r.LFG(w),r.LFG(iC))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const vC={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[_C],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[_C,vC],imports:[[fy,HS,jb],jb]}),t})();function wC(t,e){}class SC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const CC={dialogContainer:yy("dialogContainer",[wy("void, exit",by({opacity:0,transform:"scale(0.7)"})),wy("enter",by({transform:"none"})),Sy("* => enter",_y("150ms cubic-bezier(0, 0, 0.2, 1)",by({transform:"none",opacity:1}))),Sy("* => void, * => exit",_y("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",by({opacity:0})))])};let kC=(()=>{class t extends US{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=Hm(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Hm())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=Hm();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Qm),r.Y36(r.sBO),r.Y36(o,8),r.Y36(SC),r.Y36(oy))},t.\u0275dir=r.lG2({type:t,viewQuery:function(t,e){if(1&t&&r.Gf(VS,7),2&t){let t;r.iGM(t=r.CRH())&&(e._portalOutlet=t.first)}},features:[r.qOj]}),t})(),xC=(()=>{class t extends kC{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Ikx("id",e._id),r.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.d8E("@dialogContainer",e._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.YNc(0,wC,0,0,"ng-template",0)},directives:[VS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[CC.dialogContainer]}}),t})(),AC=0;class EC{constructor(t,e,n="mat-dialog-"+AC++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ji.xQ,this._afterClosed=new ji.xQ,this._beforeClosed=new ji.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe(Lh(t=>"opened"===t.state),Mh(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Lh(t=>"closed"===t.state),Mh(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Lh(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),IC(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():IC(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Lh(t=>"closing"===t.state),Mh(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function IC(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const TC=new r.OlP("MatDialogData"),NC=new r.OlP("mat-dialog-default-options"),PC=new r.OlP("mat-dialog-scroll-strategy"),LC={provide:PC,deps:[_C],useFactory:function(t){return()=>t.scrollStrategies.block()}};let RC=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ji.xQ,this._afterOpenedAtThisLevel=new ji.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=hf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ff(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new SC)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new XS({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:SC,useValue:e}]}),i=new jS(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.Rgc)e.attachTemplatePortal(new qS(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new jS(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(dy,null,r.XFs.Optional)||s.push({provide:dy,useValue:{value:t.direction,change:(0,zi.of)()}}),r.zs3.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_C),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(sC),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},t.\u0275dir=r.lG2({type:t}),t})(),OC=(()=>{class t extends RC{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,EC,xC,TC)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_C),r.LFG(r.zs3),r.LFG(w,8),r.LFG(NC,8),r.LFG(PC),r.LFG(t,12),r.LFG(sC))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),DC=0,FC=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=qC(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){IC(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(EC,8),r.Y36(r.SBq),r.Y36(OC))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e._onButtonClick(t)}),2&t&&r.uIk("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),t})(),MC=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+DC++}ngOnInit(){this._dialogRef||(this._dialogRef=qC(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(EC,8),r.Y36(r.SBq),r.Y36(OC))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Ikx("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),jC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})();function qC(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let BC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[OC,LC],imports:[[bC,HS,sb],sb]}),t})();function UC(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," No. "),r.qZA())}function zC(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.id," ")}}function VC(t,e){1&t&&(r.TgZ(0,"th",19),r._uU(1," Name "),r.qZA())}function HC(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.name," ")}}function WC(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1," Place "),r.qZA())}function GC(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.place," ")}}function ZC(t,e){1&t&&(r.TgZ(0,"th",21),r._uU(1," Action "),r.qZA())}function $C(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().showChat(e)}),r.TgZ(1,"mat-icon"),r._uU(2,"textsms"),r.qZA(),r.qZA()}}function YC(t,e){if(1&t&&(r.TgZ(0,"td",18),r.YNc(1,$C,3,0,"button",22),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngIf",t.sendMsg)}}function KC(t,e){1&t&&r._UZ(0,"tr",24)}function QC(t,e){1&t&&r._UZ(0,"tr",25)}function JC(t,e){1&t&&(r.TgZ(0,"div",39),r._uU(1," The id is required. "),r.qZA())}function XC(t,e){1&t&&(r.TgZ(0,"div",39),r._uU(1," The name is required. "),r.qZA())}function tk(t,e){1&t&&(r.TgZ(0,"div",39),r._uU(1," The place is required. "),r.qZA())}function ek(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"h1",26),r._uU(1,"Add user"),r.qZA(),r.TgZ(2,"mat-dialog-content"),r.TgZ(3,"form",27,28),r.NdJ("ngSubmit",function(){return r.CHM(t),r.oxw().postUser()}),r.TgZ(5,"div",29),r.TgZ(6,"div",30),r.TgZ(7,"label"),r._uU(8,"Id"),r.qZA(),r.TgZ(9,"input",31,32),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().user.id=e}),r.qZA(),r.YNc(11,JC,2,0,"div",33),r.qZA(),r.qZA(),r.TgZ(12,"div",29),r.TgZ(13,"div",30),r.TgZ(14,"label"),r._uU(15,"Name"),r.qZA(),r.TgZ(16,"input",34,35),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().user.name=e}),r.qZA(),r.YNc(18,XC,2,0,"div",33),r.qZA(),r.qZA(),r.TgZ(19,"div",29),r.TgZ(20,"div",30),r.TgZ(21,"label"),r._uU(22,"Place"),r.qZA(),r.TgZ(23,"input",36,37),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().user.place=e}),r.qZA(),r.YNc(25,tk,2,0,"div",33),r.qZA(),r.qZA(),r._UZ(26,"br"),r.TgZ(27,"div",29),r.TgZ(28,"div",30),r.TgZ(29,"button",38),r._uU(30,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.MAs(4),e=r.MAs(10),n=r.MAs(17),i=r.MAs(24),s=r.oxw();r.xp6(9),r.Q6J("ngModel",s.user.id),r.xp6(2),r.Q6J("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),r.xp6(5),r.Q6J("ngModel",s.user.name),r.xp6(2),r.Q6J("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),r.xp6(5),r.Q6J("ngModel",s.user.place),r.xp6(2),r.Q6J("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),r.xp6(4),r.Q6J("disabled",!t.form.valid)}}let nk=(()=>{class t{constructor(t,e){this.userService=t,this.dialog=e,this.displayedColumns=["id","name","place","action"],this.dataSource=new Fw,this.user={};let n=[{name:"dog",line:"adv",order:1},{name:"cet",line:"adv",order:2},{name:"red",line:"zip",order:1},{name:"green",line:"zip",order:2},{name:"elephant",line:"adv",order:3}];n=n.sort((t,e)=>e.name.localeCompare(t.name)),console.log(n,"---test");let r=n.reduce((t,e)=>(t[e.line]=t[e.line]||[],t[e.line].push(e),t),{});console.log(Object.fromEntries(Object.entries(r).sort((t,e)=>e-t)),"---grouped")}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnInit(){this.getUsers(),this.authorName=JSON.parse(localStorage.getItem("user")||"").name}addUser(t){this.dialog.open(t)}postUser(){this.userService.postUser(this.user),this.user={}}getUsers(){this.dataSource.data=[],this.userService.getUser().snapshotChanges().subscribe(t=>{this.dataSource.data=t.map(t=>({key:t.key,...t.payload.val()})),this.dataSource.data.forEach(t=>{t.sendMsg=t.name!=this.authorName})})}showChat(t){this.userOne.loadMessages(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ef),r.Y36(OC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-users"]],viewQuery:function(t,e){if(1&t&&(r.Gf(wb,5),r.Gf(FS,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.sort=t.first),r.iGM(t=r.CRH())&&(e.userOne=t.first)}},decls:24,vars:3,consts:[[1,"body-container"],[1,"addClass"],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","place"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by place",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"margin-top","73px"],["userDialog",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by place"],["mat-header-cell",""],["mat-icon-button","","color","primary","aria-label","Send Message",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","aria-label","Send Message",3,"click"],["mat-header-row",""],["mat-row",""],["matDialogTitle",""],[3,"ngSubmit"],["userForm","ngForm"],[1,"row"],[1,"col-sm-12","form-group"],["type","text","name","id","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","ngModel"],["class","error-message",4,"ngIf"],["name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["type","text","name","place","required","",1,"form-control",3,"ngModel","ngModelChange"],["place","ngModel"],["mat-raised-button","","matDialogClose","","color","primary","type","submit",3,"disabled"],[1,"error-message"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div"),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r.NdJ("click",function(){r.CHM(t);const n=r.MAs(23);return e.addUser(n)}),r._uU(4,"Add User"),r.qZA(),r.qZA(),r.TgZ(5,"table",3),r.ynx(6,4),r.YNc(7,UC,2,0,"th",5),r.YNc(8,zC,2,1,"td",6),r.BQk(),r.ynx(9,7),r.YNc(10,VC,2,0,"th",8),r.YNc(11,HC,2,1,"td",6),r.BQk(),r.ynx(12,9),r.YNc(13,WC,2,0,"th",10),r.YNc(14,GC,2,1,"td",6),r.BQk(),r.ynx(15,11),r.YNc(16,ZC,2,0,"th",12),r.YNc(17,YC,2,1,"td",6),r.BQk(),r.YNc(18,KC,1,0,"tr",13),r.YNc(19,QC,1,0,"tr",14),r.qZA(),r.qZA(),r.TgZ(20,"div",15),r._UZ(21,"app-user"),r.qZA(),r.qZA(),r.YNc(22,ek,31,7,"ng-template",null,16,r.W1O)}2&t&&(r.xp6(5),r.Q6J("dataSource",e.dataSource),r.xp6(13),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns))},directives:[tS,xw,Iw,Ew,Aw,Pw,Lw,FS,Tw,Nw,P,PS,Rw,Ow,MC,jC,Se,Qt,_e,Dt,xe,Kt,we,FC],styles:[".body-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.body-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:52%}.body-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{width:40%}table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:700!important;color:#000!important}table[_ngcontent-%COMP%]{margin:2%;width:45%;background:#ffffe0;position:absolute}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:20px!important}form[_ngcontent-%COMP%]{padding:10px 1px!important}.mat-dialog-content[_ngcontent-%COMP%]{border:1px solid!important;margin:0 1px!important}.error-message[_ngcontent-%COMP%]{color:red}.addClass[_ngcontent-%COMP%]{margin-left:32px}"]}),t})();function rk(t,e){1&t&&(r.TgZ(0,"div",8),r._uU(1," The user name is required. "),r.qZA())}const ik=[{path:"login",component:(()=>{class t{constructor(t,e){this.userService=t,this.router=e,this.userName="",this.isUserFound=!1}ngOnInit(){}login(){let t,e=[];this.userService.getUser().snapshotChanges().subscribe(n=>{e=n.map(t=>({key:t.key,...t.payload.val()})),t=e.filter(t=>t.name.toLowerCase()==this.userName.toLowerCase()),this.userService.isUserExist=(null==t?void 0:t.length)>0,this.userService.isUserExist&&(localStorage.setItem("isUser","true"),localStorage.setItem("user",JSON.stringify(t[0])),this.userService.show(),this.router.navigate([""]))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ef),r.Y36(nm))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:14,vars:3,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"row"],[1,"col-sm-12","form-group"],["type","text","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],["class","error-message",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"error-message"]],template:function(t,e){if(1&t&&(r.TgZ(0,"form",0,1),r.NdJ("ngSubmit",function(){return e.login()}),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"label"),r._uU(5,"User Name"),r.qZA(),r.TgZ(6,"input",4,5),r.NdJ("ngModelChange",function(t){return e.userName=t}),r.qZA(),r.YNc(8,rk,2,0,"div",6),r.qZA(),r.qZA(),r._UZ(9,"br"),r.TgZ(10,"div",2),r.TgZ(11,"div",3),r.TgZ(12,"button",7),r._uU(13,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.MAs(1),n=r.MAs(7);r.xp6(6),r.Q6J("ngModel",e.userName),r.xp6(2),r.Q6J("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),r.xp6(4),r.Q6J("disabled",!t.form.valid)}},directives:[Se,Qt,_e,Dt,xe,Kt,we,P,tS],styles:["form[_ngcontent-%COMP%]{width:300px!important;margin-left:20px!important}"]}),t})()},{path:"user",component:nk,canActivate:[Em]},{path:"",pathMatch:"full",component:nk,canActivate:[Em]},{path:"passData",component:Mi,data:{id:1,name:"xyz"}}];let sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ym.forRoot(ik)],ym]}),t})();function ok(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"nav",2),r.TgZ(1,"div",3),r.TgZ(2,"div",4),r._uU(3," Angular Chat App "),r.qZA(),r.TgZ(4,"ul",5),r.TgZ(5,"li"),r.TgZ(6,"a",6),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"li"),r.TgZ(9,"a",7),r._uU(10,"Route data"),r.qZA(),r.qZA(),r.TgZ(11,"li"),r.TgZ(12,"a",8),r.NdJ("click",function(){return r.CHM(t),r.oxw().logout()}),r._uU(13,"Logout"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.hij("Hello ",t.authorName,"")}}let ak=(()=>{class t{constructor(t,e,n){this.route=t,this.userService=e,this.activatedroute=n,this.title="angular-app-with-expressjs",this.authorName="",this.isUser=!1}ngOnInit(){this.userService.isUserExist=JSON.parse(localStorage.getItem("isUser")||"false"),this.userService.isUserExist&&(this.userService.show(),this.authorName=JSON.parse(localStorage.getItem("user")||"").name)}logout(){this.userService.isUserExist=!1,localStorage.setItem("isUser","false"),localStorage.setItem("user",""),this.userService.hide(),this.route.navigate(["login"])}ngOnDestroy(){this.userService.hide()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(nm),r.Y36(ef),r.Y36(Op))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:4,vars:3,consts:[["class","navbar",4,"ngIf"],[1,"MainContainer"],[1,"navbar"],[1,"container"],[1,"logo"],[1,"nav"],["routerLink","/user","routerLinkActive","active"],["routerLink","/passData","routerLinkActive","active"],[3,"click"]],template:function(t,e){1&t&&(r.YNc(0,ok,14,1,"nav",0),r.ALo(1,"async"),r.TgZ(2,"div",1),r._UZ(3,"router-outlet"),r.qZA()),2&t&&r.Q6J("ngIf",r.lcZ(1,1,e.userService.user$))},directives:[P,am,im,om],pipes:[q],styles:[".container[_ngcontent-%COMP%]{display:flex!important;justify-content:start;margin-left:0!important;max-width:100%!important}.ul[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]{background-color:#3474e6;color:#fff;height:60px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:21px;font-weight:700}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#171819}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;padding:0 30px;display:flex;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}.MainContainer[_ngcontent-%COMP%]{margin:20px}"]}),t})();const lk={apiKey:"AIzaSyACP5ivKM3_JoJ4AnJr2w65lCcvalFTcCI",databaseURL:"https://my-project-2656-d9254-default-rtdb.firebaseio.com/"};let ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Dw,eS,BC,LS,Yw],Dw,eS,BC,LS,Yw]}),t})(),uk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[ak]}),t.\u0275inj=r.cJS({providers:[],imports:[[St,Ee,sk,hs.hO.initializeApp(lk),tf,eb,ck]]}),t})();(0,r.G48)(),bt().bootstrapModule(uk).catch(t=>console.error(t))},6304:(t,e,n)=>{"use strict";function r(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){r(o,i,s,a,l,"next",t)}function l(t){r(o,i,s,a,l,"throw",t)}a(void 0)})}}n.d(e,{Z:()=>i})}},t=>{"use strict";t(t.s=6059)}]);